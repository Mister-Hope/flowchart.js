{"version":3,"sources":["webpack://flowchart.js/./lib/action.js","webpack://flowchart.js/./lib/chart.js","webpack://flowchart.js/./lib/config.js","webpack://flowchart.js/./lib/index.js","webpack://flowchart.js/./lib/parse.js","webpack://flowchart.js/./lib/symbol/condition.js","webpack://flowchart.js/./lib/symbol/end.js","webpack://flowchart.js/./lib/symbol/inputoutput.js","webpack://flowchart.js/./lib/symbol/operation.js","webpack://flowchart.js/./lib/symbol/parallel.js","webpack://flowchart.js/./lib/symbol/start.js","webpack://flowchart.js/./lib/symbol/subroutine.js","webpack://flowchart.js/./lib/symbol/symbol.js","webpack://flowchart.js/./lib/util.js","webpack://flowchart.js/./node_modules/tslib/tslib.es6.js","webpack://flowchart.js/external \"Raphael\"","webpack://flowchart.js/webpack/bootstrap","webpack://flowchart.js/webpack/runtime/define property getters","webpack://flowchart.js/webpack/runtime/hasOwnProperty shorthand","webpack://flowchart.js/webpack/runtime/make namespace object","webpack://flowchart.js/webpack/startup"],"names":["Object","defineProperty","exports","value","checkLineIntersection","drawLine","drawPath","chart","location","points","path","i","length","pathValues","x","y","push","symbol","paper","attr","options","font","fontFamily","fontWeight","from","to","text","line","stroke","textPath","textAnchor","isHorizontal","firstTo","fill","line1StartX","line1StartY","line1EndX","line1EndY","line2StartX","line2StartY","line2EndX","line2EndY","result","onLine1","onLine2","denominator","yDistance","xDistance","a","b","tslib_1","raphael_1","__importDefault","util_1","config_1","condition_1","parallel_1","FlowChart","prototype","handle","_this","this","symbols","indexOf","default","yes","nextSymbol","yes_symbol","no_symbol","pathOk","no","path1","path1_symbol","path2_symbol","path2","path3_symbol","path3","then","next","startWith","start","render","maxWidth","maxHeight","maxX","maxY","minX","minY","forEach","width","height","shiftX","shiftY","renderLines","maxXFromLine","leftX","getX","getY","index","length_1","lines","getBBox","x2","y2","scale","lineWidth","minXFromSymbols","setSize","setViewBox","clean","paperDom","canvas","parentNode","removeChild","container","deepAssign","defaultConfig","class","end","condition","inputoutput","operation","subroutine","parallel","flowChart","parse","window","flowchart","module","getSymbol","startIndex","endIndex","substring","chart_1","end_1","inputoutput_1","operation_1","start_1","subroutine_1","diagram","drawSVG","dispSymbols","constructChart","prevDisp","prev","dispSymb","key","symbolType","Error","getDisplaySymbol","input","prevBreak","replace","substr","length_2","currentLine","splice","getLines","trim","sub","txtAndState","parts","split","link","target","flowstate","function","lineStyle","params","match","entries","entry","shift","join","pop","ann","tmp","tmpSplit","getAnnotation","flowSymbols","iS","lenS","flowSymb","symbVal","nextSymb","realSymb","direction","condOpt","yes_annotation","no_annotation","curSymb","lineStyleSymbols","iSS","lenSS","JSON","_super","symbol_1","action_1","Condition","__extends","yes_direction","no_direction","bottomPoint","shift_1","leftPoint","shift_2","lineLength","getAttr","bottom_symbol","getBottom","isPositioned","setX","right_symbol","rightPoint","getRight","setY","group","hasSymbolUnder","diff","Math","abs","getCenter","left_symbol","getLeft","len","drawLineTo","call","textMargin","yesDirection","direction_yes","noDirection","direction_no","startX","startY","max","node","id","setAttribute","insertBefore","initialize","End","rect","InputOutput","Operation","Parallel","path1_direction","path2_direction","path3_direction","topPoint","top_symbol","getTop","symb","direction_next","direction_path1","direction_path2","direction_path3","Start","Subroutine","innerWrap","fontF","fontW","FlowChartSymbol","attName","opt3","undefined","opt2","opt1","transform","self_1","lineLength_1","next_direction","connectedTo","yOffset","right","bottom","top","left","symbolX","symbolY","symbolTop","symbolRight","symbolLeft","isOnSameColumn","isOnSameLine","isUnder","isUpper","isLeft","isRight","lineWith","topLines","rightLines","rightStart","topEnd","bottomLines","bottomStart","diffX","leftLines","leftStart","topStart","leftEnd","rightEnd","l","llen","ePath","lPath","iP","lenP","newPath","line1FromX","line1FromY","line1ToX","line1ToY","lP","lenlP","newLinePath","line2FromX","line2FromY","line2ToX","line2ToY","res","newSegment","set","cursor","addEventListener","event","words","tempText","word","tmpMargin","originObject","assignObjects","_i","arguments","assignObject","keys","property","Array","isArray","__spreadArrays","__assign","apply","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","assign","t","s","n","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","__generator","body","f","_","label","sent","trys","ops","g","verb","Symbol","iterator","v","op","TypeError","__createBinding","o","m","k","k2","__exportStar","__values","__read","ar","error","__spread","concat","il","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","Raphael","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","definition","enumerable","obj","prop","toStringTag"],"mappings":"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","file":"flowchart.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.checkLineIntersection = exports.drawLine = exports.drawPath = void 0;\r\nexports.drawPath = function (chart, location, points) {\r\n    var path = \"M{0},{1}\";\r\n    for (var i = 2; i < 2 * points.length + 2; i += 2)\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    var pathValues = [location.x, location.y];\r\n    for (var i = 0; i < points.length; i++)\r\n        pathValues.push(points[i].x, points[i].y);\r\n    var symbol = chart.paper.path(path, pathValues);\r\n    symbol.attr(\"stroke\", chart.options[\"element-color\"]);\r\n    symbol.attr(\"stroke-width\", chart.options[\"line-width\"]);\r\n    var font = chart.options.font;\r\n    var fontFamily = chart.options[\"font-family\"];\r\n    var fontWeight = chart.options[\"font-weight\"];\r\n    if (font)\r\n        symbol.attr({ font: font });\r\n    if (fontFamily)\r\n        symbol.attr({ \"font-family\": fontFamily });\r\n    if (fontWeight)\r\n        symbol.attr({ \"font-weight\": fontWeight });\r\n    return symbol;\r\n};\r\nexports.drawLine = function (chart, from, to, text) {\r\n    var path = \"M{0},{1}\";\r\n    for (var i = 2; i < 2 * to.length + 2; i += 2)\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    var pathValues = [from.x, from.y];\r\n    for (var i = 0; i < to.length; i++)\r\n        pathValues.push(to[i].x, to[i].y);\r\n    var line = chart.paper.path(path, pathValues);\r\n    line.attr({\r\n        stroke: chart.options[\"line-color\"],\r\n        \"stroke-width\": chart.options[\"line-width\"],\r\n        \"arrow-end\": chart.options[\"arrow-end\"],\r\n    });\r\n    var font = chart.options.font;\r\n    var fontFamily = chart.options[\"font-family\"];\r\n    var fontWeight = chart.options[\"font-weight\"];\r\n    if (font)\r\n        line.attr({ font: font });\r\n    if (fontFamily)\r\n        line.attr({ \"font-family\": fontFamily });\r\n    if (fontWeight)\r\n        line.attr({ \"font-weight\": fontWeight });\r\n    if (text) {\r\n        var centerText = false;\r\n        var textPath = chart.paper.text(0, 0, text);\r\n        var textAnchor = \"start\";\r\n        var isHorizontal = false;\r\n        var firstTo = to[0];\r\n        if (from.y === firstTo.y)\r\n            isHorizontal = true;\r\n        var x = 0, y = 0;\r\n        if (centerText) {\r\n            if (from.x > firstTo.x)\r\n                x = from.x - (from.x - firstTo.x) / 2;\r\n            else\r\n                x = firstTo.x - (firstTo.x - from.x) / 2;\r\n            if (from.y > firstTo.y)\r\n                y = from.y - (from.y - firstTo.y) / 2;\r\n            else\r\n                y = firstTo.y - (firstTo.y - from.y) / 2;\r\n            if (isHorizontal) {\r\n                x -= textPath.getBBox().width / 2;\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"];\r\n                y -= textPath.getBBox().height / 2;\r\n            }\r\n        }\r\n        else {\r\n            x = from.x;\r\n            y = from.y;\r\n            if (isHorizontal) {\r\n                if (from.x > firstTo.x) {\r\n                    x -= chart.options[\"text-margin\"] / 2;\r\n                    textAnchor = \"end\";\r\n                }\r\n                else\r\n                    x += chart.options[\"text-margin\"] / 2;\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"] / 2;\r\n                y += chart.options[\"text-margin\"];\r\n                if (from.y > firstTo.y)\r\n                    y -= chart.options[\"text-margin\"] * 2;\r\n            }\r\n        }\r\n        textPath.attr({\r\n            \"text-anchor\": textAnchor,\r\n            \"font-size\": chart.options[\"font-size\"],\r\n            fill: chart.options[\"font-color\"],\r\n            x: x,\r\n            y: y,\r\n        });\r\n        if (font)\r\n            textPath.attr({ font: font });\r\n        if (fontFamily)\r\n            textPath.attr({ \"font-family\": fontFamily });\r\n        if (fontWeight)\r\n            textPath.attr({ \"font-weight\": fontWeight });\r\n    }\r\n    return line;\r\n};\r\nexports.checkLineIntersection = function (line1StartX, line1StartY, line1EndX, line1EndY, line2StartX, line2StartY, line2EndX, line2EndY) {\r\n    // if the lines intersect, the result contains the x and y of the intersection (treating the lines as infinite) and booleans for whether line segment 1 or line segment 2 contain the point\r\n    var result = {\r\n        x: null,\r\n        y: null,\r\n        onLine1: false,\r\n        onLine2: false,\r\n    };\r\n    var denominator = (line2EndY - line2StartY) * (line1EndX - line1StartX) -\r\n        (line2EndX - line2StartX) * (line1EndY - line1StartY);\r\n    if (denominator === 0)\r\n        return result;\r\n    var yDistance = line1StartY - line2StartY;\r\n    var xDistance = line1StartX - line2StartX;\r\n    var numerator1 = (line2EndX - line2StartX) * yDistance -\r\n        (line2EndY - line2StartY) * xDistance;\r\n    var numerator2 = (line1EndX - line1StartX) * yDistance -\r\n        (line1EndY - line1StartY) * xDistance;\r\n    var a = numerator1 / denominator;\r\n    var b = numerator2 / denominator;\r\n    // if we cast these lines infinitely in both directions, they intersect here:\r\n    result.x = line1StartX + a * (line1EndX - line1StartX);\r\n    result.y = line1StartY + a * (line1EndY - line1StartY);\r\n    /*\r\n    // it is worth noting that this should be the same as:\r\n    x = line2StartX + (b * (line2EndX - line2StartX));\r\n    y = line2StartX + (b * (line2EndY - line2StartY));\r\n    */\r\n    // if line1 is a segment and line2 is infinite, they intersect if:\r\n    if (a > 0 && a < 1)\r\n        result.onLine1 = true;\r\n    // if line2 is a segment and line1 is infinite, they intersect if:\r\n    if (b > 0 && b < 1)\r\n        result.onLine2 = true;\r\n    // if line1 and line2 are segments, they intersect if both of the above are true\r\n    return result;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar raphael_1 = tslib_1.__importDefault(require(\"raphael\"));\r\nvar util_1 = require(\"./util\");\r\nvar config_1 = require(\"./config\");\r\nvar condition_1 = tslib_1.__importDefault(require(\"./symbol/condition\"));\r\nvar parallel_1 = tslib_1.__importDefault(require(\"./symbol/parallel\"));\r\nvar FlowChart = /** @class */ (function () {\r\n    function FlowChart(container, options) {\r\n        this.paper = new raphael_1.default(container);\r\n        this.options = util_1.deepAssign(options, config_1.defaultConfig);\r\n        this.symbols = [];\r\n        this.lines = [];\r\n        this.start = null;\r\n    }\r\n    FlowChart.prototype.handle = function (symbol) {\r\n        var _this = this;\r\n        if (this.symbols.indexOf(symbol) <= -1)\r\n            this.symbols.push(symbol);\r\n        if (symbol instanceof condition_1.default) {\r\n            symbol.yes = function (nextSymbol) {\r\n                symbol.yes_symbol = nextSymbol;\r\n                if (symbol.no_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n            symbol.no = function (nextSymbol) {\r\n                symbol.no_symbol = nextSymbol;\r\n                if (symbol.yes_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n        }\r\n        else if (symbol instanceof parallel_1.default) {\r\n            symbol.path1 = function (nextSymbol) {\r\n                symbol.path1_symbol = nextSymbol;\r\n                if (symbol.path2_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n            symbol.path2 = function (nextSymbol) {\r\n                symbol.path2_symbol = nextSymbol;\r\n                if (symbol.path3_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n            symbol.path3 = function (nextSymbol) {\r\n                symbol.path3_symbol = nextSymbol;\r\n                if (symbol.path1_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n        }\r\n        else\r\n            symbol.then = function (nextSymbol) {\r\n                symbol.next = nextSymbol;\r\n                symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n        return symbol;\r\n    };\r\n    FlowChart.prototype.startWith = function (symbol) {\r\n        this.start = symbol;\r\n        return this.handle(symbol);\r\n    };\r\n    FlowChart.prototype.render = function () {\r\n        var _this = this;\r\n        var maxWidth = 0, maxHeight = 0, maxX = 0, maxY = 0, minX = 0, minY = 0, line;\r\n        this.symbols.forEach(function (symbol) {\r\n            if (symbol.width > maxWidth)\r\n                maxWidth = symbol.width;\r\n            if (symbol.height > maxHeight)\r\n                maxHeight = symbol.height;\r\n        });\r\n        this.symbols.forEach(function (symbol) {\r\n            symbol.shiftX(_this.options.x +\r\n                (maxWidth - symbol.width) / 2 +\r\n                _this.options[\"line-width\"]);\r\n            symbol.shiftY(_this.options.y +\r\n                (maxHeight - symbol.height) / 2 +\r\n                _this.options[\"line-width\"]);\r\n        });\r\n        this.start.render();\r\n        this.symbols.forEach(function (symbol) {\r\n            symbol.renderLines();\r\n        });\r\n        maxX = this.maxXFromLine;\r\n        var x;\r\n        var y;\r\n        this.symbols.forEach(function (symbol) {\r\n            var leftX = symbol.getX();\r\n            x = leftX + symbol.width;\r\n            y = symbol.getY() + symbol.height;\r\n            if (leftX < minX)\r\n                minX = leftX;\r\n            if (x > maxX)\r\n                maxX = x;\r\n            if (y > maxY)\r\n                maxY = y;\r\n        });\r\n        for (var index = 0, length_1 = this.lines.length; index < length_1; index++) {\r\n            line = this.lines[index].getBBox();\r\n            x = line.x;\r\n            y = line.y;\r\n            var x2 = line.x2;\r\n            var y2 = line.y2;\r\n            if (x < minX)\r\n                minX = x;\r\n            if (y < minY)\r\n                minY = y;\r\n            if (x2 > maxX)\r\n                maxX = x2;\r\n            if (y2 > maxY)\r\n                maxY = y2;\r\n        }\r\n        var scale = this.options[\"scale\"];\r\n        var lineWidth = this.options[\"line-width\"];\r\n        if (this.minXFromSymbols < minX)\r\n            minX = this.minXFromSymbols;\r\n        if (minX < 0)\r\n            minX -= lineWidth;\r\n        if (minY < 0)\r\n            minY -= lineWidth;\r\n        var width = maxX + lineWidth - minX;\r\n        var height = maxY + lineWidth - minY;\r\n        this.paper.setSize(width * scale, height * scale);\r\n        this.paper.setViewBox(minX, minY, width, height, true);\r\n    };\r\n    FlowChart.prototype.clean = function () {\r\n        if (this.paper) {\r\n            var paperDom = this.paper.canvas;\r\n            if (paperDom.parentNode)\r\n                paperDom.parentNode.removeChild(paperDom);\r\n        }\r\n    };\r\n    return FlowChart;\r\n}());\r\nexports.default = FlowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.defaultConfig = void 0;\r\nexports.defaultConfig = {\r\n    x: 0,\r\n    y: 0,\r\n    \"text-margin\": 10,\r\n    \"font-size\": 14,\r\n    \"font-color\": \"black\",\r\n    // 'font': 'normal',\r\n    // 'font-family': 'calibri',\r\n    // 'font-weight': 'normal',\r\n    \"line-width\": 3,\r\n    \"line-length\": 50,\r\n    \"line-color\": \"black\",\r\n    \"element-color\": \"black\",\r\n    fill: \"white\",\r\n    \"yes-text\": \"yes\",\r\n    \"no-text\": \"no\",\r\n    \"arrow-end\": \"block\",\r\n    class: \"flowchart\",\r\n    scale: 1,\r\n    symbols: {\r\n        start: {},\r\n        end: {},\r\n        condition: {},\r\n        inputoutput: {},\r\n        operation: {},\r\n        subroutine: {},\r\n        parallel: {},\r\n    },\r\n};\r\n","\"use strict\";\r\nvar parse_1 = require(\"./parse\");\r\nvar flowChart = { parse: parse_1.parse };\r\nif (typeof window !== \"undefined\") {\r\n    window.flowchart = flowChart;\r\n}\r\nmodule.exports = flowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parse = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nvar chart_1 = tslib_1.__importDefault(require(\"./chart\"));\r\nvar condition_1 = tslib_1.__importDefault(require(\"./symbol/condition\"));\r\nvar end_1 = tslib_1.__importDefault(require(\"./symbol/end\"));\r\nvar inputoutput_1 = tslib_1.__importDefault(require(\"./symbol/inputoutput\"));\r\nvar operation_1 = tslib_1.__importDefault(require(\"./symbol/operation\"));\r\nvar parallel_1 = tslib_1.__importDefault(require(\"./symbol/parallel\"));\r\nvar start_1 = tslib_1.__importDefault(require(\"./symbol/start\"));\r\nvar subroutine_1 = tslib_1.__importDefault(require(\"./symbol/subroutine\"));\r\nvar chart = {\r\n    symbols: {},\r\n    start: null,\r\n    diagram: null,\r\n    drawSVG: function (container, options) {\r\n        var _this = this;\r\n        var self = this;\r\n        if (this.diagram)\r\n            this.diagram.clean();\r\n        var diagram = new chart_1.default(container, options);\r\n        this.diagram = diagram;\r\n        var dispSymbols = {};\r\n        var getDisplaySymbol = function (options) {\r\n            if (dispSymbols[options.key])\r\n                return dispSymbols[options.key];\r\n            switch (options.symbolType) {\r\n                case \"start\":\r\n                    dispSymbols[options.key] = new start_1.default(diagram, options);\r\n                    break;\r\n                case \"end\":\r\n                    dispSymbols[options.key] = new end_1.default(diagram, options);\r\n                    break;\r\n                case \"operation\":\r\n                    dispSymbols[options.key] = new operation_1.default(diagram, options);\r\n                    break;\r\n                case \"inputoutput\":\r\n                    dispSymbols[options.key] = new inputoutput_1.default(diagram, options);\r\n                    break;\r\n                case \"subroutine\":\r\n                    dispSymbols[options.key] = new subroutine_1.default(diagram, options);\r\n                    break;\r\n                case \"condition\":\r\n                    dispSymbols[options.key] = new condition_1.default(diagram, options);\r\n                    break;\r\n                case \"parallel\":\r\n                    dispSymbols[options.key] = new parallel_1.default(diagram, options);\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Wrong symbol type!\");\r\n            }\r\n            return dispSymbols[options.key];\r\n        };\r\n        var constructChart = function (symbol, prevDisp, prev) {\r\n            var dispSymb = getDisplaySymbol(symbol);\r\n            if (_this.start === symbol)\r\n                diagram.startWith(dispSymb);\r\n            else if (prevDisp && prev && !prevDisp.pathOk) {\r\n                if (prevDisp instanceof condition_1.default) {\r\n                    if (prev.yes === symbol)\r\n                        prevDisp.yes(dispSymb);\r\n                    if (prev.no === symbol)\r\n                        prevDisp.no(dispSymb);\r\n                }\r\n                else if (prevDisp instanceof parallel_1.default) {\r\n                    if (prev.path1 === symbol)\r\n                        prevDisp.path1(dispSymb);\r\n                    if (prev.path2 === symbol)\r\n                        prevDisp.path2(dispSymb);\r\n                    if (prev.path3 === symbol)\r\n                        prevDisp.path3(dispSymb);\r\n                }\r\n                else\r\n                    prevDisp.then(dispSymb);\r\n            }\r\n            if (dispSymb.pathOk)\r\n                return dispSymb;\r\n            if (dispSymb instanceof condition_1.default) {\r\n                if (symbol.yes)\r\n                    constructChart(symbol.yes, dispSymb, symbol);\r\n                if (symbol.no)\r\n                    constructChart(symbol.no, dispSymb, symbol);\r\n            }\r\n            else if (dispSymb instanceof parallel_1.default) {\r\n                if (symbol.path1)\r\n                    constructChart(symbol.path1, dispSymb, symbol);\r\n                if (symbol.path2)\r\n                    constructChart(symbol.path2, dispSymb, symbol);\r\n                if (symbol.path3)\r\n                    constructChart(symbol.path3, dispSymb, symbol);\r\n            }\r\n            else if (symbol.next)\r\n                constructChart(symbol.next, dispSymb, symbol);\r\n            return dispSymb;\r\n        };\r\n        constructChart(this.start);\r\n        diagram.render();\r\n    },\r\n    clean: function () {\r\n        this.diagram.clean();\r\n    },\r\n    options: function () {\r\n        return this.diagram.options;\r\n    },\r\n};\r\nvar getLines = function (input) {\r\n    var lines = [];\r\n    var prevBreak = 0;\r\n    for (var index = 1, length_1 = input.length; index < length_1; index++)\r\n        if (input[index] === \"\\n\" && input[index - 1] !== \"\\\\\") {\r\n            var line = input.substring(prevBreak, index);\r\n            prevBreak = index + 1;\r\n            lines.push(line.replace(/\\\\\\n/g, \"\\n\"));\r\n        }\r\n    if (prevBreak < input.length)\r\n        lines.push(input.substr(prevBreak));\r\n    for (var index = 1, length_2 = lines.length; index < length_2;) {\r\n        var currentLine = lines[index];\r\n        if (currentLine.indexOf(\"->\") < 0 &&\r\n            currentLine.indexOf(\"=>\") < 0 &&\r\n            currentLine.indexOf(\"@>\") < 0) {\r\n            lines[index - 1] += \"\\n\" + currentLine;\r\n            lines.splice(index, 1);\r\n            length_2--;\r\n        }\r\n        else\r\n            index++;\r\n    }\r\n    return lines;\r\n};\r\nvar getStyle = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return line.substring(startIndex, endIndex);\r\n    return \"{}\";\r\n};\r\nvar getSymbolValue = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return line.substring(startIndex, endIndex);\r\n    return \"\";\r\n};\r\nvar getSymbol = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return chart.symbols[line.substring(0, startIndex - 1)];\r\n    return chart.symbols[line];\r\n};\r\nvar getAnnotation = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1, endIndex = line.indexOf(\")\");\r\n    var tmp = line.substring(startIndex, endIndex);\r\n    if (tmp.indexOf(\",\") > 0) {\r\n        tmp = tmp.substring(0, tmp.indexOf(\",\"));\r\n    }\r\n    var tmpSplit = tmp.split(\"@\");\r\n    return tmpSplit.length > 1\r\n        ? startIndex >= 0 && endIndex >= 0\r\n            ? tmpSplit[1]\r\n            : \"\"\r\n        : \"\";\r\n};\r\nexports.parse = function (input) {\r\n    if (input === void 0) { input = \"\"; }\r\n    var lines = getLines(input.trim());\r\n    var getNextPath = function (line) {\r\n        var next = \"next\";\r\n        var startIndex = line.indexOf(\"(\") + 1;\r\n        var endIndex = line.indexOf(\")\");\r\n        if (startIndex >= 0 && endIndex >= 0) {\r\n            next = flowSymb.substring(startIndex, endIndex);\r\n            if (next.indexOf(\",\") < 0)\r\n                if (next !== \"yes\" && next !== \"no\")\r\n                    next = \"next, \" + next;\r\n        }\r\n        return next;\r\n    };\r\n    while (lines.length > 0) {\r\n        var line = lines.splice(0, 1)[0].trim();\r\n        if (line.indexOf(\"=>\") >= 0) {\r\n            // definition\r\n            var parts = line.split(\"=>\");\r\n            var symbol = {\r\n                key: parts[0].replace(/\\(.*\\)/, \"\"),\r\n                symbolType: parts[1],\r\n                text: null,\r\n                link: null,\r\n                target: null,\r\n                flowstate: null,\r\n                function: null,\r\n                lineStyle: {},\r\n                params: {},\r\n            };\r\n            //parse parameters\r\n            var params = parts[0].match(/\\((.*)\\)/);\r\n            if (params && params.length > 1) {\r\n                var entries = params[1].split(\",\");\r\n                for (var i = 0; i < entries.length; i++) {\r\n                    var entry = entries[i].split(\"=\");\r\n                    if (entry.length == 2) {\r\n                        symbol.params[entry[0]] = entry[1];\r\n                    }\r\n                }\r\n            }\r\n            var sub;\r\n            if (symbol.symbolType.indexOf(\": \") >= 0) {\r\n                sub = symbol.symbolType.split(\": \");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.text = sub.join(\": \");\r\n            }\r\n            if (symbol.text && symbol.text.indexOf(\":$\") >= 0) {\r\n                sub = symbol.text.split(\":$\");\r\n                symbol.text = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":$\") >= 0) {\r\n                sub = symbol.symbolType.split(\":$\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.text && symbol.text.indexOf(\":>\") >= 0) {\r\n                sub = symbol.text.split(\":>\");\r\n                symbol.text = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":>\") >= 0) {\r\n                sub = symbol.symbolType.split(\":>\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            if (symbol.symbolType.indexOf(\"\\n\") >= 0) {\r\n                symbol.symbolType = symbol.symbolType.split(\"\\n\")[0];\r\n            }\r\n            /* adding support for links */\r\n            if (symbol.link) {\r\n                var startIndex = symbol.link.indexOf(\"[\") + 1;\r\n                var endIndex = symbol.link.indexOf(\"]\");\r\n                if (startIndex >= 0 && endIndex >= 0) {\r\n                    symbol.target = symbol.link.substring(startIndex, endIndex);\r\n                    symbol.link = symbol.link.substring(0, startIndex - 1);\r\n                }\r\n            }\r\n            /* end of link support */\r\n            /* adding support for flowstates */\r\n            if (symbol.text) {\r\n                if (symbol.text.indexOf(\"|\") >= 0) {\r\n                    var txtAndState = symbol.text.split(\"|\");\r\n                    symbol.flowstate = txtAndState.pop().trim();\r\n                    symbol.text = txtAndState.join(\"|\");\r\n                }\r\n            }\r\n            /* end of flowstate support */\r\n            chart.symbols[symbol.key] = symbol;\r\n        }\r\n        else if (line.indexOf(\"->\") >= 0) {\r\n            var ann = getAnnotation(line);\r\n            if (ann) {\r\n                line = line.replace(\"@\" + ann, \"\");\r\n            }\r\n            // flow\r\n            var flowSymbols = line.split(\"->\");\r\n            for (var iS = 0, lenS = flowSymbols.length; iS < lenS; iS++) {\r\n                var flowSymb = flowSymbols[iS];\r\n                var symbVal = getSymbolValue(flowSymb);\r\n                if (symbVal === \"true\" || symbVal === \"false\") {\r\n                    // map true or false to yes or no respectively\r\n                    flowSymb = flowSymb.replace(\"true\", \"yes\");\r\n                    flowSymb = flowSymb.replace(\"false\", \"no\");\r\n                }\r\n                var next = getNextPath(flowSymb);\r\n                var realSymb = getSymbol(flowSymb);\r\n                var direction = null;\r\n                if (next.indexOf(\",\") >= 0) {\r\n                    var condOpt = next.split(\",\");\r\n                    next = condOpt[0];\r\n                    direction = condOpt[1].trim();\r\n                }\r\n                if (ann) {\r\n                    if (next == \"yes\" || next == \"true\")\r\n                        realSymb.yes_annotation = ann;\r\n                    else\r\n                        realSymb.no_annotation = ann;\r\n                    ann = null;\r\n                }\r\n                if (!chart.start) {\r\n                    chart.start = realSymb;\r\n                }\r\n                if (iS + 1 < lenS) {\r\n                    var nextSymb = flowSymbols[iS + 1];\r\n                    realSymb[next] = getSymbol(nextSymb);\r\n                    realSymb[\"direction_\" + next] = direction;\r\n                    direction = null;\r\n                }\r\n            }\r\n        }\r\n        else if (line.indexOf(\"@>\") >= 0) {\r\n            // line style\r\n            var lineStyleSymbols = line.split(\"@>\");\r\n            for (var iSS = 0, lenSS = lineStyleSymbols.length; iSS < lenSS; iSS++) {\r\n                if (iSS + 1 !== lenSS) {\r\n                    var curSymb = getSymbol(lineStyleSymbols[iSS]);\r\n                    var nextSymbol = getSymbol(lineStyleSymbols[iSS + 1]);\r\n                    curSymb[\"lineStyle\"][nextSymbol.key] = JSON.parse(getStyle(lineStyleSymbols[iSS + 1]));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return chart;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar symbol_1 = tslib_1.__importDefault(require(\"./symbol\"));\r\nvar action_1 = require(\"../action\");\r\nvar Condition = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Condition, _super);\r\n    function Condition(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.yes_annotation = options.yes_annotation;\r\n        _this.no_annotation = options.no_annotation;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.params = options.params;\r\n        var yesDirection = options.direction_yes, noDirection = options.direction_no;\r\n        if (!noDirection && yesDirection === \"right\")\r\n            noDirection = \"bottom\";\r\n        else if (!yesDirection && noDirection === \"bottom\")\r\n            yesDirection = \"right\";\r\n        _this.yes_direction = yesDirection || \"bottom\";\r\n        _this.no_direction = noDirection || \"right\";\r\n        _this.text.attr({ x: _this.textMargin * 2 });\r\n        var width = _this.text.getBBox().width + 3 * _this.textMargin;\r\n        width += width / 2;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        height += height / 2;\r\n        height = Math.max(width * 0.5, height);\r\n        var startX = width / 4;\r\n        var startY = height / 4;\r\n        _this.text.attr({\r\n            x: startX + _this.textMargin / 2,\r\n        });\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 + height / 2,\r\n            },\r\n            { x: startX - width / 4 + width, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 - height / 2,\r\n            },\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link)\r\n            symbol.attr(\"href\", options.link);\r\n        if (options.target)\r\n            symbol.attr(\"target\", options.target);\r\n        if (options.key)\r\n            symbol.node.id = options.key;\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({\r\n            y: symbol.getBBox().height / 2,\r\n        });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Condition.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.yes_direction)\r\n            this[this.yes_direction + \"_symbol\"] = this.yes_symbol;\r\n        if (this.no_direction)\r\n            this[this.no_direction + \"_symbol\"] = this.no_symbol;\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                var shift_1 = function () {\r\n                    var hasSymbolUnder = false;\r\n                    var symbol;\r\n                    for (var index = 0; index < _this.chart.symbols.length; index++) {\r\n                        symbol = _this.chart.symbols[index];\r\n                        if (!_this.params[\"align-next\"] ||\r\n                            _this.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symbol.getCenter().x - _this.right_symbol.getCenter().x);\r\n                            if (symbol.getCenter().y > _this.right_symbol.getCenter().y &&\r\n                                diff <= _this.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (_this.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        _this.right_symbol.setX(symbol.getX() + symbol.width + lineLength);\r\n                        shift_1();\r\n                    }\r\n                };\r\n                shift_1();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                var shift_2 = function () {\r\n                    var hasSymbolUnder = false;\r\n                    var symbol;\r\n                    for (var i = 0, len = _this.chart.symbols.length; i < len; i++) {\r\n                        symbol = _this.chart.symbols[i];\r\n                        if (!_this.params[\"align-next\"] ||\r\n                            _this.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symbol.getCenter().x - _this.left_symbol.getCenter().x);\r\n                            if (symbol.getCenter().y > _this.left_symbol.getCenter().y &&\r\n                                diff <= _this.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (_this.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        _this.left_symbol.setX(symbol.getX() + symbol.width + lineLength);\r\n                        shift_2();\r\n                    }\r\n                };\r\n                shift_2();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.renderLines = function () {\r\n        if (this.yes_symbol)\r\n            this.drawLineTo(this.yes_symbol, this.yes_annotation || this.getAttr(\"yes-text\"), this.yes_direction);\r\n        if (this.no_symbol)\r\n            this.drawLineTo(this.no_symbol, this.no_annotation || this.getAttr(\"yes-text\"), this.no_direction);\r\n    };\r\n    return Condition;\r\n}(symbol_1.default));\r\nexports.default = Condition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar symbol_1 = tslib_1.__importDefault(require(\"./symbol\"));\r\nvar End = /** @class */ (function (_super) {\r\n    tslib_1.__extends(End, _super);\r\n    function End(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return End;\r\n}(symbol_1.default));\r\nexports.default = End;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar symbol_1 = tslib_1.__importDefault(require(\"./symbol\"));\r\nvar action_1 = require(\"../action\");\r\nvar InputOutput = /** @class */ (function (_super) {\r\n    tslib_1.__extends(InputOutput, _super);\r\n    function InputOutput(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.text.attr({ x: _this.textMargin * 3 });\r\n        var width = _this.text.getBBox().width + 4 * _this.textMargin;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        var startX = _this.textMargin;\r\n        var startY = height / 2;\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - _this.textMargin, y: height },\r\n            { x: startX - _this.textMargin + width, y: height },\r\n            { x: startX - _this.textMargin + width + 2 * _this.textMargin, y: 0 },\r\n            { x: startX - _this.textMargin + 2 * _this.textMargin, y: 0 },\r\n            { x: startX, y: startY },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link)\r\n            symbol.attr(\"href\", options.link);\r\n        if (options.target)\r\n            symbol.attr(\"target\", options.target);\r\n        if (options.key)\r\n            symbol.node.id = options.key;\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({ y: symbol.getBBox().height / 2 });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    InputOutput.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    InputOutput.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width - this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    return InputOutput;\r\n}(symbol_1.default));\r\nexports.default = InputOutput;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar symbol_1 = tslib_1.__importDefault(require(\"./symbol\"));\r\nvar Operation = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Operation, _super);\r\n    function Operation(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 0);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Operation;\r\n}(symbol_1.default));\r\nexports.default = Operation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar symbol_1 = tslib_1.__importDefault(require(\"./symbol\"));\r\nvar Parallel = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Parallel, _super);\r\n    function Parallel(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.path1_direction = \"bottom\";\r\n        _this.path2_direction = \"right\";\r\n        _this.path3_direction = \"top\";\r\n        _this.params = options.params;\r\n        if (options.direction_next === \"path1\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path2\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path3\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.path1 &&\r\n            options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path1 === \"right\") {\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path1_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path1 === \"top\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"top\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else if (options.direction_path1 === \"left\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"left\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"left\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"top\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"left\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else {\r\n            _this.path1_direction = options.direction_path1;\r\n            _this.path2_direction = options.direction_path2;\r\n            _this.path3_direction = options.direction_path3;\r\n        }\r\n        _this.path1_direction = _this.path1_direction || \"bottom\";\r\n        _this.path2_direction = _this.path2_direction || \"right\";\r\n        _this.path3_direction = _this.path3_direction || \"top\";\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Parallel.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.path1_direction)\r\n            this[this.path1_direction + \"_symbol\"] = this.path1_symbol;\r\n        if (this.path2_direction)\r\n            this[this.path2_direction + \"_symbol\"] = this.path2_symbol;\r\n        if (this.path3_direction)\r\n            this[this.path3_direction + \"_symbol\"] = this.path3_symbol;\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.top_symbol) {\r\n            var topPoint = this.getTop();\r\n            if (!this.top_symbol.isPositioned) {\r\n                this.top_symbol.shiftY(this.getY() - this.top_symbol.height - lineLength);\r\n                this.top_symbol.setX(topPoint.x + this.top_symbol.width);\r\n                this.top_symbol.isPositioned = true;\r\n                this.top_symbol.render();\r\n            }\r\n        }\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                var shift_1 = function () {\r\n                    var hasSymbolUnder = false;\r\n                    var symbol;\r\n                    for (var index = 0; index < _this.chart.symbols.length; index++) {\r\n                        symbol = _this.chart.symbols[index];\r\n                        if (!_this.params[\"align-next\"] ||\r\n                            _this.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symbol.getCenter().x - _this.left_symbol.getCenter().x);\r\n                            if (symbol.getCenter().y > _this.left_symbol.getCenter().y &&\r\n                                diff <= _this.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (_this.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        _this.left_symbol.setX(symbol.getX() + symbol.width + lineLength);\r\n                        shift_1();\r\n                    }\r\n                };\r\n                shift_1();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                var shift_2 = function () {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var index = 0; index < _this.chart.symbols.length; index++) {\r\n                        symb = _this.chart.symbols[index];\r\n                        if (!_this.params[\"align-next\"] ||\r\n                            _this.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - _this.right_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > _this.right_symbol.getCenter().y &&\r\n                                diff <= _this.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (_this.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        _this.right_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift_2();\r\n                    }\r\n                };\r\n                shift_2();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Parallel.prototype.renderLines = function () {\r\n        if (this.path1_symbol)\r\n            this.drawLineTo(this.path1_symbol, \"\", this.path1_direction);\r\n        if (this.path2_symbol)\r\n            this.drawLineTo(this.path2_symbol, \"\", this.path2_direction);\r\n        if (this.path3_symbol)\r\n            this.drawLineTo(this.path3_symbol, \"\", this.path3_direction);\r\n    };\r\n    return Parallel;\r\n}(symbol_1.default));\r\nexports.default = Parallel;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar symbol_1 = tslib_1.__importDefault(require(\"./symbol\"));\r\nvar Start = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Start, _super);\r\n    function Start(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"Start\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Start;\r\n}(symbol_1.default));\r\nexports.default = Start;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar symbol_1 = tslib_1.__importDefault(require(\"./symbol\"));\r\nvar Subroutine = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Subroutine, _super);\r\n    function Subroutine(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        symbol.attr({\r\n            width: _this.text.getBBox().width +\r\n                4 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        _this.text.attr({\r\n            x: 2 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        var innerWrap = chart.paper.rect(0, 0, 0, 0);\r\n        innerWrap.attr({\r\n            x: _this.getAttr(\"text-margin\"),\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            width: _this.text.getBBox().width +\r\n                2 * _this.getAttr(\"text-margin\"),\r\n            height: _this.text.getBBox().height +\r\n                2 * _this.getAttr(\"text-margin\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.key) {\r\n            innerWrap.node.id = options.key + \"i\";\r\n        }\r\n        var font = _this.getAttr(\"font\");\r\n        var fontF = _this.getAttr(\"font-family\");\r\n        var fontW = _this.getAttr(\"font-weight\");\r\n        if (font)\r\n            innerWrap.attr({ font: font });\r\n        if (fontF)\r\n            innerWrap.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            innerWrap.attr({ \"font-weight\": fontW });\r\n        if (options.link) {\r\n            innerWrap.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            innerWrap.attr(\"target\", options.target);\r\n        }\r\n        _this.group.push(innerWrap);\r\n        innerWrap.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    return Subroutine;\r\n}(symbol_1.default));\r\nexports.default = Subroutine;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar action_1 = require(\"../action\");\r\nvar FlowChartSymbol = /** @class */ (function () {\r\n    function FlowChartSymbol(chart, options, symbol) {\r\n        this.leftLines = [];\r\n        this.rightLines = [];\r\n        this.topLines = [];\r\n        this.bottomLines = [];\r\n        this.chart = chart;\r\n        this.group = this.chart.paper.set();\r\n        this.symbol = symbol;\r\n        this.connectedTo = [];\r\n        this.symbolType = options.symbolType;\r\n        this.flowstate = options.flowstate || \"future\";\r\n        this.lineStyle = options.lineStyle || {};\r\n        this.key = options.key || \"\";\r\n        this.next_direction =\r\n            options.next && options[\"direction_next\"]\r\n                ? options[\"direction_next\"]\r\n                : undefined;\r\n        this.text = this.chart.paper.text(0, 0, options.text || \"\");\r\n        // Raphael does not support the svg group tag so setting the text node id to the symbol node id plus t\r\n        if (options.key)\r\n            this.text.node.id = options.key + \"t\";\r\n        this.text.node.setAttribute(\"class\", this.getAttr(\"class\") + \"t\");\r\n        this.text.attr({\r\n            \"text-anchor\": \"start\",\r\n            x: this.getAttr(\"text-margin\"),\r\n            fill: this.getAttr(\"font-color\"),\r\n            \"font-size\": this.getAttr(\"font-size\"),\r\n        });\r\n        var font = this.getAttr(\"font\");\r\n        var fontFamily = this.getAttr(\"font-family\");\r\n        var fontWeight = this.getAttr(\"font-weight\");\r\n        if (font)\r\n            this.text.attr({ font: font });\r\n        if (fontFamily)\r\n            this.text.attr({ \"font-family\": fontFamily });\r\n        if (fontWeight)\r\n            this.text.attr({ \"font-weight\": fontWeight });\r\n        if (options.link)\r\n            this.text.attr(\"href\", options.link);\r\n        //ndrqu Add click function with event and options params\r\n        if (options.function) {\r\n            this.text.attr({ cursor: \"pointer\" });\r\n            this.text.node.addEventListener(\"click\", function (event) {\r\n                window[options.function](event, options);\r\n            }, false);\r\n        }\r\n        if (options.target)\r\n            this.text.attr(\"target\", options.target);\r\n        var maxWidth = this.getAttr(\"maxWidth\");\r\n        if (maxWidth) {\r\n            // using this approach: http://stackoverflow.com/a/3153457/22466\r\n            var words = options.text.split(\" \");\r\n            var tempText = \"\";\r\n            for (var index = 0; index < words.length; index++) {\r\n                var word = words[index];\r\n                this.text.attr(\"text\", tempText + \" \" + word);\r\n                if (this.text.getBBox().width > maxWidth)\r\n                    tempText += \"\\n\" + word;\r\n                else\r\n                    tempText += \" \" + word;\r\n            }\r\n            this.text.attr(\"text\", tempText.substring(1));\r\n        }\r\n        this.group.push(this.text);\r\n        if (symbol) {\r\n            var tmpMargin = this.getAttr(\"text-margin\");\r\n            symbol.attr({\r\n                fill: this.getAttr(\"fill\"),\r\n                stroke: this.getAttr(\"element-color\"),\r\n                \"stroke-width\": this.getAttr(\"line-width\"),\r\n                width: this.text.getBBox().width + 2 * tmpMargin,\r\n                height: this.text.getBBox().height + 2 * tmpMargin,\r\n            });\r\n            if (options.link)\r\n                symbol.attr(\"href\", options.link);\r\n            if (options.target)\r\n                symbol.attr(\"target\", options.target);\r\n            symbol.node.setAttribute(\"class\", this.getAttr(\"class\"));\r\n            //ndrqu Add click function with event and options params\r\n            if (options.function) {\r\n                symbol.node.addEventListener(\"click\", function (event) {\r\n                    window[options.function](event, options);\r\n                }, false);\r\n                symbol.attr({ cursor: \"pointer\" });\r\n            }\r\n            if (options.key)\r\n                symbol.node.id = options.key;\r\n            this.group.push(symbol);\r\n            symbol.insertBefore(this.text);\r\n            this.text.attr({\r\n                y: symbol.getBBox().height / 2,\r\n            });\r\n            this.initialize();\r\n        }\r\n    }\r\n    /* Gets the attribute based on Flowstate, Symbol-Name and default, first found wins */\r\n    FlowChartSymbol.prototype.getAttr = function (attName) {\r\n        if (!this.chart)\r\n            return undefined;\r\n        var opt3 = this.chart.options ? this.chart.options[attName] : undefined;\r\n        var opt2 = this.chart.options.symbols\r\n            ? this.chart.options.symbols[this.symbolType][attName]\r\n            : undefined;\r\n        if (this.chart.options.flowstate &&\r\n            this.chart.options.flowstate[this.flowstate]) {\r\n            var opt1 = this.chart.options.flowstate[this.flowstate][attName];\r\n            if (opt1)\r\n                return opt1;\r\n        }\r\n        return opt2 || opt3;\r\n    };\r\n    FlowChartSymbol.prototype.initialize = function () {\r\n        this.group.transform(\"t\" + this.getAttr(\"line-width\") + \",\" + this.getAttr(\"line-width\"));\r\n        this.width = this.group.getBBox().width;\r\n        this.height = this.group.getBBox().height;\r\n    };\r\n    FlowChartSymbol.prototype.getCenter = function () {\r\n        return {\r\n            x: this.getX() + this.width / 2,\r\n            y: this.getY() + this.height / 2,\r\n        };\r\n    };\r\n    FlowChartSymbol.prototype.getX = function () {\r\n        return this.group.getBBox().x;\r\n    };\r\n    FlowChartSymbol.prototype.getY = function () {\r\n        return this.group.getBBox().y;\r\n    };\r\n    FlowChartSymbol.prototype.shiftX = function (x) {\r\n        this.group.transform(\"t\" + (this.getX() + x) + \",\" + this.getY());\r\n    };\r\n    FlowChartSymbol.prototype.setX = function (x) {\r\n        this.group.transform(\"t\" + x + \",\" + this.getY());\r\n    };\r\n    FlowChartSymbol.prototype.shiftY = function (y) {\r\n        this.group.transform(\"$t\" + this.getX() + \",\" + (this.getY() + y));\r\n    };\r\n    FlowChartSymbol.prototype.setY = function (y) {\r\n        this.group.transform(\"t\" + this.getX() + \",\" + y);\r\n    };\r\n    FlowChartSymbol.prototype.getTop = function () {\r\n        var y = this.getY();\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getBottom = function () {\r\n        var y = this.getY() + this.height;\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX();\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.next) {\r\n            var self_1 = this;\r\n            var lineLength_1 = this.getAttr(\"line-length\");\r\n            if (this.next_direction === \"right\") {\r\n                var rightPoint = this.getRight();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(rightPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(this.group.getBBox().x + this.width + lineLength_1);\r\n                    var shift_1 = function () {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var index = 0; index < _this.chart.symbols.length; index++) {\r\n                            symb = self_1.chart.symbols[index];\r\n                            var diff = Math.abs(symb.getCenter().x - _this.next.getCenter().x);\r\n                            if (symb.getCenter().y > _this.next.getCenter().y &&\r\n                                diff <= _this.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (_this.next.symbolType === \"end\")\r\n                                return;\r\n                            _this.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift_1();\r\n                        }\r\n                    };\r\n                    shift_1();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else if (this.next_direction === \"left\") {\r\n                var leftPoint = this.getLeft();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(leftPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(-(this.group.getBBox().x + this.width + lineLength_1));\r\n                    var shift_2 = function () {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var i = 0; i < _this.chart.symbols.length; i++) {\r\n                            symb = self_1.chart.symbols[i];\r\n                            var diff = Math.abs(symb.getCenter().x - _this.next.getCenter().x);\r\n                            if (symb.getCenter().y > _this.next.getCenter().y &&\r\n                                diff <= _this.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (_this.next.symbolType === \"end\")\r\n                                return;\r\n                            _this.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift_2();\r\n                        }\r\n                    };\r\n                    shift_2();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else {\r\n                var bottomPoint = this.getBottom();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.shiftY(this.getY() + this.height + lineLength_1);\r\n                    this.next.setX(bottomPoint.x - this.next.width / 2);\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    FlowChartSymbol.prototype.renderLines = function () {\r\n        if (this.next)\r\n            if (this.next_direction)\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\", this.next_direction);\r\n            else\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\");\r\n    };\r\n    FlowChartSymbol.prototype.drawLineTo = function (symbol, text, direction) {\r\n        if (this.connectedTo.indexOf(symbol) < 0)\r\n            this.connectedTo.push(symbol);\r\n        var x = this.getCenter().x, y = this.getCenter().y, right = this.getRight(), bottom = this.getBottom(), top = this.getTop(), left = this.getLeft();\r\n        var symbolX = symbol.getCenter().x, symbolY = symbol.getCenter().y, symbolTop = symbol.getTop(), symbolRight = symbol.getRight(), symbolLeft = symbol.getLeft();\r\n        var isOnSameColumn = x === symbolX, isOnSameLine = y === symbolY, isUnder = y < symbolY, isUpper = y > symbolY || this === symbol, isLeft = x > symbolX, isRight = x < symbolX;\r\n        var maxX = 0, line;\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        var lineWith = this.getAttr(\"line-width\");\r\n        if ((!direction || direction === \"bottom\") && isOnSameColumn && isUnder) {\r\n            if (symbol.topLines.length === 0 && this.bottomLines.length === 0)\r\n                line = action_1.drawLine(this.chart, bottom, [symbolTop], text);\r\n            else {\r\n                var yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n        }\r\n        else if ((!direction || direction === \"right\") &&\r\n            isOnSameLine &&\r\n            isRight) {\r\n            if (symbol.leftLines.length === 0 && this.rightLines.length === 0)\r\n                line = action_1.drawLine(this.chart, right, [symbolLeft], text);\r\n            else {\r\n                var yOffset = Math.max(symbol.leftLines.length, this.rightLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y },\r\n                ], text);\r\n            }\r\n            this.rightLines.push(line);\r\n            symbol.leftLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.leftEnd = true;\r\n            maxX = symbolLeft.x;\r\n        }\r\n        else if ((!direction || direction === \"left\") && isOnSameLine && isLeft) {\r\n            if (symbol.rightLines.length === 0 && this.leftLines.length === 0)\r\n                line = action_1.drawLine(this.chart, left, [symbolRight], text);\r\n            else {\r\n                var yOffset = Math.max(symbol.rightLines.length, this.leftLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y },\r\n                ], text);\r\n            }\r\n            this.leftLines.push(line);\r\n            symbol.rightLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.rightEnd = true;\r\n            maxX = symbolRight.x;\r\n        }\r\n        else if ((!direction || direction === \"right\") &&\r\n            isOnSameColumn &&\r\n            isUpper) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!direction || direction === \"right\") &&\r\n            isOnSameColumn &&\r\n            isUnder) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!direction || direction === \"bottom\") && isLeft) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            if (this.leftEnd && isUpper) {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: bottom.y + lineLength / 2 - yOffset,\r\n                    },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: symbolTop.y - lineLength / 2 - yOffset,\r\n                    },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            else {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if ((!direction || direction === \"bottom\") && isRight && isUnder) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n            if (symbolTop.x > maxX)\r\n                maxX = symbolTop.x;\r\n        }\r\n        else if ((!direction || direction === \"bottom\") && isRight) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if (direction && direction === \"right\" && isLeft) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (direction && direction === \"right\" && isRight) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: symbolTop.x, y: right.y - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (direction &&\r\n            direction === \"bottom\" &&\r\n            isOnSameColumn &&\r\n            isUpper) {\r\n            var yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + lineLength / 2;\r\n        }\r\n        else if (direction === \"left\" && isOnSameColumn && isUpper) {\r\n            var diffX = left.x - lineLength / 2;\r\n            if (symbolLeft.x < left.x) {\r\n                diffX = symbolLeft.x - lineLength / 2;\r\n            }\r\n            var yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: diffX, y: left.y - yOffset },\r\n                { x: diffX, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (direction === \"left\") {\r\n            var yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: symbolTop.x + (left.x - symbolTop.x) / 2, y: left.y },\r\n                {\r\n                    x: symbolTop.x + (left.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (direction === \"top\") {\r\n            var yOffset = Math.max(symbol.topLines.length, this.topLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, top, [\r\n                { x: top.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.topLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.topStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = top.x;\r\n        }\r\n        //update line style\r\n        if (this.lineStyle[symbol.key] && line)\r\n            line.attr(this.lineStyle[symbol.key]);\r\n        if (line) {\r\n            for (var l = 0, llen = this.chart.lines.length; l < llen; l++) {\r\n                var otherLine = this.chart.lines[l];\r\n                var ePath = otherLine.attr(\"path\"), lPath = line.attr(\"path\");\r\n                for (var iP = 0, lenP = ePath.length - 1; iP < lenP; iP++) {\r\n                    var newPath = [];\r\n                    newPath.push([\"M\", ePath[iP][1], ePath[iP][2]]);\r\n                    newPath.push([\"L\", ePath[iP + 1][1], ePath[iP + 1][2]]);\r\n                    var line1FromX = newPath[0][1];\r\n                    var line1FromY = newPath[0][2];\r\n                    var line1ToX = newPath[1][1];\r\n                    var line1ToY = newPath[1][2];\r\n                    for (var lP = 0, lenlP = lPath.length - 1; lP < lenlP; lP++) {\r\n                        var newLinePath = [];\r\n                        newLinePath.push([\"M\", lPath[lP][1], lPath[lP][2]]);\r\n                        newLinePath.push([\"L\", lPath[lP + 1][1], lPath[lP + 1][2]]);\r\n                        var line2FromX = newLinePath[0][1];\r\n                        var line2FromY = newLinePath[0][2];\r\n                        var line2ToX = newLinePath[1][1];\r\n                        var line2ToY = newLinePath[1][2];\r\n                        var res = action_1.checkLineIntersection(line1FromX, line1FromY, line1ToX, line1ToY, line2FromX, line2FromY, line2ToX, line2ToY);\r\n                        if (res.onLine1 && res.onLine2) {\r\n                            var newSegment = void 0;\r\n                            if (line2FromY === line2ToY) {\r\n                                if (line2FromX > line2ToX) {\r\n                                    newSegment = [\"L\", res.x + lineWith * 2, line2FromY];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x + lineWith * 2,\r\n                                        line2FromY,\r\n                                        res.x,\r\n                                        line2FromY - lineWith * 4,\r\n                                        res.x - lineWith * 2,\r\n                                        line2FromY,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", res.x - lineWith * 2, line2FromY];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x - lineWith * 2,\r\n                                        line2FromY,\r\n                                        res.x,\r\n                                        line2FromY - lineWith * 4,\r\n                                        res.x + lineWith * 2,\r\n                                        line2FromY,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (line2FromY > line2ToY) {\r\n                                    newSegment = [\"L\", line2FromX, res.y + lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2FromX,\r\n                                        res.y + lineWith * 2,\r\n                                        line2FromX + lineWith * 4,\r\n                                        res.y,\r\n                                        line2FromX,\r\n                                        res.y - lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", line2FromX, res.y - lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2FromX,\r\n                                        res.y - lineWith * 2,\r\n                                        line2FromX + lineWith * 4,\r\n                                        res.y,\r\n                                        line2FromX,\r\n                                        res.y + lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            lP += 2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.chart.lines.push(line);\r\n            if (this.chart.minXFromSymbols === undefined ||\r\n                this.chart.minXFromSymbols > left.x)\r\n                this.chart.minXFromSymbols = left.x;\r\n        }\r\n        if (!this.chart.maxXFromLine ||\r\n            (this.chart.maxXFromLine && maxX > this.chart.maxXFromLine))\r\n            this.chart.maxXFromLine = maxX;\r\n    };\r\n    return FlowChartSymbol;\r\n}());\r\nexports.default = FlowChartSymbol;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deepAssign = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nexports.deepAssign = function (originObject) {\r\n    var assignObjects = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        assignObjects[_i - 1] = arguments[_i];\r\n    }\r\n    if (assignObjects.length === 0)\r\n        return originObject;\r\n    var assignObject = assignObjects.shift();\r\n    Object.keys(assignObject).forEach(function (property) {\r\n        if (typeof originObject[property] === \"object\" &&\r\n            !Array.isArray(originObject[property]) &&\r\n            typeof assignObject[property] === \"object\" &&\r\n            !Array.isArray(assignObject[property]))\r\n            exports.deepAssign(originObject[property], assignObject[property]);\r\n        else if (typeof assignObject[property] === \"object\")\r\n            if (Array.isArray(assignObject[property]))\r\n                originObject[property] = tslib_1.__spreadArrays(assignObject[property]);\r\n            else\r\n                originObject[property] = tslib_1.__assign({}, assignObject[property]);\r\n        else\r\n            originObject[property] = assignObject[property];\r\n    });\r\n    return exports.deepAssign.apply(void 0, tslib_1.__spreadArrays([originObject], assignObjects));\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = Raphael;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(568);\n"],"sourceRoot":""}