{"version":3,"sources":["webpack://flowchart.js/./lib/action.js","webpack://flowchart.js/./lib/chart.js","webpack://flowchart.js/./lib/config.js","webpack://flowchart.js/./lib/index.js","webpack://flowchart.js/./lib/parse.js","webpack://flowchart.js/./lib/symbol/condition.js","webpack://flowchart.js/./lib/symbol/end.js","webpack://flowchart.js/./lib/symbol/inputoutput.js","webpack://flowchart.js/./lib/symbol/operation.js","webpack://flowchart.js/./lib/symbol/parallel.js","webpack://flowchart.js/./lib/symbol/start.js","webpack://flowchart.js/./lib/symbol/subroutine.js","webpack://flowchart.js/./lib/symbol/util.js","webpack://flowchart.js/./lib/util.js","webpack://flowchart.js/./node_modules/tslib/tslib.es6.js","webpack://flowchart.js/external \"Raphael\"","webpack://flowchart.js/webpack/bootstrap","webpack://flowchart.js/webpack/runtime/define property getters","webpack://flowchart.js/webpack/runtime/hasOwnProperty shorthand","webpack://flowchart.js/webpack/runtime/make namespace object","webpack://flowchart.js/webpack/startup"],"names":["Object","defineProperty","exports","value","checkLineIntersection","drawLine","drawPath","chart","location","points","path","i","len","length","pathValues","x","y","push","symbol","paper","attr","options","font","fontF","fontW","from","to","text","prototype","toString","call","line","stroke","textPath","textAnchor","isHorizontal","firstTo","fill","line1StartX","line1StartY","line1EndX","line1EndY","line2StartX","line2StartY","line2EndX","line2EndY","a","b","numerator2","result","onLine1","onLine2","denominator","Raphael","util_1","config_1","condition_1","parallel_1","FlowChart","handle","this","symbols","indexOf","flowChart","default","yes","nextSymbol","yes_symbol","no_symbol","pathOk","no","path1","path1_symbol","path2_symbol","path2","path3_symbol","path3","then","next","startWith","start","render","maxWidth","maxHeight","maxX","maxY","minX","minY","width","height","shiftX","shiftY","renderLines","maxXFromLine","leftX","getX","getY","lines","getBBox","x2","y2","scale","lineWidth","minXFromSymbols","setSize","setViewBox","clean","paperDom","canvas","parentNode","removeChild","container","merge","defaultConfig","class","end","condition","inputoutput","operation","subroutine","parallel","parse","window","flowchart","module","chart_1","end_1","inputoutput_1","operation_1","start_1","subroutine_1","input","trim","line0","drawSVG","self","diagram","dispSymbols","constructChart","s","prevDisp","prev","dispSymb","key","symbolType","Error","getDisplaySymbol","prevBreak","i0","i0len","substring","replace","substr","startIndex","endIndex","l","currentLine","splice","getSymbol","sub","txtAndState","parts","split","link","target","flowstate","function","lineStyle","params","match","entries","entry","shift","join","pop","ann","tmp","tmp_split","getAnnotation","flowSymbols","iS","lenS","flowSymb","symbVal","nextSymb","realSymb","direction","condOpt","yes_annotation","no_annotation","curSymb","lineStyleSymbols","iSS","lenSS","JSON","_super","tslib_1","action_1","Condition","__extends","yes_direction","no_direction","bottomPoint","leftPoint","lineLength","getAttr","bottom_symbol","getBottom","isPositioned","setX","right_symbol","rightPoint","getRight","setY","group","symb","hasSymbolUnder","diff","Math","abs","getCenter","left_symbol","getLeft","drawLineTo","_this","textMargin","direction_yes","direction_no","startX","startY","max","node","id","setAttribute","insertBefore","initialize","End","rect","InputOutput","Operation","Parallel","path1_direction","path2_direction","path3_direction","topPoint","top_symbol","getTop","direction_next","direction_path1","direction_path2","direction_path3","Start","Subroutine","innerWrap","Symbol","attName","opt1","opt3","undefined","opt2","transform","self_1","lineLength_1","next_direction","origin","connectedTo","yOffset","right","bottom","top","left","symbolX","symbolY","symbolTop","symbolRight","symbolLeft","isOnSameColumn","isOnSameLine","isUnder","isUpper","isLeft","isRight","lineWith","topLines","rightLines","rightStart","topEnd","bottomLines","bottomStart","diffX","leftLines","leftStart","topStart","leftEnd","rightEnd","llen","ePath","lPath","iP","lenP","newPath","line1_from_x","line1_from_y","line1_to_x","line1_to_y","lP","lenlP","newLinePath","newSegment","line2_from_x","line2_from_y","line2_to_x","line2_to_y","res","set","cursor","addEventListener","evt","words","tempText","ii","word","tmpMargin","inherits","defaultOptions","attrname","merged","ctor","superCtor","TempCtor","create","super_","constructor","enumerable","writable","configurable","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","__assign","assign","t","n","arguments","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","__generator","body","f","_","label","sent","trys","ops","g","verb","iterator","v","op","TypeError","__createBinding","o","m","k","k2","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","definition","obj","prop","toStringTag"],"mappings":"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","file":"flowchart.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.checkLineIntersection = exports.drawLine = exports.drawPath = void 0;\r\nexports.drawPath = function (chart, location, points) {\r\n    var i, len;\r\n    var path = \"M{0},{1}\";\r\n    for (i = 2, len = 2 * points.length + 2; i < len; i += 2) {\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    }\r\n    var pathValues = [location.x, location.y];\r\n    for (i = 0, len = points.length; i < len; i++) {\r\n        pathValues.push(points[i].x);\r\n        pathValues.push(points[i].y);\r\n    }\r\n    var symbol = chart.paper.path(path, pathValues);\r\n    symbol.attr(\"stroke\", chart.options[\"element-color\"]);\r\n    symbol.attr(\"stroke-width\", chart.options[\"line-width\"]);\r\n    var font = chart.options.font;\r\n    var fontF = chart.options[\"font-family\"];\r\n    var fontW = chart.options[\"font-weight\"];\r\n    if (font)\r\n        symbol.attr({ font: font });\r\n    if (fontF)\r\n        symbol.attr({ \"font-family\": fontF });\r\n    if (fontW)\r\n        symbol.attr({ \"font-weight\": fontW });\r\n    return symbol;\r\n};\r\nexports.drawLine = function (chart, from, to, text) {\r\n    var i, len;\r\n    if (Object.prototype.toString.call(to) !== \"[object Array]\") {\r\n        to = [to];\r\n    }\r\n    var path = \"M{0},{1}\";\r\n    for (i = 2, len = 2 * to.length + 2; i < len; i += 2) {\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    }\r\n    var pathValues = [from.x, from.y];\r\n    for (i = 0, len = to.length; i < len; i++) {\r\n        pathValues.push(to[i].x);\r\n        pathValues.push(to[i].y);\r\n    }\r\n    var line = chart.paper.path(path, pathValues);\r\n    line.attr({\r\n        stroke: chart.options[\"line-color\"],\r\n        \"stroke-width\": chart.options[\"line-width\"],\r\n        \"arrow-end\": chart.options[\"arrow-end\"],\r\n    });\r\n    var font = chart.options.font;\r\n    var fontF = chart.options[\"font-family\"];\r\n    var fontW = chart.options[\"font-weight\"];\r\n    if (font)\r\n        line.attr({ font: font });\r\n    if (fontF)\r\n        line.attr({ \"font-family\": fontF });\r\n    if (fontW)\r\n        line.attr({ \"font-weight\": fontW });\r\n    if (text) {\r\n        var centerText = false;\r\n        var textPath = chart.paper.text(0, 0, text);\r\n        var textAnchor = \"start\";\r\n        var isHorizontal = false;\r\n        var firstTo = to[0];\r\n        if (from.y === firstTo.y) {\r\n            isHorizontal = true;\r\n        }\r\n        var x = 0, y = 0;\r\n        if (centerText) {\r\n            if (from.x > firstTo.x) {\r\n                x = from.x - (from.x - firstTo.x) / 2;\r\n            }\r\n            else {\r\n                x = firstTo.x - (firstTo.x - from.x) / 2;\r\n            }\r\n            if (from.y > firstTo.y) {\r\n                y = from.y - (from.y - firstTo.y) / 2;\r\n            }\r\n            else {\r\n                y = firstTo.y - (firstTo.y - from.y) / 2;\r\n            }\r\n            if (isHorizontal) {\r\n                x -= textPath.getBBox().width / 2;\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"];\r\n                y -= textPath.getBBox().height / 2;\r\n            }\r\n        }\r\n        else {\r\n            x = from.x;\r\n            y = from.y;\r\n            if (isHorizontal) {\r\n                if (from.x > firstTo.x) {\r\n                    x -= chart.options[\"text-margin\"] / 2;\r\n                    textAnchor = \"end\";\r\n                }\r\n                else {\r\n                    x += chart.options[\"text-margin\"] / 2;\r\n                }\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"] / 2;\r\n                y += chart.options[\"text-margin\"];\r\n                if (from.y > firstTo.y) {\r\n                    y -= chart.options[\"text-margin\"] * 2;\r\n                }\r\n            }\r\n        }\r\n        textPath.attr({\r\n            \"text-anchor\": textAnchor,\r\n            \"font-size\": chart.options[\"font-size\"],\r\n            fill: chart.options[\"font-color\"],\r\n            x: x,\r\n            y: y,\r\n        });\r\n        if (font)\r\n            textPath.attr({ font: font });\r\n        if (fontF)\r\n            textPath.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            textPath.attr({ \"font-weight\": fontW });\r\n    }\r\n    return line;\r\n};\r\nexports.checkLineIntersection = function (line1StartX, line1StartY, line1EndX, line1EndY, line2StartX, line2StartY, line2EndX, line2EndY) {\r\n    // if the lines intersect, the result contains the x and y of the intersection (treating the lines as infinite) and booleans for whether line segment 1 or line segment 2 contain the point\r\n    var denominator, a, b, numerator1, numerator2, result = {\r\n        x: null,\r\n        y: null,\r\n        onLine1: false,\r\n        onLine2: false,\r\n    };\r\n    denominator =\r\n        (line2EndY - line2StartY) * (line1EndX - line1StartX) -\r\n            (line2EndX - line2StartX) * (line1EndY - line1StartY);\r\n    if (denominator === 0) {\r\n        return result;\r\n    }\r\n    a = line1StartY - line2StartY;\r\n    b = line1StartX - line2StartX;\r\n    numerator1 = (line2EndX - line2StartX) * a - (line2EndY - line2StartY) * b;\r\n    numerator2 = (line1EndX - line1StartX) * a - (line1EndY - line1StartY) * b;\r\n    a = numerator1 / denominator;\r\n    b = numerator2 / denominator;\r\n    // if we cast these lines infinitely in both directions, they intersect here:\r\n    result.x = line1StartX + a * (line1EndX - line1StartX);\r\n    result.y = line1StartY + a * (line1EndY - line1StartY);\r\n    /*\r\n    // it is worth noting that this should be the same as:\r\n    x = line2StartX + (b * (line2EndX - line2StartX));\r\n    y = line2StartX + (b * (line2EndY - line2StartY));\r\n    */\r\n    // if line1 is a segment and line2 is infinite, they intersect if:\r\n    if (a > 0 && a < 1) {\r\n        result.onLine1 = true;\r\n    }\r\n    // if line2 is a segment and line1 is infinite, they intersect if:\r\n    if (b > 0 && b < 1) {\r\n        result.onLine2 = true;\r\n    }\r\n    // if line1 and line2 are segments, they intersect if both of the above are true\r\n    return result;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Raphael = require(\"raphael\");\r\nvar util_1 = require(\"./util\");\r\nvar config_1 = require(\"./config\");\r\nvar condition_1 = require(\"./symbol/condition\");\r\nvar parallel_1 = require(\"./symbol/parallel\");\r\nvar FlowChart = /** @class */ (function () {\r\n    function FlowChart(container, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.paper = new Raphael(container);\r\n        this.options = util_1.merge(options, config_1.defaultConfig);\r\n        this.symbols = [];\r\n        this.lines = [];\r\n        this.start = null;\r\n    }\r\n    FlowChart.prototype.handle = function (symbol) {\r\n        if (this.symbols.indexOf(symbol) <= -1) {\r\n            this.symbols.push(symbol);\r\n        }\r\n        var flowChart = this;\r\n        if (symbol instanceof condition_1.default) {\r\n            symbol.yes = function (nextSymbol) {\r\n                symbol.yes_symbol = nextSymbol;\r\n                if (symbol.no_symbol) {\r\n                    symbol.pathOk = true;\r\n                }\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n            symbol.no = function (nextSymbol) {\r\n                symbol.no_symbol = nextSymbol;\r\n                if (symbol.yes_symbol) {\r\n                    symbol.pathOk = true;\r\n                }\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n        }\r\n        else if (symbol instanceof parallel_1.default) {\r\n            symbol.path1 = function (nextSymbol) {\r\n                symbol.path1_symbol = nextSymbol;\r\n                if (symbol.path2_symbol) {\r\n                    symbol.pathOk = true;\r\n                }\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n            symbol.path2 = function (nextSymbol) {\r\n                symbol.path2_symbol = nextSymbol;\r\n                if (symbol.path3_symbol) {\r\n                    symbol.pathOk = true;\r\n                }\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n            symbol.path3 = function (nextSymbol) {\r\n                symbol.path3_symbol = nextSymbol;\r\n                if (symbol.path1_symbol) {\r\n                    symbol.pathOk = true;\r\n                }\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n        }\r\n        else\r\n            symbol.then = function (nextSymbol) {\r\n                symbol.next = nextSymbol;\r\n                symbol.pathOk = true;\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n        return symbol;\r\n    };\r\n    FlowChart.prototype.startWith = function (symbol) {\r\n        this.start = symbol;\r\n        return this.handle(symbol);\r\n    };\r\n    FlowChart.prototype.render = function () {\r\n        var maxWidth = 0, maxHeight = 0, i = 0, len = 0, maxX = 0, maxY = 0, minX = 0, minY = 0, symbol, line;\r\n        for (i = 0, len = this.symbols.length; i < len; i++) {\r\n            symbol = this.symbols[i];\r\n            if (symbol.width > maxWidth) {\r\n                maxWidth = symbol.width;\r\n            }\r\n            if (symbol.height > maxHeight) {\r\n                maxHeight = symbol.height;\r\n            }\r\n        }\r\n        for (i = 0, len = this.symbols.length; i < len; i++) {\r\n            symbol = this.symbols[i];\r\n            symbol.shiftX(this.options.x +\r\n                (maxWidth - symbol.width) / 2 +\r\n                this.options[\"line-width\"]);\r\n            symbol.shiftY(this.options.y +\r\n                (maxHeight - symbol.height) / 2 +\r\n                this.options[\"line-width\"]);\r\n        }\r\n        this.start.render();\r\n        for (i = 0, len = this.symbols.length; i < len; i++) {\r\n            symbol = this.symbols[i];\r\n            symbol.renderLines();\r\n        }\r\n        maxX = this.maxXFromLine;\r\n        var x;\r\n        var y;\r\n        for (i = 0, len = this.symbols.length; i < len; i++) {\r\n            symbol = this.symbols[i];\r\n            var leftX = symbol.getX();\r\n            x = leftX + symbol.width;\r\n            y = symbol.getY() + symbol.height;\r\n            if (leftX < minX) {\r\n                minX = leftX;\r\n            }\r\n            if (x > maxX) {\r\n                maxX = x;\r\n            }\r\n            if (y > maxY) {\r\n                maxY = y;\r\n            }\r\n        }\r\n        for (i = 0, len = this.lines.length; i < len; i++) {\r\n            line = this.lines[i].getBBox();\r\n            x = line.x;\r\n            y = line.y;\r\n            var x2 = line.x2;\r\n            var y2 = line.y2;\r\n            if (x < minX) {\r\n                minX = x;\r\n            }\r\n            if (y < minY) {\r\n                minY = y;\r\n            }\r\n            if (x2 > maxX) {\r\n                maxX = x2;\r\n            }\r\n            if (y2 > maxY) {\r\n                maxY = y2;\r\n            }\r\n        }\r\n        var scale = this.options[\"scale\"];\r\n        var lineWidth = this.options[\"line-width\"];\r\n        if (this.minXFromSymbols < minX)\r\n            minX = this.minXFromSymbols;\r\n        if (minX < 0)\r\n            minX -= lineWidth;\r\n        if (minY < 0)\r\n            minY -= lineWidth;\r\n        var width = maxX + lineWidth - minX;\r\n        var height = maxY + lineWidth - minY;\r\n        this.paper.setSize(width * scale, height * scale);\r\n        this.paper.setViewBox(minX, minY, width, height, true);\r\n    };\r\n    FlowChart.prototype.clean = function () {\r\n        if (this.paper) {\r\n            var paperDom = this.paper.canvas;\r\n            paperDom.parentNode && paperDom.parentNode.removeChild(paperDom);\r\n        }\r\n    };\r\n    return FlowChart;\r\n}());\r\nexports.default = FlowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.defaultConfig = void 0;\r\nexports.defaultConfig = {\r\n    x: 0,\r\n    y: 0,\r\n    \"line-width\": 3,\r\n    \"line-length\": 50,\r\n    \"text-margin\": 10,\r\n    \"font-size\": 14,\r\n    \"font-color\": \"black\",\r\n    // 'font': 'normal',\r\n    // 'font-family': 'calibri',\r\n    // 'font-weight': 'normal',\r\n    \"line-color\": \"black\",\r\n    \"element-color\": \"black\",\r\n    fill: \"white\",\r\n    \"yes-text\": \"yes\",\r\n    \"no-text\": \"no\",\r\n    \"arrow-end\": \"block\",\r\n    class: \"flowchart\",\r\n    scale: 1,\r\n    symbols: {\r\n        start: {},\r\n        end: {},\r\n        condition: {},\r\n        inputoutput: {},\r\n        operation: {},\r\n        subroutine: {},\r\n        parallel: {},\r\n    },\r\n};\r\n","\"use strict\";\r\nvar parse_1 = require(\"./parse\");\r\nvar FlowChart = { parse: parse_1.parse };\r\nif (typeof window !== \"undefined\") {\r\n    window.flowchart = FlowChart;\r\n}\r\nmodule.exports = FlowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parse = void 0;\r\nvar chart_1 = require(\"./chart\");\r\nvar condition_1 = require(\"./symbol/condition\");\r\nvar end_1 = require(\"./symbol/end\");\r\nvar inputoutput_1 = require(\"./symbol/inputoutput\");\r\nvar operation_1 = require(\"./symbol/operation\");\r\nvar parallel_1 = require(\"./symbol/parallel\");\r\nvar start_1 = require(\"./symbol/start\");\r\nvar subroutine_1 = require(\"./symbol/subroutine\");\r\nexports.parse = function (input) {\r\n    input = input || \"\";\r\n    input = input.trim();\r\n    var chart = {\r\n        symbols: {},\r\n        start: null,\r\n        drawSVG: function (container, options) {\r\n            var self = this;\r\n            if (this.diagram) {\r\n                this.diagram.clean();\r\n            }\r\n            var diagram = new chart_1.default(container, options);\r\n            this.diagram = diagram;\r\n            var dispSymbols = {};\r\n            function getDisplaySymbol(s) {\r\n                if (dispSymbols[s.key]) {\r\n                    return dispSymbols[s.key];\r\n                }\r\n                switch (s.symbolType) {\r\n                    case \"start\":\r\n                        dispSymbols[s.key] = new start_1.default(diagram, s);\r\n                        break;\r\n                    case \"end\":\r\n                        dispSymbols[s.key] = new end_1.default(diagram, s);\r\n                        break;\r\n                    case \"operation\":\r\n                        dispSymbols[s.key] = new operation_1.default(diagram, s);\r\n                        break;\r\n                    case \"inputoutput\":\r\n                        dispSymbols[s.key] = new inputoutput_1.default(diagram, s);\r\n                        break;\r\n                    case \"subroutine\":\r\n                        dispSymbols[s.key] = new subroutine_1.default(diagram, s);\r\n                        break;\r\n                    case \"condition\":\r\n                        dispSymbols[s.key] = new condition_1.default(diagram, s);\r\n                        break;\r\n                    case \"parallel\":\r\n                        dispSymbols[s.key] = new parallel_1.default(diagram, s);\r\n                        break;\r\n                    default:\r\n                        return new Error(\"Wrong symbol type!\");\r\n                }\r\n                return dispSymbols[s.key];\r\n            }\r\n            (function constructChart(s, prevDisp, prev) {\r\n                var dispSymb = getDisplaySymbol(s);\r\n                if (self.start === s) {\r\n                    diagram.startWith(dispSymb);\r\n                }\r\n                else if (prevDisp && prev && !prevDisp.pathOk) {\r\n                    if (prevDisp instanceof condition_1.default) {\r\n                        if (prev.yes === s) {\r\n                            prevDisp.yes(dispSymb);\r\n                        }\r\n                        if (prev.no === s) {\r\n                            prevDisp.no(dispSymb);\r\n                        }\r\n                    }\r\n                    else if (prevDisp instanceof parallel_1.default) {\r\n                        if (prev.path1 === s) {\r\n                            prevDisp.path1(dispSymb);\r\n                        }\r\n                        if (prev.path2 === s) {\r\n                            prevDisp.path2(dispSymb);\r\n                        }\r\n                        if (prev.path3 === s) {\r\n                            prevDisp.path3(dispSymb);\r\n                        }\r\n                    }\r\n                    else {\r\n                        prevDisp.then(dispSymb);\r\n                    }\r\n                }\r\n                if (dispSymb.pathOk) {\r\n                    return dispSymb;\r\n                }\r\n                if (dispSymb instanceof condition_1.default) {\r\n                    if (s.yes) {\r\n                        constructChart(s.yes, dispSymb, s);\r\n                    }\r\n                    if (s.no) {\r\n                        constructChart(s.no, dispSymb, s);\r\n                    }\r\n                }\r\n                else if (dispSymb instanceof parallel_1.default) {\r\n                    if (s.path1) {\r\n                        constructChart(s.path1, dispSymb, s);\r\n                    }\r\n                    if (s.path2) {\r\n                        constructChart(s.path2, dispSymb, s);\r\n                    }\r\n                    if (s.path3) {\r\n                        constructChart(s.path3, dispSymb, s);\r\n                    }\r\n                }\r\n                else if (s.next) {\r\n                    constructChart(s.next, dispSymb, s);\r\n                }\r\n                return dispSymb;\r\n            })(this.start);\r\n            diagram.render();\r\n        },\r\n        clean: function () {\r\n            this.diagram.clean();\r\n        },\r\n        options: function () {\r\n            return this.diagram.options;\r\n        },\r\n    };\r\n    var lines = [];\r\n    var prevBreak = 0;\r\n    for (var i0 = 1, i0len = input.length; i0 < i0len; i0++) {\r\n        if (input[i0] === \"\\n\" && input[i0 - 1] !== \"\\\\\") {\r\n            var line0 = input.substring(prevBreak, i0);\r\n            prevBreak = i0 + 1;\r\n            lines.push(line0.replace(/\\\\\\n/g, \"\\n\"));\r\n        }\r\n    }\r\n    if (prevBreak < input.length) {\r\n        lines.push(input.substr(prevBreak));\r\n    }\r\n    for (var l = 1, len = lines.length; l < len;) {\r\n        var currentLine = lines[l];\r\n        if (currentLine.indexOf(\"->\") < 0 &&\r\n            currentLine.indexOf(\"=>\") < 0 &&\r\n            currentLine.indexOf(\"@>\") < 0) {\r\n            lines[l - 1] += \"\\n\" + currentLine;\r\n            lines.splice(l, 1);\r\n            len--;\r\n        }\r\n        else {\r\n            l++;\r\n        }\r\n    }\r\n    function getStyle(s) {\r\n        var startIndex = s.indexOf(\"(\") + 1;\r\n        var endIndex = s.indexOf(\")\");\r\n        if (startIndex >= 0 && endIndex >= 0) {\r\n            return s.substring(startIndex, endIndex);\r\n        }\r\n        return \"{}\";\r\n    }\r\n    function getSymbValue(s) {\r\n        var startIndex = s.indexOf(\"(\") + 1;\r\n        var endIndex = s.indexOf(\")\");\r\n        if (startIndex >= 0 && endIndex >= 0) {\r\n            return s.substring(startIndex, endIndex);\r\n        }\r\n        return \"\";\r\n    }\r\n    function getSymbol(s) {\r\n        var startIndex = s.indexOf(\"(\") + 1;\r\n        var endIndex = s.indexOf(\")\");\r\n        if (startIndex >= 0 && endIndex >= 0) {\r\n            return chart.symbols[s.substring(0, startIndex - 1)];\r\n        }\r\n        return chart.symbols[s];\r\n    }\r\n    function getNextPath(s) {\r\n        var next = \"next\";\r\n        var startIndex = s.indexOf(\"(\") + 1;\r\n        var endIndex = s.indexOf(\")\");\r\n        if (startIndex >= 0 && endIndex >= 0) {\r\n            next = flowSymb.substring(startIndex, endIndex);\r\n            if (next.indexOf(\",\") < 0) {\r\n                if (next !== \"yes\" && next !== \"no\") {\r\n                    next = \"next, \" + next;\r\n                }\r\n            }\r\n        }\r\n        return next;\r\n    }\r\n    function getAnnotation(s) {\r\n        var startIndex = s.indexOf(\"(\") + 1, endIndex = s.indexOf(\")\");\r\n        var tmp = s.substring(startIndex, endIndex);\r\n        if (tmp.indexOf(\",\") > 0) {\r\n            tmp = tmp.substring(0, tmp.indexOf(\",\"));\r\n        }\r\n        var tmp_split = tmp.split(\"@\");\r\n        if (tmp_split.length > 1)\r\n            return startIndex >= 0 && endIndex >= 0 ? tmp_split[1] : \"\";\r\n    }\r\n    while (lines.length > 0) {\r\n        var line = lines.splice(0, 1)[0].trim();\r\n        if (line.indexOf(\"=>\") >= 0) {\r\n            // definition\r\n            var parts = line.split(\"=>\");\r\n            var symbol = {\r\n                key: parts[0].replace(/\\(.*\\)/, \"\"),\r\n                symbolType: parts[1],\r\n                text: null,\r\n                link: null,\r\n                target: null,\r\n                flowstate: null,\r\n                function: null,\r\n                lineStyle: {},\r\n                params: {},\r\n            };\r\n            //parse parameters\r\n            var params = parts[0].match(/\\((.*)\\)/);\r\n            if (params && params.length > 1) {\r\n                var entries = params[1].split(\",\");\r\n                for (var i = 0; i < entries.length; i++) {\r\n                    var entry = entries[i].split(\"=\");\r\n                    if (entry.length == 2) {\r\n                        symbol.params[entry[0]] = entry[1];\r\n                    }\r\n                }\r\n            }\r\n            var sub;\r\n            if (symbol.symbolType.indexOf(\": \") >= 0) {\r\n                sub = symbol.symbolType.split(\": \");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.text = sub.join(\": \");\r\n            }\r\n            if (symbol.text && symbol.text.indexOf(\":$\") >= 0) {\r\n                sub = symbol.text.split(\":$\");\r\n                symbol.text = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":$\") >= 0) {\r\n                sub = symbol.symbolType.split(\":$\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.text && symbol.text.indexOf(\":>\") >= 0) {\r\n                sub = symbol.text.split(\":>\");\r\n                symbol.text = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":>\") >= 0) {\r\n                sub = symbol.symbolType.split(\":>\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            if (symbol.symbolType.indexOf(\"\\n\") >= 0) {\r\n                symbol.symbolType = symbol.symbolType.split(\"\\n\")[0];\r\n            }\r\n            /* adding support for links */\r\n            if (symbol.link) {\r\n                var startIndex = symbol.link.indexOf(\"[\") + 1;\r\n                var endIndex = symbol.link.indexOf(\"]\");\r\n                if (startIndex >= 0 && endIndex >= 0) {\r\n                    symbol.target = symbol.link.substring(startIndex, endIndex);\r\n                    symbol.link = symbol.link.substring(0, startIndex - 1);\r\n                }\r\n            }\r\n            /* end of link support */\r\n            /* adding support for flowstates */\r\n            if (symbol.text) {\r\n                if (symbol.text.indexOf(\"|\") >= 0) {\r\n                    var txtAndState = symbol.text.split(\"|\");\r\n                    symbol.flowstate = txtAndState.pop().trim();\r\n                    symbol.text = txtAndState.join(\"|\");\r\n                }\r\n            }\r\n            /* end of flowstate support */\r\n            chart.symbols[symbol.key] = symbol;\r\n        }\r\n        else if (line.indexOf(\"->\") >= 0) {\r\n            var ann = getAnnotation(line);\r\n            if (ann) {\r\n                line = line.replace(\"@\" + ann, \"\");\r\n            }\r\n            // flow\r\n            var flowSymbols = line.split(\"->\");\r\n            for (var iS = 0, lenS = flowSymbols.length; iS < lenS; iS++) {\r\n                var flowSymb = flowSymbols[iS];\r\n                var symbVal = getSymbValue(flowSymb);\r\n                if (symbVal === \"true\" || symbVal === \"false\") {\r\n                    // map true or false to yes or no respectively\r\n                    flowSymb = flowSymb.replace(\"true\", \"yes\");\r\n                    flowSymb = flowSymb.replace(\"false\", \"no\");\r\n                }\r\n                var next = getNextPath(flowSymb);\r\n                var realSymb = getSymbol(flowSymb);\r\n                var direction = null;\r\n                if (next.indexOf(\",\") >= 0) {\r\n                    var condOpt = next.split(\",\");\r\n                    next = condOpt[0];\r\n                    direction = condOpt[1].trim();\r\n                }\r\n                if (ann) {\r\n                    if (next == \"yes\" || next == \"true\")\r\n                        realSymb.yes_annotation = ann;\r\n                    else\r\n                        realSymb.no_annotation = ann;\r\n                    ann = null;\r\n                }\r\n                if (!chart.start) {\r\n                    chart.start = realSymb;\r\n                }\r\n                if (iS + 1 < lenS) {\r\n                    var nextSymb = flowSymbols[iS + 1];\r\n                    realSymb[next] = getSymbol(nextSymb);\r\n                    realSymb[\"direction_\" + next] = direction;\r\n                    direction = null;\r\n                }\r\n            }\r\n        }\r\n        else if (line.indexOf(\"@>\") >= 0) {\r\n            // line style\r\n            var lineStyleSymbols = line.split(\"@>\");\r\n            for (var iSS = 0, lenSS = lineStyleSymbols.length; iSS < lenSS; iSS++) {\r\n                if (iSS + 1 !== lenSS) {\r\n                    var curSymb = getSymbol(lineStyleSymbols[iSS]);\r\n                    var nextSymbol = getSymbol(lineStyleSymbols[iSS + 1]);\r\n                    curSymb[\"lineStyle\"][nextSymbol.key] = JSON.parse(getStyle(lineStyleSymbols[iSS + 1]));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return chart;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"./util\");\r\nvar action_1 = require(\"../action\");\r\nvar Condition = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Condition, _super);\r\n    function Condition(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.yes_annotation = options.yes_annotation;\r\n        _this.no_annotation = options.no_annotation;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.yes_direction = options.direction_yes;\r\n        _this.no_direction = options.direction_no;\r\n        _this.params = options.params;\r\n        if (!_this.no_direction && _this.yes_direction === \"right\") {\r\n            _this.no_direction = \"bottom\";\r\n        }\r\n        else if (!_this.yes_direction && _this.no_direction === \"bottom\") {\r\n            _this.yes_direction = \"right\";\r\n        }\r\n        _this.yes_direction = _this.yes_direction || \"bottom\";\r\n        _this.no_direction = _this.no_direction || \"right\";\r\n        _this.text.attr({\r\n            x: _this.textMargin * 2,\r\n        });\r\n        var width = _this.text.getBBox().width + 3 * _this.textMargin;\r\n        width += width / 2;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        height += height / 2;\r\n        height = Math.max(width * 0.5, height);\r\n        var startX = width / 4;\r\n        var startY = height / 4;\r\n        _this.text.attr({\r\n            x: startX + _this.textMargin / 2,\r\n        });\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 + height / 2,\r\n            },\r\n            { x: startX - width / 4 + width, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 - height / 2,\r\n            },\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link) {\r\n            symbol.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            symbol.attr(\"target\", options.target);\r\n        }\r\n        if (options.key) {\r\n            symbol.node.id = options.key;\r\n        }\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({\r\n            y: symbol.getBBox().height / 2,\r\n        });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Condition.prototype.render = function () {\r\n        if (this.yes_direction) {\r\n            this[this.yes_direction + \"_symbol\"] = this.yes_symbol;\r\n        }\r\n        if (this.no_direction) {\r\n            this[this.no_direction + \"_symbol\"] = this.no_symbol;\r\n        }\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                var self = this;\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.right_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.right_symbol.getCenter().y &&\r\n                                diff <= self.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.right_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                var self = this;\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.left_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.left_symbol.getCenter().y &&\r\n                                diff <= self.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.left_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.renderLines = function () {\r\n        if (this.yes_symbol) {\r\n            this.drawLineTo(this.yes_symbol, this.yes_annotation ? this.yes_annotation : this.getAttr(\"yes-text\"), this.yes_direction);\r\n        }\r\n        if (this.no_symbol) {\r\n            this.drawLineTo(this.no_symbol, this.no_annotation ? this.no_annotation : this.getAttr(\"no-text\"), this.no_direction);\r\n        }\r\n    };\r\n    return Condition;\r\n}(util_1.default));\r\nexports.default = Condition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"./util\");\r\nvar End = /** @class */ (function (_super) {\r\n    tslib_1.__extends(End, _super);\r\n    function End(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return End;\r\n}(util_1.default));\r\nexports.default = End;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"./util\");\r\nvar action_1 = require(\"../action\");\r\nvar InputOutput = /** @class */ (function (_super) {\r\n    tslib_1.__extends(InputOutput, _super);\r\n    function InputOutput(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.text.attr({\r\n            x: _this.textMargin * 3,\r\n        });\r\n        var width = _this.text.getBBox().width + 4 * _this.textMargin;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        var startX = _this.textMargin;\r\n        var startY = height / 2;\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - _this.textMargin, y: height },\r\n            { x: startX - _this.textMargin + width, y: height },\r\n            { x: startX - _this.textMargin + width + 2 * _this.textMargin, y: 0 },\r\n            { x: startX - _this.textMargin + 2 * _this.textMargin, y: 0 },\r\n            { x: startX, y: startY },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link) {\r\n            symbol.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            symbol.attr(\"target\", options.target);\r\n        }\r\n        if (options.key) {\r\n            symbol.node.id = options.key;\r\n        }\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({\r\n            y: symbol.getBBox().height / 2,\r\n        });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    InputOutput.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    InputOutput.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width - this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    return InputOutput;\r\n}(util_1.default));\r\nexports.default = InputOutput;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"./util\");\r\nvar Operation = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Operation, _super);\r\n    function Operation(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 0);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Operation;\r\n}(util_1.default));\r\nexports.default = Operation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"./util\");\r\nvar Parallel = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Parallel, _super);\r\n    function Parallel(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.path1_direction = \"bottom\";\r\n        _this.path2_direction = \"right\";\r\n        _this.path3_direction = \"top\";\r\n        _this.params = options.params;\r\n        if (options.direction_next === \"path1\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path2\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path3\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.path1 &&\r\n            options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path1 === \"right\") {\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path1_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path1 === \"top\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"top\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else if (options.direction_path1 === \"left\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"left\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"left\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"top\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"left\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else {\r\n            _this.path1_direction = options.direction_path1;\r\n            _this.path2_direction = options.direction_path2;\r\n            _this.path3_direction = options.direction_path3;\r\n        }\r\n        _this.path1_direction = _this.path1_direction || \"bottom\";\r\n        _this.path2_direction = _this.path2_direction || \"right\";\r\n        _this.path3_direction = _this.path3_direction || \"top\";\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Parallel.prototype.render = function () {\r\n        if (this.path1_direction) {\r\n            this[this.path1_direction + \"_symbol\"] = this.path1_symbol;\r\n        }\r\n        if (this.path2_direction) {\r\n            this[this.path2_direction + \"_symbol\"] = this.path2_symbol;\r\n        }\r\n        if (this.path3_direction) {\r\n            this[this.path3_direction + \"_symbol\"] = this.path3_symbol;\r\n        }\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.top_symbol) {\r\n            var topPoint = this.getTop();\r\n            if (!this.top_symbol.isPositioned) {\r\n                this.top_symbol.shiftY(this.getY() - this.top_symbol.height - lineLength);\r\n                this.top_symbol.setX(topPoint.x + this.top_symbol.width);\r\n                this.top_symbol.isPositioned = true;\r\n                this.top_symbol.render();\r\n            }\r\n        }\r\n        var self = this;\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.left_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.left_symbol.getCenter().y &&\r\n                                diff <= self.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.left_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.right_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.right_symbol.getCenter().y &&\r\n                                diff <= self.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.right_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Parallel.prototype.renderLines = function () {\r\n        if (this.path1_symbol) {\r\n            this.drawLineTo(this.path1_symbol, \"\", this.path1_direction);\r\n        }\r\n        if (this.path2_symbol) {\r\n            this.drawLineTo(this.path2_symbol, \"\", this.path2_direction);\r\n        }\r\n        if (this.path3_symbol) {\r\n            this.drawLineTo(this.path3_symbol, \"\", this.path3_direction);\r\n        }\r\n    };\r\n    return Parallel;\r\n}(util_1.default));\r\nexports.default = Parallel;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"./util\");\r\nvar Start = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Start, _super);\r\n    function Start(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"Start\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Start;\r\n}(util_1.default));\r\nexports.default = Start;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"./util\");\r\nvar Subroutine = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Subroutine, _super);\r\n    function Subroutine(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        symbol.attr({\r\n            width: _this.text.getBBox().width + 4 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        _this.text.attr({\r\n            x: 2 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        var innerWrap = chart.paper.rect(0, 0, 0, 0);\r\n        innerWrap.attr({\r\n            x: _this.getAttr(\"text-margin\"),\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            width: _this.text.getBBox().width + 2 * _this.getAttr(\"text-margin\"),\r\n            height: _this.text.getBBox().height + 2 * _this.getAttr(\"text-margin\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.key) {\r\n            innerWrap.node.id = options.key + \"i\";\r\n        }\r\n        var font = _this.getAttr(\"font\");\r\n        var fontF = _this.getAttr(\"font-family\");\r\n        var fontW = _this.getAttr(\"font-weight\");\r\n        if (font)\r\n            innerWrap.attr({ font: font });\r\n        if (fontF)\r\n            innerWrap.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            innerWrap.attr({ \"font-weight\": fontW });\r\n        if (options.link) {\r\n            innerWrap.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            innerWrap.attr(\"target\", options.target);\r\n        }\r\n        _this.group.push(innerWrap);\r\n        innerWrap.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    return Subroutine;\r\n}(util_1.default));\r\nexports.default = Subroutine;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar action_1 = require(\"../action\");\r\nvar Symbol = /** @class */ (function () {\r\n    function Symbol(chart, options, symbol) {\r\n        this.chart = chart;\r\n        this.group = this.chart.paper.set();\r\n        this.symbol = symbol;\r\n        this.connectedTo = [];\r\n        this.symbolType = options.symbolType;\r\n        this.flowstate = options.flowstate || \"future\";\r\n        this.lineStyle = options.lineStyle || {};\r\n        this.key = options.key || \"\";\r\n        this.leftLines = [];\r\n        this.rightLines = [];\r\n        this.topLines = [];\r\n        this.bottomLines = [];\r\n        this.next_direction =\r\n            options.next && options[\"direction_next\"]\r\n                ? options[\"direction_next\"]\r\n                : undefined;\r\n        this.text = this.chart.paper.text(0, 0, options.text);\r\n        //Raphael does not support the svg group tag so setting the text node id to the symbol node id plus t\r\n        if (options.key) {\r\n            this.text.node.id = options.key + \"t\";\r\n        }\r\n        this.text.node.setAttribute(\"class\", this.getAttr(\"class\") + \"t\");\r\n        this.text.attr({\r\n            \"text-anchor\": \"start\",\r\n            x: this.getAttr(\"text-margin\"),\r\n            fill: this.getAttr(\"font-color\"),\r\n            \"font-size\": this.getAttr(\"font-size\"),\r\n        });\r\n        var font = this.getAttr(\"font\");\r\n        var fontF = this.getAttr(\"font-family\");\r\n        var fontW = this.getAttr(\"font-weight\");\r\n        if (font)\r\n            this.text.attr({ font: font });\r\n        if (fontF)\r\n            this.text.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            this.text.attr({ \"font-weight\": fontW });\r\n        if (options.link) {\r\n            this.text.attr(\"href\", options.link);\r\n        }\r\n        //ndrqu Add click function with event and options params\r\n        if (options.function) {\r\n            this.text.attr({ cursor: \"pointer\" });\r\n            this.text.node.addEventListener(\"click\", function (evt) {\r\n                window[options.function](evt, options);\r\n            }, false);\r\n        }\r\n        if (options.target) {\r\n            this.text.attr(\"target\", options.target);\r\n        }\r\n        var maxWidth = this.getAttr(\"maxWidth\");\r\n        if (maxWidth) {\r\n            // using this approach: http://stackoverflow.com/a/3153457/22466\r\n            var words = options.text.split(\" \");\r\n            var tempText = \"\";\r\n            for (var i = 0, ii = words.length; i < ii; i++) {\r\n                var word = words[i];\r\n                this.text.attr(\"text\", tempText + \" \" + word);\r\n                if (this.text.getBBox().width > maxWidth) {\r\n                    tempText += \"\\n\" + word;\r\n                }\r\n                else {\r\n                    tempText += \" \" + word;\r\n                }\r\n            }\r\n            this.text.attr(\"text\", tempText.substring(1));\r\n        }\r\n        this.group.push(this.text);\r\n        if (symbol) {\r\n            var tmpMargin = this.getAttr(\"text-margin\");\r\n            symbol.attr({\r\n                fill: this.getAttr(\"fill\"),\r\n                stroke: this.getAttr(\"element-color\"),\r\n                \"stroke-width\": this.getAttr(\"line-width\"),\r\n                width: this.text.getBBox().width + 2 * tmpMargin,\r\n                height: this.text.getBBox().height + 2 * tmpMargin,\r\n            });\r\n            symbol.node.setAttribute(\"class\", this.getAttr(\"class\"));\r\n            if (options.link) {\r\n                symbol.attr(\"href\", options.link);\r\n            }\r\n            if (options.target) {\r\n                symbol.attr(\"target\", options.target);\r\n            }\r\n            //ndrqu Add click function with event and options params\r\n            if (options.function) {\r\n                symbol.node.addEventListener(\"click\", function (evt) {\r\n                    window[options.function](evt, options);\r\n                }, false);\r\n                symbol.attr({ cursor: \"pointer\" });\r\n            }\r\n            if (options.key) {\r\n                symbol.node.id = options.key;\r\n            }\r\n            this.group.push(symbol);\r\n            symbol.insertBefore(this.text);\r\n            this.text.attr({\r\n                y: symbol.getBBox().height / 2,\r\n            });\r\n            this.initialize();\r\n        }\r\n    }\r\n    /* Gets the attribute based on Flowstate, Symbol-Name and default, first found wins */\r\n    Symbol.prototype.getAttr = function (attName) {\r\n        if (!this.chart) {\r\n            return undefined;\r\n        }\r\n        var opt3 = this.chart.options ? this.chart.options[attName] : undefined;\r\n        var opt2 = this.chart.options.symbols\r\n            ? this.chart.options.symbols[this.symbolType][attName]\r\n            : undefined;\r\n        var opt1;\r\n        if (this.chart.options.flowstate &&\r\n            this.chart.options.flowstate[this.flowstate]) {\r\n            opt1 = this.chart.options.flowstate[this.flowstate][attName];\r\n        }\r\n        return opt1 || opt2 || opt3;\r\n    };\r\n    Symbol.prototype.initialize = function () {\r\n        this.group.transform(\"t\" + this.getAttr(\"line-width\") + \",\" + this.getAttr(\"line-width\"));\r\n        this.width = this.group.getBBox().width;\r\n        this.height = this.group.getBBox().height;\r\n    };\r\n    Symbol.prototype.getCenter = function () {\r\n        return {\r\n            x: this.getX() + this.width / 2,\r\n            y: this.getY() + this.height / 2,\r\n        };\r\n    };\r\n    Symbol.prototype.getX = function () {\r\n        return this.group.getBBox().x;\r\n    };\r\n    Symbol.prototype.getY = function () {\r\n        return this.group.getBBox().y;\r\n    };\r\n    Symbol.prototype.shiftX = function (x) {\r\n        this.group.transform(\"t\" + (this.getX() + x) + \",\" + this.getY());\r\n    };\r\n    Symbol.prototype.setX = function (x) {\r\n        this.group.transform(\"t\" + x + \",\" + this.getY());\r\n    };\r\n    Symbol.prototype.shiftY = function (y) {\r\n        this.group.transform(\"t\" + this.getX() + \",\" + (this.getY() + y));\r\n    };\r\n    Symbol.prototype.setY = function (y) {\r\n        this.group.transform(\"t\" + this.getX() + \",\" + y);\r\n    };\r\n    Symbol.prototype.getTop = function () {\r\n        var y = this.getY();\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    Symbol.prototype.getBottom = function () {\r\n        var y = this.getY() + this.height;\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    Symbol.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX();\r\n        return { x: x, y: y };\r\n    };\r\n    Symbol.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width;\r\n        return { x: x, y: y };\r\n    };\r\n    Symbol.prototype.render = function () {\r\n        if (this.next) {\r\n            var self_1 = this;\r\n            var lineLength_1 = this.getAttr(\"line-length\");\r\n            if (this.next_direction === \"right\") {\r\n                var rightPoint = this.getRight();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(rightPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(this.group.getBBox().x + this.width + lineLength_1);\r\n                    (function shift() {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var i = 0, len = self_1.chart.symbols.length; i < len; i++) {\r\n                            symb = self_1.chart.symbols[i];\r\n                            var diff = Math.abs(symb.getCenter().x - self_1.next.getCenter().x);\r\n                            if (symb.getCenter().y > self_1.next.getCenter().y &&\r\n                                diff <= self_1.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (self_1.next.symbolType === \"end\")\r\n                                return;\r\n                            self_1.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift();\r\n                        }\r\n                    })();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else if (this.next_direction === \"left\") {\r\n                var leftPoint = this.getLeft();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(leftPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(-(this.group.getBBox().x + this.width + lineLength_1));\r\n                    (function shift() {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var i = 0, len = self_1.chart.symbols.length; i < len; i++) {\r\n                            symb = self_1.chart.symbols[i];\r\n                            var diff = Math.abs(symb.getCenter().x - self_1.next.getCenter().x);\r\n                            if (symb.getCenter().y > self_1.next.getCenter().y &&\r\n                                diff <= self_1.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (self_1.next.symbolType === \"end\")\r\n                                return;\r\n                            self_1.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift();\r\n                        }\r\n                    })();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else {\r\n                var bottomPoint = this.getBottom();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.shiftY(this.getY() + this.height + lineLength_1);\r\n                    this.next.setX(bottomPoint.x - this.next.width / 2);\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Symbol.prototype.renderLines = function () {\r\n        if (this.next) {\r\n            if (this.next_direction) {\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\", this.next_direction);\r\n            }\r\n            else {\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\");\r\n            }\r\n        }\r\n    };\r\n    Symbol.prototype.drawLineTo = function (symbol, text, origin) {\r\n        if (this.connectedTo.indexOf(symbol) < 0) {\r\n            this.connectedTo.push(symbol);\r\n        }\r\n        var x = this.getCenter().x, y = this.getCenter().y, right = this.getRight(), bottom = this.getBottom(), top = this.getTop(), left = this.getLeft();\r\n        var symbolX = symbol.getCenter().x, symbolY = symbol.getCenter().y, symbolTop = symbol.getTop(), symbolRight = symbol.getRight(), symbolLeft = symbol.getLeft();\r\n        var isOnSameColumn = x === symbolX, isOnSameLine = y === symbolY, isUnder = y < symbolY, isUpper = y > symbolY || this === symbol, isLeft = x > symbolX, isRight = x < symbolX;\r\n        var maxX = 0, line, yOffset, lineLength = this.getAttr(\"line-length\"), lineWith = this.getAttr(\"line-width\");\r\n        if ((!origin || origin === \"bottom\") && isOnSameColumn && isUnder) {\r\n            if (symbol.topLines.length === 0 && this.bottomLines.length === 0) {\r\n                line = action_1.drawLine(this.chart, bottom, symbolTop, text);\r\n            }\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n        }\r\n        else if ((!origin || origin === \"right\") && isOnSameLine && isRight) {\r\n            if (symbol.leftLines.length === 0 && this.rightLines.length === 0) {\r\n                line = action_1.drawLine(this.chart, right, symbolLeft, text);\r\n            }\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.leftLines.length, this.rightLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y },\r\n                ], text);\r\n            }\r\n            this.rightLines.push(line);\r\n            symbol.leftLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.leftEnd = true;\r\n            maxX = symbolLeft.x;\r\n        }\r\n        else if ((!origin || origin === \"left\") && isOnSameLine && isLeft) {\r\n            if (symbol.rightLines.length === 0 && this.leftLines.length === 0) {\r\n                line = action_1.drawLine(this.chart, left, symbolRight, text);\r\n            }\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.rightLines.length, this.leftLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y },\r\n                ], text);\r\n            }\r\n            this.leftLines.push(line);\r\n            symbol.rightLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.rightEnd = true;\r\n            maxX = symbolRight.x;\r\n        }\r\n        else if ((!origin || origin === \"right\") && isOnSameColumn && isUpper) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!origin || origin === \"right\") && isOnSameColumn && isUnder) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!origin || origin === \"bottom\") && isLeft) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            if (this.leftEnd && isUpper) {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: bottom.y + lineLength / 2 - yOffset,\r\n                    },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: symbolTop.y - lineLength / 2 - yOffset,\r\n                    },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            else {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if ((!origin || origin === \"bottom\") && isRight && isUnder) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n            if (symbolTop.x > maxX)\r\n                maxX = symbolTop.x;\r\n        }\r\n        else if ((!origin || origin === \"bottom\") && isRight) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if (origin && origin === \"right\" && isLeft) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (origin && origin === \"right\" && isRight) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: symbolTop.x, y: right.y - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (origin && origin === \"bottom\" && isOnSameColumn && isUpper) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + lineLength / 2;\r\n        }\r\n        else if (origin === \"left\" && isOnSameColumn && isUpper) {\r\n            var diffX = left.x - lineLength / 2;\r\n            if (symbolLeft.x < left.x) {\r\n                diffX = symbolLeft.x - lineLength / 2;\r\n            }\r\n            yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: diffX, y: left.y - yOffset },\r\n                { x: diffX, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (origin === \"left\") {\r\n            yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: symbolTop.x + (left.x - symbolTop.x) / 2, y: left.y },\r\n                {\r\n                    x: symbolTop.x + (left.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (origin === \"top\") {\r\n            yOffset = Math.max(symbol.topLines.length, this.topLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, top, [\r\n                { x: top.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.topLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.topStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = top.x;\r\n        }\r\n        //update line style\r\n        if (this.lineStyle[symbol.key] && line) {\r\n            line.attr(this.lineStyle[symbol.key]);\r\n        }\r\n        if (line) {\r\n            for (var l = 0, llen = this.chart.lines.length; l < llen; l++) {\r\n                var otherLine = this.chart.lines[l];\r\n                var ePath = otherLine.attr(\"path\"), lPath = line.attr(\"path\");\r\n                for (var iP = 0, lenP = ePath.length - 1; iP < lenP; iP++) {\r\n                    var newPath = [];\r\n                    newPath.push([\"M\", ePath[iP][1], ePath[iP][2]]);\r\n                    newPath.push([\"L\", ePath[iP + 1][1], ePath[iP + 1][2]]);\r\n                    var line1_from_x = newPath[0][1];\r\n                    var line1_from_y = newPath[0][2];\r\n                    var line1_to_x = newPath[1][1];\r\n                    var line1_to_y = newPath[1][2];\r\n                    for (var lP = 0, lenlP = lPath.length - 1; lP < lenlP; lP++) {\r\n                        var newLinePath = [];\r\n                        newLinePath.push([\"M\", lPath[lP][1], lPath[lP][2]]);\r\n                        newLinePath.push([\"L\", lPath[lP + 1][1], lPath[lP + 1][2]]);\r\n                        var line2_from_x = newLinePath[0][1];\r\n                        var line2_from_y = newLinePath[0][2];\r\n                        var line2_to_x = newLinePath[1][1];\r\n                        var line2_to_y = newLinePath[1][2];\r\n                        var res = action_1.checkLineIntersection(line1_from_x, line1_from_y, line1_to_x, line1_to_y, line2_from_x, line2_from_y, line2_to_x, line2_to_y);\r\n                        if (res.onLine1 && res.onLine2) {\r\n                            var newSegment;\r\n                            if (line2_from_y === line2_to_y) {\r\n                                if (line2_from_x > line2_to_x) {\r\n                                    newSegment = [\"L\", res.x + lineWith * 2, line2_from_y];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x + lineWith * 2,\r\n                                        line2_from_y,\r\n                                        res.x,\r\n                                        line2_from_y - lineWith * 4,\r\n                                        res.x - lineWith * 2,\r\n                                        line2_from_y,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", res.x - lineWith * 2, line2_from_y];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x - lineWith * 2,\r\n                                        line2_from_y,\r\n                                        res.x,\r\n                                        line2_from_y - lineWith * 4,\r\n                                        res.x + lineWith * 2,\r\n                                        line2_from_y,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (line2_from_y > line2_to_y) {\r\n                                    newSegment = [\"L\", line2_from_x, res.y + lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2_from_x,\r\n                                        res.y + lineWith * 2,\r\n                                        line2_from_x + lineWith * 4,\r\n                                        res.y,\r\n                                        line2_from_x,\r\n                                        res.y - lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", line2_from_x, res.y - lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2_from_x,\r\n                                        res.y - lineWith * 2,\r\n                                        line2_from_x + lineWith * 4,\r\n                                        res.y,\r\n                                        line2_from_x,\r\n                                        res.y + lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            lP += 2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.chart.lines.push(line);\r\n            if (this.chart.minXFromSymbols === undefined ||\r\n                this.chart.minXFromSymbols > left.x) {\r\n                this.chart.minXFromSymbols = left.x;\r\n            }\r\n        }\r\n        if (!this.chart.maxXFromLine ||\r\n            (this.chart.maxXFromLine && maxX > this.chart.maxXFromLine)) {\r\n            this.chart.maxXFromLine = maxX;\r\n        }\r\n    };\r\n    return Symbol;\r\n}());\r\nexports.default = Symbol;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.inherits = exports.merge = void 0;\r\nexports.merge = function (options, defaultOptions) {\r\n    if (!options || typeof options === \"function\") {\r\n        return defaultOptions;\r\n    }\r\n    var merged = {};\r\n    for (var attrname in defaultOptions) {\r\n        merged[attrname] = defaultOptions[attrname];\r\n    }\r\n    for (attrname in options) {\r\n        if (options[attrname]) {\r\n            if (typeof merged[attrname] === \"object\") {\r\n                merged[attrname] = exports.merge(merged[attrname], options[attrname]);\r\n            }\r\n            else {\r\n                merged[attrname] = options[attrname];\r\n            }\r\n        }\r\n    }\r\n    return merged;\r\n};\r\nexports.inherits = function (ctor, superCtor) {\r\n    if (typeof Object.create === \"function\") {\r\n        // implementation from standard node.js 'util' module\r\n        ctor.super_ = superCtor;\r\n        ctor.prototype = Object.create(superCtor.prototype, {\r\n            constructor: {\r\n                value: ctor,\r\n                enumerable: false,\r\n                writable: true,\r\n                configurable: true,\r\n            },\r\n        });\r\n    }\r\n    else {\r\n        // old school shim for old browsers\r\n        ctor.super_ = superCtor;\r\n        var TempCtor = function () { };\r\n        TempCtor.prototype = superCtor.prototype;\r\n        ctor.prototype = new TempCtor();\r\n        ctor.prototype.constructor = ctor;\r\n    }\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = Raphael;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(568);\n"],"sourceRoot":""}