{"version":3,"sources":["webpack://flowchart.js/./lib/action.js","webpack://flowchart.js/./lib/chart.js","webpack://flowchart.js/./lib/config.js","webpack://flowchart.js/./lib/index.js","webpack://flowchart.js/./lib/parse.js","webpack://flowchart.js/./lib/symbol/condition.js","webpack://flowchart.js/./lib/symbol/end.js","webpack://flowchart.js/./lib/symbol/inputoutput.js","webpack://flowchart.js/./lib/symbol/operation.js","webpack://flowchart.js/./lib/symbol/parallel.js","webpack://flowchart.js/./lib/symbol/start.js","webpack://flowchart.js/./lib/symbol/subroutine.js","webpack://flowchart.js/./lib/symbol/util.js","webpack://flowchart.js/./lib/util.js","webpack://flowchart.js/./node_modules/tslib/tslib.es6.js","webpack://flowchart.js/external \"Raphael\"","webpack://flowchart.js/webpack/bootstrap","webpack://flowchart.js/webpack/runtime/define property getters","webpack://flowchart.js/webpack/runtime/hasOwnProperty shorthand","webpack://flowchart.js/webpack/runtime/make namespace object","webpack://flowchart.js/webpack/startup"],"names":["Object","defineProperty","exports","value","checkLineIntersection","drawLine","drawPath","chart","location","points","path","i","len","length","pathValues","x","y","push","symbol","paper","attr","options","font","fontFamily","fontWeight","from","to","text","prototype","toString","call","line","stroke","textPath","textAnchor","isHorizontal","firstTo","fill","line1StartX","line1StartY","line1EndX","line1EndY","line2StartX","line2StartY","line2EndX","line2EndY","result","onLine1","onLine2","denominator","numerator2","a","b","tslib_1","raphael_1","__importDefault","util_1","config_1","condition_1","parallel_1","FlowChart","handle","_this","this","symbols","indexOf","default","yes","nextSymbol","yes_symbol","no_symbol","pathOk","no","path1","path1_symbol","path2_symbol","path2","path3_symbol","path3","then","next","startWith","start","render","maxWidth","maxHeight","maxX","maxY","minX","minY","forEach","width","height","shiftX","shiftY","renderLines","maxXFromLine","leftX","getX","getY","index","length_1","lines","getBBox","x2","y2","scale","lineWidth","minXFromSymbols","setSize","setViewBox","clean","paperDom","canvas","parentNode","removeChild","container","deepAssign","defaultConfig","class","end","condition","inputoutput","operation","subroutine","parallel","flowChart","parse","window","flowchart","module","getSymbol","startIndex","endIndex","substring","chart_1","end_1","inputoutput_1","operation_1","start_1","subroutine_1","diagram","drawSVG","self","dispSymbols","constructChart","prevDisp","prev","dispSymb","key","symbolType","Error","getDisplaySymbol","input","prevBreak","replace","substr","length_2","currentLine","splice","getLines","trim","sub","txtAndState","parts","split","link","target","flowstate","function","lineStyle","params","match","entries","entry","shift","join","pop","ann","tmp","tmpSplit","getAnnotation","flowSymbols","iS","lenS","flowSymb","symbVal","nextSymb","realSymb","direction","condOpt","yes_annotation","no_annotation","curSymb","lineStyleSymbols","iSS","lenSS","JSON","_super","action_1","Condition","__extends","yes_direction","no_direction","bottomPoint","self_1","leftPoint","self_2","lineLength","getAttr","bottom_symbol","getBottom","isPositioned","setX","right_symbol","rightPoint","getRight","setY","group","symb","hasSymbolUnder","diff","Math","abs","getCenter","left_symbol","getLeft","drawLineTo","textMargin","yesDirection","direction_yes","noDirection","direction_no","startX","startY","max","node","id","setAttribute","insertBefore","initialize","End","rect","InputOutput","Operation","Parallel","path1_direction","path2_direction","path3_direction","topPoint","top_symbol","getTop","direction_next","direction_path1","direction_path2","direction_path3","Start","Subroutine","innerWrap","fontF","fontW","FlowChartSymbol","attName","opt1","opt3","undefined","opt2","transform","lineLength_1","next_direction","connectedTo","yOffset","right","bottom","top","left","symbolX","symbolY","symbolTop","symbolRight","symbolLeft","isOnSameColumn","isOnSameLine","isUnder","isUpper","isLeft","isRight","lineWith","topLines","rightLines","rightStart","topEnd","bottomLines","bottomStart","diffX","leftLines","leftStart","topStart","leftEnd","rightEnd","l","llen","ePath","lPath","iP","lenP","newPath","line1_from_x","line1_from_y","line1_to_x","line1_to_y","lP","lenlP","newLinePath","newSegment","line2_from_x","line2_from_y","line2_to_x","line2_to_y","res","set","cursor","addEventListener","event","words","tempText","ii","word","tmpMargin","originObject","assignObjects","_i","arguments","assignObject","keys","property","Array","isArray","__spreadArrays","__assign","apply","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","assign","t","s","n","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","__generator","body","f","_","label","sent","trys","ops","g","verb","Symbol","iterator","v","op","TypeError","__createBinding","o","m","k","k2","__exportStar","__values","__read","ar","error","__spread","concat","il","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","Raphael","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","definition","enumerable","obj","prop","toStringTag"],"mappings":"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","file":"flowchart.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.checkLineIntersection = exports.drawLine = exports.drawPath = void 0;\r\nexports.drawPath = function (chart, location, points) {\r\n    var i, len;\r\n    var path = \"M{0},{1}\";\r\n    for (i = 2, len = 2 * points.length + 2; i < len; i += 2) {\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    }\r\n    var pathValues = [location.x, location.y];\r\n    for (i = 0, len = points.length; i < len; i++) {\r\n        pathValues.push(points[i].x);\r\n        pathValues.push(points[i].y);\r\n    }\r\n    var symbol = chart.paper.path(path, pathValues);\r\n    symbol.attr(\"stroke\", chart.options[\"element-color\"]);\r\n    symbol.attr(\"stroke-width\", chart.options[\"line-width\"]);\r\n    var font = chart.options.font;\r\n    var fontFamily = chart.options[\"font-family\"];\r\n    var fontWeight = chart.options[\"font-weight\"];\r\n    if (font)\r\n        symbol.attr({ font: font });\r\n    if (fontFamily)\r\n        symbol.attr({ \"font-family\": fontFamily });\r\n    if (fontWeight)\r\n        symbol.attr({ \"font-weight\": fontWeight });\r\n    return symbol;\r\n};\r\nexports.drawLine = function (chart, from, to, text) {\r\n    var i, len;\r\n    if (Object.prototype.toString.call(to) !== \"[object Array]\")\r\n        to = [to];\r\n    var path = \"M{0},{1}\";\r\n    for (i = 2, len = 2 * to.length + 2; i < len; i += 2) {\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    }\r\n    var pathValues = [from.x, from.y];\r\n    for (i = 0, len = to.length; i < len; i++) {\r\n        pathValues.push(to[i].x);\r\n        pathValues.push(to[i].y);\r\n    }\r\n    var line = chart.paper.path(path, pathValues);\r\n    line.attr({\r\n        stroke: chart.options[\"line-color\"],\r\n        \"stroke-width\": chart.options[\"line-width\"],\r\n        \"arrow-end\": chart.options[\"arrow-end\"],\r\n    });\r\n    var font = chart.options.font;\r\n    var fontFamily = chart.options[\"font-family\"];\r\n    var fontWeight = chart.options[\"font-weight\"];\r\n    if (font)\r\n        line.attr({ font: font });\r\n    if (fontFamily)\r\n        line.attr({ \"font-family\": fontFamily });\r\n    if (fontWeight)\r\n        line.attr({ \"font-weight\": fontWeight });\r\n    if (text) {\r\n        var centerText = false;\r\n        var textPath = chart.paper.text(0, 0, text);\r\n        var textAnchor = \"start\";\r\n        var isHorizontal = false;\r\n        var firstTo = to[0];\r\n        if (from.y === firstTo.y)\r\n            isHorizontal = true;\r\n        var x = 0, y = 0;\r\n        if (centerText) {\r\n            if (from.x > firstTo.x)\r\n                x = from.x - (from.x - firstTo.x) / 2;\r\n            else\r\n                x = firstTo.x - (firstTo.x - from.x) / 2;\r\n            if (from.y > firstTo.y)\r\n                y = from.y - (from.y - firstTo.y) / 2;\r\n            else\r\n                y = firstTo.y - (firstTo.y - from.y) / 2;\r\n            if (isHorizontal) {\r\n                x -= textPath.getBBox().width / 2;\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"];\r\n                y -= textPath.getBBox().height / 2;\r\n            }\r\n        }\r\n        else {\r\n            x = from.x;\r\n            y = from.y;\r\n            if (isHorizontal) {\r\n                if (from.x > firstTo.x) {\r\n                    x -= chart.options[\"text-margin\"] / 2;\r\n                    textAnchor = \"end\";\r\n                }\r\n                else\r\n                    x += chart.options[\"text-margin\"] / 2;\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"] / 2;\r\n                y += chart.options[\"text-margin\"];\r\n                if (from.y > firstTo.y)\r\n                    y -= chart.options[\"text-margin\"] * 2;\r\n            }\r\n        }\r\n        textPath.attr({\r\n            \"text-anchor\": textAnchor,\r\n            \"font-size\": chart.options[\"font-size\"],\r\n            fill: chart.options[\"font-color\"],\r\n            x: x,\r\n            y: y,\r\n        });\r\n        if (font)\r\n            textPath.attr({ font: font });\r\n        if (fontFamily)\r\n            textPath.attr({ \"font-family\": fontFamily });\r\n        if (fontWeight)\r\n            textPath.attr({ \"font-weight\": fontWeight });\r\n    }\r\n    return line;\r\n};\r\nexports.checkLineIntersection = function (line1StartX, line1StartY, line1EndX, line1EndY, line2StartX, line2StartY, line2EndX, line2EndY) {\r\n    // if the lines intersect, the result contains the x and y of the intersection (treating the lines as infinite) and booleans for whether line segment 1 or line segment 2 contain the point\r\n    var denominator, a, b, result = {\r\n        x: null,\r\n        y: null,\r\n        onLine1: false,\r\n        onLine2: false,\r\n    };\r\n    denominator =\r\n        (line2EndY - line2StartY) * (line1EndX - line1StartX) -\r\n            (line2EndX - line2StartX) * (line1EndY - line1StartY);\r\n    if (denominator === 0)\r\n        return result;\r\n    a = line1StartY - line2StartY;\r\n    b = line1StartX - line2StartX;\r\n    var numerator1 = (line2EndX - line2StartX) * a - (line2EndY - line2StartY) * b;\r\n    var numerator2 = (line1EndX - line1StartX) * a - (line1EndY - line1StartY) * b;\r\n    a = numerator1 / denominator;\r\n    b = numerator2 / denominator;\r\n    // if we cast these lines infinitely in both directions, they intersect here:\r\n    result.x = line1StartX + a * (line1EndX - line1StartX);\r\n    result.y = line1StartY + a * (line1EndY - line1StartY);\r\n    /*\r\n    // it is worth noting that this should be the same as:\r\n    x = line2StartX + (b * (line2EndX - line2StartX));\r\n    y = line2StartX + (b * (line2EndY - line2StartY));\r\n    */\r\n    // if line1 is a segment and line2 is infinite, they intersect if:\r\n    if (a > 0 && a < 1)\r\n        result.onLine1 = true;\r\n    // if line2 is a segment and line1 is infinite, they intersect if:\r\n    if (b > 0 && b < 1)\r\n        result.onLine2 = true;\r\n    // if line1 and line2 are segments, they intersect if both of the above are true\r\n    return result;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar raphael_1 = tslib_1.__importDefault(require(\"raphael\"));\r\nvar util_1 = require(\"./util\");\r\nvar config_1 = require(\"./config\");\r\nvar condition_1 = tslib_1.__importDefault(require(\"./symbol/condition\"));\r\nvar parallel_1 = tslib_1.__importDefault(require(\"./symbol/parallel\"));\r\nvar FlowChart = /** @class */ (function () {\r\n    function FlowChart(container, options) {\r\n        this.paper = new raphael_1.default(container);\r\n        this.options = util_1.deepAssign(options, config_1.defaultConfig);\r\n        this.symbols = [];\r\n        this.lines = [];\r\n        this.start = null;\r\n    }\r\n    FlowChart.prototype.handle = function (symbol) {\r\n        var _this = this;\r\n        if (this.symbols.indexOf(symbol) <= -1)\r\n            this.symbols.push(symbol);\r\n        if (symbol instanceof condition_1.default) {\r\n            symbol.yes = function (nextSymbol) {\r\n                symbol.yes_symbol = nextSymbol;\r\n                if (symbol.no_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n            symbol.no = function (nextSymbol) {\r\n                symbol.no_symbol = nextSymbol;\r\n                if (symbol.yes_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n        }\r\n        else if (symbol instanceof parallel_1.default) {\r\n            symbol.path1 = function (nextSymbol) {\r\n                symbol.path1_symbol = nextSymbol;\r\n                if (symbol.path2_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n            symbol.path2 = function (nextSymbol) {\r\n                symbol.path2_symbol = nextSymbol;\r\n                if (symbol.path3_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n            symbol.path3 = function (nextSymbol) {\r\n                symbol.path3_symbol = nextSymbol;\r\n                if (symbol.path1_symbol)\r\n                    symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n        }\r\n        else\r\n            symbol.then = function (nextSymbol) {\r\n                symbol.next = nextSymbol;\r\n                symbol.pathOk = true;\r\n                return _this.handle(nextSymbol);\r\n            };\r\n        return symbol;\r\n    };\r\n    FlowChart.prototype.startWith = function (symbol) {\r\n        this.start = symbol;\r\n        return this.handle(symbol);\r\n    };\r\n    FlowChart.prototype.render = function () {\r\n        var _this = this;\r\n        var maxWidth = 0, maxHeight = 0, maxX = 0, maxY = 0, minX = 0, minY = 0, line;\r\n        this.symbols.forEach(function (symbol) {\r\n            if (symbol.width > maxWidth)\r\n                maxWidth = symbol.width;\r\n            if (symbol.height > maxHeight)\r\n                maxHeight = symbol.height;\r\n        });\r\n        this.symbols.forEach(function (symbol) {\r\n            symbol.shiftX(_this.options.x +\r\n                (maxWidth - symbol.width) / 2 +\r\n                _this.options[\"line-width\"]);\r\n            symbol.shiftY(_this.options.y +\r\n                (maxHeight - symbol.height) / 2 +\r\n                _this.options[\"line-width\"]);\r\n        });\r\n        this.start.render();\r\n        this.symbols.forEach(function (symbol) {\r\n            symbol.renderLines();\r\n        });\r\n        maxX = this.maxXFromLine;\r\n        var x;\r\n        var y;\r\n        this.symbols.forEach(function (symbol) {\r\n            var leftX = symbol.getX();\r\n            x = leftX + symbol.width;\r\n            y = symbol.getY() + symbol.height;\r\n            if (leftX < minX)\r\n                minX = leftX;\r\n            if (x > maxX)\r\n                maxX = x;\r\n            if (y > maxY)\r\n                maxY = y;\r\n        });\r\n        for (var index = 0, length_1 = this.lines.length; index < length_1; index++) {\r\n            line = this.lines[index].getBBox();\r\n            x = line.x;\r\n            y = line.y;\r\n            var x2 = line.x2;\r\n            var y2 = line.y2;\r\n            if (x < minX)\r\n                minX = x;\r\n            if (y < minY)\r\n                minY = y;\r\n            if (x2 > maxX)\r\n                maxX = x2;\r\n            if (y2 > maxY)\r\n                maxY = y2;\r\n        }\r\n        var scale = this.options[\"scale\"];\r\n        var lineWidth = this.options[\"line-width\"];\r\n        if (this.minXFromSymbols < minX)\r\n            minX = this.minXFromSymbols;\r\n        if (minX < 0)\r\n            minX -= lineWidth;\r\n        if (minY < 0)\r\n            minY -= lineWidth;\r\n        var width = maxX + lineWidth - minX;\r\n        var height = maxY + lineWidth - minY;\r\n        this.paper.setSize(width * scale, height * scale);\r\n        this.paper.setViewBox(minX, minY, width, height, true);\r\n    };\r\n    FlowChart.prototype.clean = function () {\r\n        if (this.paper) {\r\n            var paperDom = this.paper.canvas;\r\n            if (paperDom.parentNode)\r\n                paperDom.parentNode.removeChild(paperDom);\r\n        }\r\n    };\r\n    return FlowChart;\r\n}());\r\nexports.default = FlowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.defaultConfig = void 0;\r\nexports.defaultConfig = {\r\n    x: 0,\r\n    y: 0,\r\n    \"text-margin\": 10,\r\n    \"font-size\": 14,\r\n    \"font-color\": \"black\",\r\n    // 'font': 'normal',\r\n    // 'font-family': 'calibri',\r\n    // 'font-weight': 'normal',\r\n    \"line-width\": 3,\r\n    \"line-length\": 50,\r\n    \"line-color\": \"black\",\r\n    \"element-color\": \"black\",\r\n    fill: \"white\",\r\n    \"yes-text\": \"yes\",\r\n    \"no-text\": \"no\",\r\n    \"arrow-end\": \"block\",\r\n    class: \"flowchart\",\r\n    scale: 1,\r\n    symbols: {\r\n        start: {},\r\n        end: {},\r\n        condition: {},\r\n        inputoutput: {},\r\n        operation: {},\r\n        subroutine: {},\r\n        parallel: {},\r\n    },\r\n};\r\n","\"use strict\";\r\nvar parse_1 = require(\"./parse\");\r\nvar flowChart = { parse: parse_1.parse };\r\nif (typeof window !== \"undefined\") {\r\n    window.flowchart = flowChart;\r\n}\r\nmodule.exports = flowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parse = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nvar chart_1 = tslib_1.__importDefault(require(\"./chart\"));\r\nvar condition_1 = tslib_1.__importDefault(require(\"./symbol/condition\"));\r\nvar end_1 = tslib_1.__importDefault(require(\"./symbol/end\"));\r\nvar inputoutput_1 = tslib_1.__importDefault(require(\"./symbol/inputoutput\"));\r\nvar operation_1 = tslib_1.__importDefault(require(\"./symbol/operation\"));\r\nvar parallel_1 = tslib_1.__importDefault(require(\"./symbol/parallel\"));\r\nvar start_1 = tslib_1.__importDefault(require(\"./symbol/start\"));\r\nvar subroutine_1 = tslib_1.__importDefault(require(\"./symbol/subroutine\"));\r\nvar chart = {\r\n    symbols: {},\r\n    start: null,\r\n    diagram: null,\r\n    drawSVG: function (container, options) {\r\n        var self = this;\r\n        if (this.diagram)\r\n            this.diagram.clean();\r\n        var diagram = new chart_1.default(container, options);\r\n        this.diagram = diagram;\r\n        var dispSymbols = {};\r\n        var getDisplaySymbol = function (options) {\r\n            if (dispSymbols[options.key])\r\n                return dispSymbols[options.key];\r\n            switch (options.symbolType) {\r\n                case \"start\":\r\n                    dispSymbols[options.key] = new start_1.default(diagram, options);\r\n                    break;\r\n                case \"end\":\r\n                    dispSymbols[options.key] = new end_1.default(diagram, options);\r\n                    break;\r\n                case \"operation\":\r\n                    dispSymbols[options.key] = new operation_1.default(diagram, options);\r\n                    break;\r\n                case \"inputoutput\":\r\n                    dispSymbols[options.key] = new inputoutput_1.default(diagram, options);\r\n                    break;\r\n                case \"subroutine\":\r\n                    dispSymbols[options.key] = new subroutine_1.default(diagram, options);\r\n                    break;\r\n                case \"condition\":\r\n                    dispSymbols[options.key] = new condition_1.default(diagram, options);\r\n                    break;\r\n                case \"parallel\":\r\n                    dispSymbols[options.key] = new parallel_1.default(diagram, options);\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Wrong symbol type!\");\r\n            }\r\n            return dispSymbols[options.key];\r\n        };\r\n        (function constructChart(symbol, prevDisp, prev) {\r\n            var dispSymb = getDisplaySymbol(symbol);\r\n            if (self.start === symbol)\r\n                diagram.startWith(dispSymb);\r\n            else if (prevDisp && prev && !prevDisp.pathOk) {\r\n                if (prevDisp instanceof condition_1.default) {\r\n                    if (prev.yes === symbol)\r\n                        prevDisp.yes(dispSymb);\r\n                    if (prev.no === symbol)\r\n                        prevDisp.no(dispSymb);\r\n                }\r\n                else if (prevDisp instanceof parallel_1.default) {\r\n                    if (prev.path1 === symbol)\r\n                        prevDisp.path1(dispSymb);\r\n                    if (prev.path2 === symbol)\r\n                        prevDisp.path2(dispSymb);\r\n                    if (prev.path3 === symbol)\r\n                        prevDisp.path3(dispSymb);\r\n                }\r\n                else\r\n                    prevDisp.then(dispSymb);\r\n            }\r\n            if (dispSymb.pathOk) {\r\n                return dispSymb;\r\n            }\r\n            if (dispSymb instanceof condition_1.default) {\r\n                if (symbol.yes)\r\n                    constructChart(symbol.yes, dispSymb, symbol);\r\n                if (symbol.no)\r\n                    constructChart(symbol.no, dispSymb, symbol);\r\n            }\r\n            else if (dispSymb instanceof parallel_1.default) {\r\n                if (symbol.path1)\r\n                    constructChart(symbol.path1, dispSymb, symbol);\r\n                if (symbol.path2)\r\n                    constructChart(symbol.path2, dispSymb, symbol);\r\n                if (symbol.path3)\r\n                    constructChart(symbol.path3, dispSymb, symbol);\r\n            }\r\n            else if (symbol.next)\r\n                constructChart(symbol.next, dispSymb, symbol);\r\n            return dispSymb;\r\n        })(this.start);\r\n        diagram.render();\r\n    },\r\n    clean: function () {\r\n        this.diagram.clean();\r\n    },\r\n    options: function () {\r\n        return this.diagram.options;\r\n    },\r\n};\r\nvar getLines = function (input) {\r\n    var lines = [];\r\n    var prevBreak = 0;\r\n    for (var index = 1, length_1 = input.length; index < length_1; index++)\r\n        if (input[index] === \"\\n\" && input[index - 1] !== \"\\\\\") {\r\n            var line = input.substring(prevBreak, index);\r\n            prevBreak = index + 1;\r\n            lines.push(line.replace(/\\\\\\n/g, \"\\n\"));\r\n        }\r\n    if (prevBreak < input.length)\r\n        lines.push(input.substr(prevBreak));\r\n    for (var index = 1, length_2 = lines.length; index < length_2;) {\r\n        var currentLine = lines[index];\r\n        if (currentLine.indexOf(\"->\") < 0 &&\r\n            currentLine.indexOf(\"=>\") < 0 &&\r\n            currentLine.indexOf(\"@>\") < 0) {\r\n            lines[index - 1] += \"\\n\" + currentLine;\r\n            lines.splice(index, 1);\r\n            length_2--;\r\n        }\r\n        else\r\n            index++;\r\n    }\r\n    return lines;\r\n};\r\nvar getStyle = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return line.substring(startIndex, endIndex);\r\n    return \"{}\";\r\n};\r\nvar getSymbolValue = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return line.substring(startIndex, endIndex);\r\n    return \"\";\r\n};\r\nvar getSymbol = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return chart.symbols[line.substring(0, startIndex - 1)];\r\n    return chart.symbols[line];\r\n};\r\nvar getAnnotation = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1, endIndex = line.indexOf(\")\");\r\n    var tmp = line.substring(startIndex, endIndex);\r\n    if (tmp.indexOf(\",\") > 0) {\r\n        tmp = tmp.substring(0, tmp.indexOf(\",\"));\r\n    }\r\n    var tmpSplit = tmp.split(\"@\");\r\n    return tmpSplit.length > 1\r\n        ? startIndex >= 0 && endIndex >= 0\r\n            ? tmpSplit[1]\r\n            : \"\"\r\n        : \"\";\r\n};\r\nexports.parse = function (input) {\r\n    if (input === void 0) { input = \"\"; }\r\n    var lines = getLines(input.trim());\r\n    var getNextPath = function (line) {\r\n        var next = \"next\";\r\n        var startIndex = line.indexOf(\"(\") + 1;\r\n        var endIndex = line.indexOf(\")\");\r\n        if (startIndex >= 0 && endIndex >= 0) {\r\n            next = flowSymb.substring(startIndex, endIndex);\r\n            if (next.indexOf(\",\") < 0)\r\n                if (next !== \"yes\" && next !== \"no\")\r\n                    next = \"next, \" + next;\r\n        }\r\n        return next;\r\n    };\r\n    while (lines.length > 0) {\r\n        var line = lines.splice(0, 1)[0].trim();\r\n        if (line.indexOf(\"=>\") >= 0) {\r\n            // definition\r\n            var parts = line.split(\"=>\");\r\n            var symbol = {\r\n                key: parts[0].replace(/\\(.*\\)/, \"\"),\r\n                symbolType: parts[1],\r\n                text: null,\r\n                link: null,\r\n                target: null,\r\n                flowstate: null,\r\n                function: null,\r\n                lineStyle: {},\r\n                params: {},\r\n            };\r\n            //parse parameters\r\n            var params = parts[0].match(/\\((.*)\\)/);\r\n            if (params && params.length > 1) {\r\n                var entries = params[1].split(\",\");\r\n                for (var i = 0; i < entries.length; i++) {\r\n                    var entry = entries[i].split(\"=\");\r\n                    if (entry.length == 2) {\r\n                        symbol.params[entry[0]] = entry[1];\r\n                    }\r\n                }\r\n            }\r\n            var sub;\r\n            if (symbol.symbolType.indexOf(\": \") >= 0) {\r\n                sub = symbol.symbolType.split(\": \");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.text = sub.join(\": \");\r\n            }\r\n            if (symbol.text && symbol.text.indexOf(\":$\") >= 0) {\r\n                sub = symbol.text.split(\":$\");\r\n                symbol.text = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":$\") >= 0) {\r\n                sub = symbol.symbolType.split(\":$\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.text && symbol.text.indexOf(\":>\") >= 0) {\r\n                sub = symbol.text.split(\":>\");\r\n                symbol.text = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":>\") >= 0) {\r\n                sub = symbol.symbolType.split(\":>\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            if (symbol.symbolType.indexOf(\"\\n\") >= 0) {\r\n                symbol.symbolType = symbol.symbolType.split(\"\\n\")[0];\r\n            }\r\n            /* adding support for links */\r\n            if (symbol.link) {\r\n                var startIndex = symbol.link.indexOf(\"[\") + 1;\r\n                var endIndex = symbol.link.indexOf(\"]\");\r\n                if (startIndex >= 0 && endIndex >= 0) {\r\n                    symbol.target = symbol.link.substring(startIndex, endIndex);\r\n                    symbol.link = symbol.link.substring(0, startIndex - 1);\r\n                }\r\n            }\r\n            /* end of link support */\r\n            /* adding support for flowstates */\r\n            if (symbol.text) {\r\n                if (symbol.text.indexOf(\"|\") >= 0) {\r\n                    var txtAndState = symbol.text.split(\"|\");\r\n                    symbol.flowstate = txtAndState.pop().trim();\r\n                    symbol.text = txtAndState.join(\"|\");\r\n                }\r\n            }\r\n            /* end of flowstate support */\r\n            chart.symbols[symbol.key] = symbol;\r\n        }\r\n        else if (line.indexOf(\"->\") >= 0) {\r\n            var ann = getAnnotation(line);\r\n            if (ann) {\r\n                line = line.replace(\"@\" + ann, \"\");\r\n            }\r\n            // flow\r\n            var flowSymbols = line.split(\"->\");\r\n            for (var iS = 0, lenS = flowSymbols.length; iS < lenS; iS++) {\r\n                var flowSymb = flowSymbols[iS];\r\n                var symbVal = getSymbolValue(flowSymb);\r\n                if (symbVal === \"true\" || symbVal === \"false\") {\r\n                    // map true or false to yes or no respectively\r\n                    flowSymb = flowSymb.replace(\"true\", \"yes\");\r\n                    flowSymb = flowSymb.replace(\"false\", \"no\");\r\n                }\r\n                var next = getNextPath(flowSymb);\r\n                var realSymb = getSymbol(flowSymb);\r\n                var direction = null;\r\n                if (next.indexOf(\",\") >= 0) {\r\n                    var condOpt = next.split(\",\");\r\n                    next = condOpt[0];\r\n                    direction = condOpt[1].trim();\r\n                }\r\n                if (ann) {\r\n                    if (next == \"yes\" || next == \"true\")\r\n                        realSymb.yes_annotation = ann;\r\n                    else\r\n                        realSymb.no_annotation = ann;\r\n                    ann = null;\r\n                }\r\n                if (!chart.start) {\r\n                    chart.start = realSymb;\r\n                }\r\n                if (iS + 1 < lenS) {\r\n                    var nextSymb = flowSymbols[iS + 1];\r\n                    realSymb[next] = getSymbol(nextSymb);\r\n                    realSymb[\"direction_\" + next] = direction;\r\n                    direction = null;\r\n                }\r\n            }\r\n        }\r\n        else if (line.indexOf(\"@>\") >= 0) {\r\n            // line style\r\n            var lineStyleSymbols = line.split(\"@>\");\r\n            for (var iSS = 0, lenSS = lineStyleSymbols.length; iSS < lenSS; iSS++) {\r\n                if (iSS + 1 !== lenSS) {\r\n                    var curSymb = getSymbol(lineStyleSymbols[iSS]);\r\n                    var nextSymbol = getSymbol(lineStyleSymbols[iSS + 1]);\r\n                    curSymb[\"lineStyle\"][nextSymbol.key] = JSON.parse(getStyle(lineStyleSymbols[iSS + 1]));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return chart;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar action_1 = require(\"../action\");\r\nvar Condition = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Condition, _super);\r\n    function Condition(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.yes_annotation = options.yes_annotation;\r\n        _this.no_annotation = options.no_annotation;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.params = options.params;\r\n        var yesDirection = options.direction_yes, noDirection = options.direction_no;\r\n        if (!noDirection && yesDirection === \"right\")\r\n            noDirection = \"bottom\";\r\n        else if (!yesDirection && noDirection === \"bottom\")\r\n            yesDirection = \"right\";\r\n        _this.yes_direction = yesDirection || \"bottom\";\r\n        _this.no_direction = noDirection || \"right\";\r\n        _this.text.attr({ x: _this.textMargin * 2 });\r\n        var width = _this.text.getBBox().width + 3 * _this.textMargin;\r\n        width += width / 2;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        height += height / 2;\r\n        height = Math.max(width * 0.5, height);\r\n        var startX = width / 4;\r\n        var startY = height / 4;\r\n        _this.text.attr({\r\n            x: startX + _this.textMargin / 2,\r\n        });\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 + height / 2,\r\n            },\r\n            { x: startX - width / 4 + width, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 - height / 2,\r\n            },\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link)\r\n            symbol.attr(\"href\", options.link);\r\n        if (options.target)\r\n            symbol.attr(\"target\", options.target);\r\n        if (options.key)\r\n            symbol.node.id = options.key;\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({\r\n            y: symbol.getBBox().height / 2,\r\n        });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Condition.prototype.render = function () {\r\n        if (this.yes_direction)\r\n            this[this.yes_direction + \"_symbol\"] = this.yes_symbol;\r\n        if (this.no_direction)\r\n            this[this.no_direction + \"_symbol\"] = this.no_symbol;\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                var self_1 = this;\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self_1.chart.symbols.length; i < len; i++) {\r\n                        symb = self_1.chart.symbols[i];\r\n                        if (!self_1.params[\"align-next\"] ||\r\n                            self_1.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self_1.right_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self_1.right_symbol.getCenter().y &&\r\n                                diff <= self_1.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self_1.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self_1.right_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                var self_2 = this;\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self_2.chart.symbols.length; i < len; i++) {\r\n                        symb = self_2.chart.symbols[i];\r\n                        if (!self_2.params[\"align-next\"] ||\r\n                            self_2.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self_2.left_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self_2.left_symbol.getCenter().y &&\r\n                                diff <= self_2.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self_2.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self_2.left_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.renderLines = function () {\r\n        if (this.yes_symbol)\r\n            this.drawLineTo(this.yes_symbol, this.yes_annotation || this.getAttr(\"yes-text\"), this.yes_direction);\r\n        if (this.no_symbol)\r\n            this.drawLineTo(this.no_symbol, this.no_annotation || this.getAttr(\"yes-text\"), this.no_direction);\r\n    };\r\n    return Condition;\r\n}(util_1.default));\r\nexports.default = Condition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar End = /** @class */ (function (_super) {\r\n    tslib_1.__extends(End, _super);\r\n    function End(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return End;\r\n}(util_1.default));\r\nexports.default = End;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar action_1 = require(\"../action\");\r\nvar InputOutput = /** @class */ (function (_super) {\r\n    tslib_1.__extends(InputOutput, _super);\r\n    function InputOutput(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.text.attr({ x: _this.textMargin * 3 });\r\n        var width = _this.text.getBBox().width + 4 * _this.textMargin;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        var startX = _this.textMargin;\r\n        var startY = height / 2;\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - _this.textMargin, y: height },\r\n            { x: startX - _this.textMargin + width, y: height },\r\n            { x: startX - _this.textMargin + width + 2 * _this.textMargin, y: 0 },\r\n            { x: startX - _this.textMargin + 2 * _this.textMargin, y: 0 },\r\n            { x: startX, y: startY },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link)\r\n            symbol.attr(\"href\", options.link);\r\n        if (options.target)\r\n            symbol.attr(\"target\", options.target);\r\n        if (options.key)\r\n            symbol.node.id = options.key;\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({ y: symbol.getBBox().height / 2 });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    InputOutput.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    InputOutput.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width - this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    return InputOutput;\r\n}(util_1.default));\r\nexports.default = InputOutput;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Operation = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Operation, _super);\r\n    function Operation(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 0);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Operation;\r\n}(util_1.default));\r\nexports.default = Operation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Parallel = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Parallel, _super);\r\n    function Parallel(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.path1_direction = \"bottom\";\r\n        _this.path2_direction = \"right\";\r\n        _this.path3_direction = \"top\";\r\n        _this.params = options.params;\r\n        if (options.direction_next === \"path1\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path2\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path3\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.path1 &&\r\n            options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path1 === \"right\") {\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path1_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path1 === \"top\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"top\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else if (options.direction_path1 === \"left\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"left\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"left\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"top\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"left\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else {\r\n            _this.path1_direction = options.direction_path1;\r\n            _this.path2_direction = options.direction_path2;\r\n            _this.path3_direction = options.direction_path3;\r\n        }\r\n        _this.path1_direction = _this.path1_direction || \"bottom\";\r\n        _this.path2_direction = _this.path2_direction || \"right\";\r\n        _this.path3_direction = _this.path3_direction || \"top\";\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Parallel.prototype.render = function () {\r\n        if (this.path1_direction) {\r\n            this[this.path1_direction + \"_symbol\"] = this.path1_symbol;\r\n        }\r\n        if (this.path2_direction) {\r\n            this[this.path2_direction + \"_symbol\"] = this.path2_symbol;\r\n        }\r\n        if (this.path3_direction) {\r\n            this[this.path3_direction + \"_symbol\"] = this.path3_symbol;\r\n        }\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.top_symbol) {\r\n            var topPoint = this.getTop();\r\n            if (!this.top_symbol.isPositioned) {\r\n                this.top_symbol.shiftY(this.getY() - this.top_symbol.height - lineLength);\r\n                this.top_symbol.setX(topPoint.x + this.top_symbol.width);\r\n                this.top_symbol.isPositioned = true;\r\n                this.top_symbol.render();\r\n            }\r\n        }\r\n        var self = this;\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.left_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.left_symbol.getCenter().y &&\r\n                                diff <= self.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.left_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.right_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.right_symbol.getCenter().y &&\r\n                                diff <= self.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.right_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Parallel.prototype.renderLines = function () {\r\n        if (this.path1_symbol) {\r\n            this.drawLineTo(this.path1_symbol, \"\", this.path1_direction);\r\n        }\r\n        if (this.path2_symbol) {\r\n            this.drawLineTo(this.path2_symbol, \"\", this.path2_direction);\r\n        }\r\n        if (this.path3_symbol) {\r\n            this.drawLineTo(this.path3_symbol, \"\", this.path3_direction);\r\n        }\r\n    };\r\n    return Parallel;\r\n}(util_1.default));\r\nexports.default = Parallel;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Start = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Start, _super);\r\n    function Start(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"Start\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Start;\r\n}(util_1.default));\r\nexports.default = Start;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Subroutine = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Subroutine, _super);\r\n    function Subroutine(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        symbol.attr({\r\n            width: _this.text.getBBox().width + 4 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        _this.text.attr({\r\n            x: 2 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        var innerWrap = chart.paper.rect(0, 0, 0, 0);\r\n        innerWrap.attr({\r\n            x: _this.getAttr(\"text-margin\"),\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            width: _this.text.getBBox().width + 2 * _this.getAttr(\"text-margin\"),\r\n            height: _this.text.getBBox().height + 2 * _this.getAttr(\"text-margin\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.key) {\r\n            innerWrap.node.id = options.key + \"i\";\r\n        }\r\n        var font = _this.getAttr(\"font\");\r\n        var fontF = _this.getAttr(\"font-family\");\r\n        var fontW = _this.getAttr(\"font-weight\");\r\n        if (font)\r\n            innerWrap.attr({ font: font });\r\n        if (fontF)\r\n            innerWrap.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            innerWrap.attr({ \"font-weight\": fontW });\r\n        if (options.link) {\r\n            innerWrap.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            innerWrap.attr(\"target\", options.target);\r\n        }\r\n        _this.group.push(innerWrap);\r\n        innerWrap.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    return Subroutine;\r\n}(util_1.default));\r\nexports.default = Subroutine;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar action_1 = require(\"../action\");\r\nvar FlowChartSymbol = /** @class */ (function () {\r\n    function FlowChartSymbol(chart, options, symbol) {\r\n        this.chart = chart;\r\n        this.group = this.chart.paper.set();\r\n        this.symbol = symbol;\r\n        this.connectedTo = [];\r\n        this.symbolType = options.symbolType;\r\n        this.flowstate = options.flowstate || \"future\";\r\n        this.lineStyle = options.lineStyle || {};\r\n        this.key = options.key || \"\";\r\n        this.leftLines = [];\r\n        this.rightLines = [];\r\n        this.topLines = [];\r\n        this.bottomLines = [];\r\n        this.next_direction =\r\n            options.next && options[\"direction_next\"]\r\n                ? options[\"direction_next\"]\r\n                : undefined;\r\n        this.text = this.chart.paper.text(0, 0, options.text || \"\");\r\n        // Raphael does not support the svg group tag so setting the text node id to the symbol node id plus t\r\n        if (options.key)\r\n            this.text.node.id = options.key + \"t\";\r\n        this.text.node.setAttribute(\"class\", this.getAttr(\"class\") + \"t\");\r\n        this.text.attr({\r\n            \"text-anchor\": \"start\",\r\n            x: this.getAttr(\"text-margin\"),\r\n            fill: this.getAttr(\"font-color\"),\r\n            \"font-size\": this.getAttr(\"font-size\"),\r\n        });\r\n        var font = this.getAttr(\"font\");\r\n        var fontFamily = this.getAttr(\"font-family\");\r\n        var fontWeight = this.getAttr(\"font-weight\");\r\n        if (font)\r\n            this.text.attr({ font: font });\r\n        if (fontFamily)\r\n            this.text.attr({ \"font-family\": fontFamily });\r\n        if (fontWeight)\r\n            this.text.attr({ \"font-weight\": fontWeight });\r\n        if (options.link)\r\n            this.text.attr(\"href\", options.link);\r\n        //ndrqu Add click function with event and options params\r\n        if (options.function) {\r\n            this.text.attr({ cursor: \"pointer\" });\r\n            this.text.node.addEventListener(\"click\", function (event) {\r\n                window[options.function](event, options);\r\n            }, false);\r\n        }\r\n        if (options.target) {\r\n            this.text.attr(\"target\", options.target);\r\n        }\r\n        var maxWidth = this.getAttr(\"maxWidth\");\r\n        if (maxWidth) {\r\n            // using this approach: http://stackoverflow.com/a/3153457/22466\r\n            var words = options.text.split(\" \");\r\n            var tempText = \"\";\r\n            for (var i = 0, ii = words.length; i < ii; i++) {\r\n                var word = words[i];\r\n                this.text.attr(\"text\", tempText + \" \" + word);\r\n                if (this.text.getBBox().width > maxWidth) {\r\n                    tempText += \"\\n\" + word;\r\n                }\r\n                else {\r\n                    tempText += \" \" + word;\r\n                }\r\n            }\r\n            this.text.attr(\"text\", tempText.substring(1));\r\n        }\r\n        this.group.push(this.text);\r\n        if (symbol) {\r\n            var tmpMargin = this.getAttr(\"text-margin\");\r\n            symbol.attr({\r\n                fill: this.getAttr(\"fill\"),\r\n                stroke: this.getAttr(\"element-color\"),\r\n                \"stroke-width\": this.getAttr(\"line-width\"),\r\n                width: this.text.getBBox().width + 2 * tmpMargin,\r\n                height: this.text.getBBox().height + 2 * tmpMargin,\r\n            });\r\n            symbol.node.setAttribute(\"class\", this.getAttr(\"class\"));\r\n            if (options.link)\r\n                symbol.attr(\"href\", options.link);\r\n            if (options.target)\r\n                symbol.attr(\"target\", options.target);\r\n            //ndrqu Add click function with event and options params\r\n            if (options.function) {\r\n                symbol.node.addEventListener(\"click\", function (event) {\r\n                    window[options.function](event, options);\r\n                }, false);\r\n                symbol.attr({ cursor: \"pointer\" });\r\n            }\r\n            if (options.key)\r\n                symbol.node.id = options.key;\r\n            this.group.push(symbol);\r\n            symbol.insertBefore(this.text);\r\n            this.text.attr({\r\n                y: symbol.getBBox().height / 2,\r\n            });\r\n            this.initialize();\r\n        }\r\n    }\r\n    /* Gets the attribute based on Flowstate, Symbol-Name and default, first found wins */\r\n    FlowChartSymbol.prototype.getAttr = function (attName) {\r\n        if (!this.chart)\r\n            return undefined;\r\n        var opt3 = this.chart.options ? this.chart.options[attName] : undefined;\r\n        var opt2 = this.chart.options.symbols\r\n            ? this.chart.options.symbols[this.symbolType][attName]\r\n            : undefined;\r\n        var opt1;\r\n        if (this.chart.options.flowstate &&\r\n            this.chart.options.flowstate[this.flowstate])\r\n            opt1 = this.chart.options.flowstate[this.flowstate][attName];\r\n        return opt1 || opt2 || opt3;\r\n    };\r\n    FlowChartSymbol.prototype.initialize = function () {\r\n        this.group.transform(\"t\" + this.getAttr(\"line-width\") + \",\" + this.getAttr(\"line-width\"));\r\n        this.width = this.group.getBBox().width;\r\n        this.height = this.group.getBBox().height;\r\n    };\r\n    FlowChartSymbol.prototype.getCenter = function () {\r\n        return {\r\n            x: this.getX() + this.width / 2,\r\n            y: this.getY() + this.height / 2,\r\n        };\r\n    };\r\n    FlowChartSymbol.prototype.getX = function () {\r\n        return this.group.getBBox().x;\r\n    };\r\n    FlowChartSymbol.prototype.getY = function () {\r\n        return this.group.getBBox().y;\r\n    };\r\n    FlowChartSymbol.prototype.shiftX = function (x) {\r\n        this.group.transform(\"t\" + (this.getX() + x) + \",\" + this.getY());\r\n    };\r\n    FlowChartSymbol.prototype.setX = function (x) {\r\n        this.group.transform(\"t\" + x + \",\" + this.getY());\r\n    };\r\n    FlowChartSymbol.prototype.shiftY = function (y) {\r\n        this.group.transform(\"t\" + this.getX() + \",\" + (this.getY() + y));\r\n    };\r\n    FlowChartSymbol.prototype.setY = function (y) {\r\n        this.group.transform(\"t\" + this.getX() + \",\" + y);\r\n    };\r\n    FlowChartSymbol.prototype.getTop = function () {\r\n        var y = this.getY();\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getBottom = function () {\r\n        var y = this.getY() + this.height;\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX();\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.render = function () {\r\n        if (this.next) {\r\n            var self_1 = this;\r\n            var lineLength_1 = this.getAttr(\"line-length\");\r\n            if (this.next_direction === \"right\") {\r\n                var rightPoint = this.getRight();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(rightPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(this.group.getBBox().x + this.width + lineLength_1);\r\n                    (function shift() {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var i = 0, len = self_1.chart.symbols.length; i < len; i++) {\r\n                            symb = self_1.chart.symbols[i];\r\n                            var diff = Math.abs(symb.getCenter().x - self_1.next.getCenter().x);\r\n                            if (symb.getCenter().y > self_1.next.getCenter().y &&\r\n                                diff <= self_1.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (self_1.next.symbolType === \"end\")\r\n                                return;\r\n                            self_1.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift();\r\n                        }\r\n                    })();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else if (this.next_direction === \"left\") {\r\n                var leftPoint = this.getLeft();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(leftPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(-(this.group.getBBox().x + this.width + lineLength_1));\r\n                    (function shift() {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var i = 0, len = self_1.chart.symbols.length; i < len; i++) {\r\n                            symb = self_1.chart.symbols[i];\r\n                            var diff = Math.abs(symb.getCenter().x - self_1.next.getCenter().x);\r\n                            if (symb.getCenter().y > self_1.next.getCenter().y &&\r\n                                diff <= self_1.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (self_1.next.symbolType === \"end\")\r\n                                return;\r\n                            self_1.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift();\r\n                        }\r\n                    })();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else {\r\n                var bottomPoint = this.getBottom();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.shiftY(this.getY() + this.height + lineLength_1);\r\n                    this.next.setX(bottomPoint.x - this.next.width / 2);\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    FlowChartSymbol.prototype.renderLines = function () {\r\n        if (this.next)\r\n            if (this.next_direction)\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\", this.next_direction);\r\n            else\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\");\r\n    };\r\n    FlowChartSymbol.prototype.drawLineTo = function (symbol, text, direction) {\r\n        if (this.connectedTo.indexOf(symbol) < 0)\r\n            this.connectedTo.push(symbol);\r\n        var x = this.getCenter().x, y = this.getCenter().y, right = this.getRight(), bottom = this.getBottom(), top = this.getTop(), left = this.getLeft();\r\n        var symbolX = symbol.getCenter().x, symbolY = symbol.getCenter().y, symbolTop = symbol.getTop(), symbolRight = symbol.getRight(), symbolLeft = symbol.getLeft();\r\n        var isOnSameColumn = x === symbolX, isOnSameLine = y === symbolY, isUnder = y < symbolY, isUpper = y > symbolY || this === symbol, isLeft = x > symbolX, isRight = x < symbolX;\r\n        var maxX = 0, line, yOffset, lineLength = this.getAttr(\"line-length\"), lineWith = this.getAttr(\"line-width\");\r\n        if ((!direction || direction === \"bottom\") && isOnSameColumn && isUnder) {\r\n            if (symbol.topLines.length === 0 && this.bottomLines.length === 0) {\r\n                line = action_1.drawLine(this.chart, bottom, symbolTop, text);\r\n            }\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n        }\r\n        else if ((!direction || direction === \"right\") &&\r\n            isOnSameLine &&\r\n            isRight) {\r\n            if (symbol.leftLines.length === 0 && this.rightLines.length === 0)\r\n                line = action_1.drawLine(this.chart, right, symbolLeft, text);\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.leftLines.length, this.rightLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y },\r\n                ], text);\r\n            }\r\n            this.rightLines.push(line);\r\n            symbol.leftLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.leftEnd = true;\r\n            maxX = symbolLeft.x;\r\n        }\r\n        else if ((!direction || direction === \"left\") && isOnSameLine && isLeft) {\r\n            if (symbol.rightLines.length === 0 && this.leftLines.length === 0)\r\n                line = action_1.drawLine(this.chart, left, symbolRight, text);\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.rightLines.length, this.leftLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y },\r\n                ], text);\r\n            }\r\n            this.leftLines.push(line);\r\n            symbol.rightLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.rightEnd = true;\r\n            maxX = symbolRight.x;\r\n        }\r\n        else if ((!direction || direction === \"right\") &&\r\n            isOnSameColumn &&\r\n            isUpper) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!direction || direction === \"right\") &&\r\n            isOnSameColumn &&\r\n            isUnder) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!direction || direction === \"bottom\") && isLeft) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            if (this.leftEnd && isUpper) {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: bottom.y + lineLength / 2 - yOffset,\r\n                    },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: symbolTop.y - lineLength / 2 - yOffset,\r\n                    },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            else {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if ((!direction || direction === \"bottom\") && isRight && isUnder) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n            if (symbolTop.x > maxX)\r\n                maxX = symbolTop.x;\r\n        }\r\n        else if ((!direction || direction === \"bottom\") && isRight) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if (direction && direction === \"right\" && isLeft) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (direction && direction === \"right\" && isRight) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: symbolTop.x, y: right.y - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (direction &&\r\n            direction === \"bottom\" &&\r\n            isOnSameColumn &&\r\n            isUpper) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + lineLength / 2;\r\n        }\r\n        else if (direction === \"left\" && isOnSameColumn && isUpper) {\r\n            var diffX = left.x - lineLength / 2;\r\n            if (symbolLeft.x < left.x) {\r\n                diffX = symbolLeft.x - lineLength / 2;\r\n            }\r\n            yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: diffX, y: left.y - yOffset },\r\n                { x: diffX, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (direction === \"left\") {\r\n            yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: symbolTop.x + (left.x - symbolTop.x) / 2, y: left.y },\r\n                {\r\n                    x: symbolTop.x + (left.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (direction === \"top\") {\r\n            yOffset = Math.max(symbol.topLines.length, this.topLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, top, [\r\n                { x: top.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.topLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.topStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = top.x;\r\n        }\r\n        //update line style\r\n        if (this.lineStyle[symbol.key] && line) {\r\n            line.attr(this.lineStyle[symbol.key]);\r\n        }\r\n        if (line) {\r\n            for (var l = 0, llen = this.chart.lines.length; l < llen; l++) {\r\n                var otherLine = this.chart.lines[l];\r\n                var ePath = otherLine.attr(\"path\"), lPath = line.attr(\"path\");\r\n                for (var iP = 0, lenP = ePath.length - 1; iP < lenP; iP++) {\r\n                    var newPath = [];\r\n                    newPath.push([\"M\", ePath[iP][1], ePath[iP][2]]);\r\n                    newPath.push([\"L\", ePath[iP + 1][1], ePath[iP + 1][2]]);\r\n                    var line1_from_x = newPath[0][1];\r\n                    var line1_from_y = newPath[0][2];\r\n                    var line1_to_x = newPath[1][1];\r\n                    var line1_to_y = newPath[1][2];\r\n                    for (var lP = 0, lenlP = lPath.length - 1; lP < lenlP; lP++) {\r\n                        var newLinePath = [];\r\n                        newLinePath.push([\"M\", lPath[lP][1], lPath[lP][2]]);\r\n                        newLinePath.push([\"L\", lPath[lP + 1][1], lPath[lP + 1][2]]);\r\n                        var line2_from_x = newLinePath[0][1];\r\n                        var line2_from_y = newLinePath[0][2];\r\n                        var line2_to_x = newLinePath[1][1];\r\n                        var line2_to_y = newLinePath[1][2];\r\n                        var res = action_1.checkLineIntersection(line1_from_x, line1_from_y, line1_to_x, line1_to_y, line2_from_x, line2_from_y, line2_to_x, line2_to_y);\r\n                        if (res.onLine1 && res.onLine2) {\r\n                            var newSegment;\r\n                            if (line2_from_y === line2_to_y) {\r\n                                if (line2_from_x > line2_to_x) {\r\n                                    newSegment = [\"L\", res.x + lineWith * 2, line2_from_y];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x + lineWith * 2,\r\n                                        line2_from_y,\r\n                                        res.x,\r\n                                        line2_from_y - lineWith * 4,\r\n                                        res.x - lineWith * 2,\r\n                                        line2_from_y,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", res.x - lineWith * 2, line2_from_y];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x - lineWith * 2,\r\n                                        line2_from_y,\r\n                                        res.x,\r\n                                        line2_from_y - lineWith * 4,\r\n                                        res.x + lineWith * 2,\r\n                                        line2_from_y,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (line2_from_y > line2_to_y) {\r\n                                    newSegment = [\"L\", line2_from_x, res.y + lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2_from_x,\r\n                                        res.y + lineWith * 2,\r\n                                        line2_from_x + lineWith * 4,\r\n                                        res.y,\r\n                                        line2_from_x,\r\n                                        res.y - lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", line2_from_x, res.y - lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2_from_x,\r\n                                        res.y - lineWith * 2,\r\n                                        line2_from_x + lineWith * 4,\r\n                                        res.y,\r\n                                        line2_from_x,\r\n                                        res.y + lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            lP += 2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.chart.lines.push(line);\r\n            if (this.chart.minXFromSymbols === undefined ||\r\n                this.chart.minXFromSymbols > left.x)\r\n                this.chart.minXFromSymbols = left.x;\r\n        }\r\n        if (!this.chart.maxXFromLine ||\r\n            (this.chart.maxXFromLine && maxX > this.chart.maxXFromLine))\r\n            this.chart.maxXFromLine = maxX;\r\n    };\r\n    return FlowChartSymbol;\r\n}());\r\nexports.default = FlowChartSymbol;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deepAssign = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nexports.deepAssign = function (originObject) {\r\n    var assignObjects = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        assignObjects[_i - 1] = arguments[_i];\r\n    }\r\n    if (assignObjects.length === 0)\r\n        return originObject;\r\n    var assignObject = assignObjects.shift();\r\n    Object.keys(assignObject).forEach(function (property) {\r\n        if (typeof originObject[property] === \"object\" &&\r\n            !Array.isArray(originObject[property]) &&\r\n            typeof assignObject[property] === \"object\" &&\r\n            !Array.isArray(assignObject[property]))\r\n            exports.deepAssign(originObject[property], assignObject[property]);\r\n        else if (typeof assignObject[property] === \"object\")\r\n            if (Array.isArray(assignObject[property]))\r\n                originObject[property] = tslib_1.__spreadArrays(assignObject[property]);\r\n            else\r\n                originObject[property] = tslib_1.__assign({}, assignObject[property]);\r\n        else\r\n            originObject[property] = assignObject[property];\r\n    });\r\n    return exports.deepAssign.apply(void 0, tslib_1.__spreadArrays([originObject], assignObjects));\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = Raphael;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(568);\n"],"sourceRoot":""}