{"version":3,"sources":["webpack://flowchart.js/./lib/action.js","webpack://flowchart.js/./lib/chart.js","webpack://flowchart.js/./lib/config.js","webpack://flowchart.js/./lib/index.js","webpack://flowchart.js/./lib/parse.js","webpack://flowchart.js/./lib/symbol/condition.js","webpack://flowchart.js/./lib/symbol/end.js","webpack://flowchart.js/./lib/symbol/inputoutput.js","webpack://flowchart.js/./lib/symbol/operation.js","webpack://flowchart.js/./lib/symbol/parallel.js","webpack://flowchart.js/./lib/symbol/start.js","webpack://flowchart.js/./lib/symbol/subroutine.js","webpack://flowchart.js/./lib/symbol/util.js","webpack://flowchart.js/./lib/util.js","webpack://flowchart.js/./node_modules/tslib/tslib.es6.js","webpack://flowchart.js/external \"Raphael\"","webpack://flowchart.js/webpack/bootstrap","webpack://flowchart.js/webpack/runtime/define property getters","webpack://flowchart.js/webpack/runtime/hasOwnProperty shorthand","webpack://flowchart.js/webpack/runtime/make namespace object","webpack://flowchart.js/webpack/startup"],"names":["Object","defineProperty","exports","value","checkLineIntersection","drawLine","drawPath","chart","location","points","path","i","len","length","pathValues","x","y","push","symbol","paper","attr","options","font","fontF","fontW","from","to","text","prototype","toString","call","line","stroke","textPath","textAnchor","isHorizontal","firstTo","fill","line1StartX","line1StartY","line1EndX","line1EndY","line2StartX","line2StartY","line2EndX","line2EndY","a","b","numerator2","result","onLine1","onLine2","denominator","tslib_1","raphael_1","__importDefault","util_1","config_1","condition_1","parallel_1","FlowChart","handle","this","symbols","indexOf","flowChart","default","yes","nextSymbol","yes_symbol","no_symbol","pathOk","no","path1","path1_symbol","path2_symbol","path2","path3_symbol","path3","then","next","startWith","start","render","_this","maxWidth","maxHeight","maxX","maxY","minX","minY","forEach","width","height","shiftX","shiftY","renderLines","maxXFromLine","leftX","getX","getY","index","length_1","lines","getBBox","x2","y2","scale","lineWidth","minXFromSymbols","setSize","setViewBox","clean","paperDom","canvas","parentNode","removeChild","container","merge","defaultConfig","class","end","condition","inputoutput","operation","subroutine","parallel","parse","window","flowchart","module","getSymbol","startIndex","endIndex","substring","chart_1","end_1","inputoutput_1","operation_1","start_1","subroutine_1","diagram","drawSVG","self","dispSymbols","constructChart","prevDisp","prev","dispSymb","key","symbolType","Error","getDisplaySymbol","input","prevBreak","replace","substr","length_2","currentLine","splice","getLines","trim","sub","txtAndState","parts","split","link","target","flowstate","function","lineStyle","params","match","entries","entry","shift","join","pop","ann","tmp","tmpSplit","getAnnotation","flowSymbols","iS","lenS","flowSymb","symbVal","nextSymb","realSymb","direction","condOpt","yes_annotation","no_annotation","curSymb","lineStyleSymbols","iSS","lenSS","JSON","_super","action_1","Condition","__extends","yes_direction","no_direction","bottomPoint","leftPoint","lineLength","getAttr","bottom_symbol","getBottom","isPositioned","setX","right_symbol","rightPoint","getRight","setY","group","symb","hasSymbolUnder","diff","Math","abs","getCenter","left_symbol","getLeft","drawLineTo","textMargin","direction_yes","direction_no","startX","startY","max","node","id","setAttribute","insertBefore","initialize","End","rect","InputOutput","Operation","Parallel","path1_direction","path2_direction","path3_direction","topPoint","top_symbol","getTop","direction_next","direction_path1","direction_path2","direction_path3","Start","Subroutine","innerWrap","FlowChartSymbol","attName","opt1","opt3","undefined","opt2","transform","self_1","lineLength_1","next_direction","origin","connectedTo","yOffset","right","bottom","top","left","symbolX","symbolY","symbolTop","symbolRight","symbolLeft","isOnSameColumn","isOnSameLine","isUnder","isUpper","isLeft","isRight","lineWith","topLines","rightLines","rightStart","topEnd","bottomLines","bottomStart","diffX","leftLines","leftStart","topStart","leftEnd","rightEnd","l","llen","ePath","lPath","iP","lenP","newPath","line1_from_x","line1_from_y","line1_to_x","line1_to_y","lP","lenlP","newLinePath","newSegment","line2_from_x","line2_from_y","line2_to_x","line2_to_y","res","set","cursor","addEventListener","event","words","tempText","ii","word","tmpMargin","defaultOptions","attrname","merged","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","__assign","assign","t","s","n","arguments","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","__generator","body","f","_","label","sent","trys","ops","g","verb","Symbol","iterator","v","op","TypeError","__createBinding","o","m","k","k2","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","Raphael","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","definition","enumerable","obj","prop","toStringTag"],"mappings":"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","file":"flowchart.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.checkLineIntersection = exports.drawLine = exports.drawPath = void 0;\r\nexports.drawPath = function (chart, location, points) {\r\n    var i, len;\r\n    var path = \"M{0},{1}\";\r\n    for (i = 2, len = 2 * points.length + 2; i < len; i += 2) {\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    }\r\n    var pathValues = [location.x, location.y];\r\n    for (i = 0, len = points.length; i < len; i++) {\r\n        pathValues.push(points[i].x);\r\n        pathValues.push(points[i].y);\r\n    }\r\n    var symbol = chart.paper.path(path, pathValues);\r\n    symbol.attr(\"stroke\", chart.options[\"element-color\"]);\r\n    symbol.attr(\"stroke-width\", chart.options[\"line-width\"]);\r\n    var font = chart.options.font;\r\n    var fontF = chart.options[\"font-family\"];\r\n    var fontW = chart.options[\"font-weight\"];\r\n    if (font)\r\n        symbol.attr({ font: font });\r\n    if (fontF)\r\n        symbol.attr({ \"font-family\": fontF });\r\n    if (fontW)\r\n        symbol.attr({ \"font-weight\": fontW });\r\n    return symbol;\r\n};\r\nexports.drawLine = function (chart, from, to, text) {\r\n    var i, len;\r\n    if (Object.prototype.toString.call(to) !== \"[object Array]\") {\r\n        to = [to];\r\n    }\r\n    var path = \"M{0},{1}\";\r\n    for (i = 2, len = 2 * to.length + 2; i < len; i += 2) {\r\n        path += \" L{\" + i + \"},{\" + (i + 1) + \"}\";\r\n    }\r\n    var pathValues = [from.x, from.y];\r\n    for (i = 0, len = to.length; i < len; i++) {\r\n        pathValues.push(to[i].x);\r\n        pathValues.push(to[i].y);\r\n    }\r\n    var line = chart.paper.path(path, pathValues);\r\n    line.attr({\r\n        stroke: chart.options[\"line-color\"],\r\n        \"stroke-width\": chart.options[\"line-width\"],\r\n        \"arrow-end\": chart.options[\"arrow-end\"],\r\n    });\r\n    var font = chart.options.font;\r\n    var fontF = chart.options[\"font-family\"];\r\n    var fontW = chart.options[\"font-weight\"];\r\n    if (font)\r\n        line.attr({ font: font });\r\n    if (fontF)\r\n        line.attr({ \"font-family\": fontF });\r\n    if (fontW)\r\n        line.attr({ \"font-weight\": fontW });\r\n    if (text) {\r\n        var centerText = false;\r\n        var textPath = chart.paper.text(0, 0, text);\r\n        var textAnchor = \"start\";\r\n        var isHorizontal = false;\r\n        var firstTo = to[0];\r\n        if (from.y === firstTo.y) {\r\n            isHorizontal = true;\r\n        }\r\n        var x = 0, y = 0;\r\n        if (centerText) {\r\n            if (from.x > firstTo.x) {\r\n                x = from.x - (from.x - firstTo.x) / 2;\r\n            }\r\n            else {\r\n                x = firstTo.x - (firstTo.x - from.x) / 2;\r\n            }\r\n            if (from.y > firstTo.y) {\r\n                y = from.y - (from.y - firstTo.y) / 2;\r\n            }\r\n            else {\r\n                y = firstTo.y - (firstTo.y - from.y) / 2;\r\n            }\r\n            if (isHorizontal) {\r\n                x -= textPath.getBBox().width / 2;\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"];\r\n                y -= textPath.getBBox().height / 2;\r\n            }\r\n        }\r\n        else {\r\n            x = from.x;\r\n            y = from.y;\r\n            if (isHorizontal) {\r\n                if (from.x > firstTo.x) {\r\n                    x -= chart.options[\"text-margin\"] / 2;\r\n                    textAnchor = \"end\";\r\n                }\r\n                else {\r\n                    x += chart.options[\"text-margin\"] / 2;\r\n                }\r\n                y -= chart.options[\"text-margin\"];\r\n            }\r\n            else {\r\n                x += chart.options[\"text-margin\"] / 2;\r\n                y += chart.options[\"text-margin\"];\r\n                if (from.y > firstTo.y) {\r\n                    y -= chart.options[\"text-margin\"] * 2;\r\n                }\r\n            }\r\n        }\r\n        textPath.attr({\r\n            \"text-anchor\": textAnchor,\r\n            \"font-size\": chart.options[\"font-size\"],\r\n            fill: chart.options[\"font-color\"],\r\n            x: x,\r\n            y: y,\r\n        });\r\n        if (font)\r\n            textPath.attr({ font: font });\r\n        if (fontF)\r\n            textPath.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            textPath.attr({ \"font-weight\": fontW });\r\n    }\r\n    return line;\r\n};\r\nexports.checkLineIntersection = function (line1StartX, line1StartY, line1EndX, line1EndY, line2StartX, line2StartY, line2EndX, line2EndY) {\r\n    // if the lines intersect, the result contains the x and y of the intersection (treating the lines as infinite) and booleans for whether line segment 1 or line segment 2 contain the point\r\n    var denominator, a, b, numerator1, numerator2, result = {\r\n        x: null,\r\n        y: null,\r\n        onLine1: false,\r\n        onLine2: false,\r\n    };\r\n    denominator =\r\n        (line2EndY - line2StartY) * (line1EndX - line1StartX) -\r\n            (line2EndX - line2StartX) * (line1EndY - line1StartY);\r\n    if (denominator === 0) {\r\n        return result;\r\n    }\r\n    a = line1StartY - line2StartY;\r\n    b = line1StartX - line2StartX;\r\n    numerator1 = (line2EndX - line2StartX) * a - (line2EndY - line2StartY) * b;\r\n    numerator2 = (line1EndX - line1StartX) * a - (line1EndY - line1StartY) * b;\r\n    a = numerator1 / denominator;\r\n    b = numerator2 / denominator;\r\n    // if we cast these lines infinitely in both directions, they intersect here:\r\n    result.x = line1StartX + a * (line1EndX - line1StartX);\r\n    result.y = line1StartY + a * (line1EndY - line1StartY);\r\n    /*\r\n    // it is worth noting that this should be the same as:\r\n    x = line2StartX + (b * (line2EndX - line2StartX));\r\n    y = line2StartX + (b * (line2EndY - line2StartY));\r\n    */\r\n    // if line1 is a segment and line2 is infinite, they intersect if:\r\n    if (a > 0 && a < 1) {\r\n        result.onLine1 = true;\r\n    }\r\n    // if line2 is a segment and line1 is infinite, they intersect if:\r\n    if (b > 0 && b < 1) {\r\n        result.onLine2 = true;\r\n    }\r\n    // if line1 and line2 are segments, they intersect if both of the above are true\r\n    return result;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar raphael_1 = tslib_1.__importDefault(require(\"raphael\"));\r\nvar util_1 = require(\"./util\");\r\nvar config_1 = require(\"./config\");\r\nvar condition_1 = tslib_1.__importDefault(require(\"./symbol/condition\"));\r\nvar parallel_1 = tslib_1.__importDefault(require(\"./symbol/parallel\"));\r\nvar FlowChart = /** @class */ (function () {\r\n    function FlowChart(container, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.paper = new raphael_1.default(container);\r\n        this.options = util_1.merge(options, config_1.defaultConfig);\r\n        this.symbols = [];\r\n        this.lines = [];\r\n        this.start = null;\r\n    }\r\n    FlowChart.prototype.handle = function (symbol) {\r\n        if (this.symbols.indexOf(symbol) <= -1)\r\n            this.symbols.push(symbol);\r\n        var flowChart = this;\r\n        if (symbol instanceof condition_1.default) {\r\n            symbol.yes = function (nextSymbol) {\r\n                symbol.yes_symbol = nextSymbol;\r\n                if (symbol.no_symbol)\r\n                    symbol.pathOk = true;\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n            symbol.no = function (nextSymbol) {\r\n                symbol.no_symbol = nextSymbol;\r\n                if (symbol.yes_symbol)\r\n                    symbol.pathOk = true;\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n        }\r\n        else if (symbol instanceof parallel_1.default) {\r\n            symbol.path1 = function (nextSymbol) {\r\n                symbol.path1_symbol = nextSymbol;\r\n                if (symbol.path2_symbol)\r\n                    symbol.pathOk = true;\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n            symbol.path2 = function (nextSymbol) {\r\n                symbol.path2_symbol = nextSymbol;\r\n                if (symbol.path3_symbol)\r\n                    symbol.pathOk = true;\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n            symbol.path3 = function (nextSymbol) {\r\n                symbol.path3_symbol = nextSymbol;\r\n                if (symbol.path1_symbol)\r\n                    symbol.pathOk = true;\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n        }\r\n        else\r\n            symbol.then = function (nextSymbol) {\r\n                symbol.next = nextSymbol;\r\n                symbol.pathOk = true;\r\n                return flowChart.handle(nextSymbol);\r\n            };\r\n        return symbol;\r\n    };\r\n    FlowChart.prototype.startWith = function (symbol) {\r\n        this.start = symbol;\r\n        return this.handle(symbol);\r\n    };\r\n    FlowChart.prototype.render = function () {\r\n        var _this = this;\r\n        var maxWidth = 0, maxHeight = 0, maxX = 0, maxY = 0, minX = 0, minY = 0, symbol, line;\r\n        this.symbols.forEach(function (symbol) {\r\n            if (symbol.width > maxWidth)\r\n                maxWidth = symbol.width;\r\n            if (symbol.height > maxHeight)\r\n                maxHeight = symbol.height;\r\n        });\r\n        this.symbols.forEach(function (symbol) {\r\n            symbol.shiftX(_this.options.x +\r\n                (maxWidth - symbol.width) / 2 +\r\n                _this.options[\"line-width\"]);\r\n            symbol.shiftY(_this.options.y +\r\n                (maxHeight - symbol.height) / 2 +\r\n                _this.options[\"line-width\"]);\r\n        });\r\n        this.start.render();\r\n        this.symbols.forEach(function (symbol) {\r\n            symbol.renderLines();\r\n        });\r\n        maxX = this.maxXFromLine;\r\n        var x;\r\n        var y;\r\n        this.symbols.forEach(function (symbol) {\r\n            var leftX = symbol.getX();\r\n            x = leftX + symbol.width;\r\n            y = symbol.getY() + symbol.height;\r\n            if (leftX < minX)\r\n                minX = leftX;\r\n            if (x > maxX)\r\n                maxX = x;\r\n            if (y > maxY)\r\n                maxY = y;\r\n        });\r\n        for (var index = 0, length_1 = this.lines.length; index < length_1; index++) {\r\n            line = this.lines[index].getBBox();\r\n            x = line.x;\r\n            y = line.y;\r\n            var x2 = line.x2;\r\n            var y2 = line.y2;\r\n            if (x < minX)\r\n                minX = x;\r\n            if (y < minY)\r\n                minY = y;\r\n            if (x2 > maxX)\r\n                maxX = x2;\r\n            if (y2 > maxY)\r\n                maxY = y2;\r\n        }\r\n        var scale = this.options[\"scale\"];\r\n        var lineWidth = this.options[\"line-width\"];\r\n        if (this.minXFromSymbols < minX)\r\n            minX = this.minXFromSymbols;\r\n        if (minX < 0)\r\n            minX -= lineWidth;\r\n        if (minY < 0)\r\n            minY -= lineWidth;\r\n        var width = maxX + lineWidth - minX;\r\n        var height = maxY + lineWidth - minY;\r\n        this.paper.setSize(width * scale, height * scale);\r\n        this.paper.setViewBox(minX, minY, width, height, true);\r\n    };\r\n    FlowChart.prototype.clean = function () {\r\n        if (this.paper) {\r\n            var paperDom = this.paper.canvas;\r\n            if (paperDom.parentNode)\r\n                paperDom.parentNode.removeChild(paperDom);\r\n        }\r\n    };\r\n    return FlowChart;\r\n}());\r\nexports.default = FlowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.defaultConfig = void 0;\r\nexports.defaultConfig = {\r\n    x: 0,\r\n    y: 0,\r\n    \"line-width\": 3,\r\n    \"line-length\": 50,\r\n    \"text-margin\": 10,\r\n    \"font-size\": 14,\r\n    \"font-color\": \"black\",\r\n    // 'font': 'normal',\r\n    // 'font-family': 'calibri',\r\n    // 'font-weight': 'normal',\r\n    \"line-color\": \"black\",\r\n    \"element-color\": \"black\",\r\n    fill: \"white\",\r\n    \"yes-text\": \"yes\",\r\n    \"no-text\": \"no\",\r\n    \"arrow-end\": \"block\",\r\n    class: \"flowchart\",\r\n    scale: 1,\r\n    symbols: {\r\n        start: {},\r\n        end: {},\r\n        condition: {},\r\n        inputoutput: {},\r\n        operation: {},\r\n        subroutine: {},\r\n        parallel: {},\r\n    },\r\n};\r\n","\"use strict\";\r\nvar parse_1 = require(\"./parse\");\r\nvar flowChart = { parse: parse_1.parse };\r\nif (typeof window !== \"undefined\") {\r\n    window.flowchart = flowChart;\r\n}\r\nmodule.exports = flowChart;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.parse = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nvar chart_1 = tslib_1.__importDefault(require(\"./chart\"));\r\nvar condition_1 = tslib_1.__importDefault(require(\"./symbol/condition\"));\r\nvar end_1 = tslib_1.__importDefault(require(\"./symbol/end\"));\r\nvar inputoutput_1 = tslib_1.__importDefault(require(\"./symbol/inputoutput\"));\r\nvar operation_1 = tslib_1.__importDefault(require(\"./symbol/operation\"));\r\nvar parallel_1 = tslib_1.__importDefault(require(\"./symbol/parallel\"));\r\nvar start_1 = tslib_1.__importDefault(require(\"./symbol/start\"));\r\nvar subroutine_1 = tslib_1.__importDefault(require(\"./symbol/subroutine\"));\r\nvar chart = {\r\n    symbols: {},\r\n    start: null,\r\n    diagram: null,\r\n    drawSVG: function (container, options) {\r\n        var self = this;\r\n        if (this.diagram)\r\n            this.diagram.clean();\r\n        var diagram = new chart_1.default(container, options);\r\n        this.diagram = diagram;\r\n        var dispSymbols = {};\r\n        var getDisplaySymbol = function (options) {\r\n            if (dispSymbols[options.key])\r\n                return dispSymbols[options.key];\r\n            switch (options.symbolType) {\r\n                case \"start\":\r\n                    dispSymbols[options.key] = new start_1.default(diagram, options);\r\n                    break;\r\n                case \"end\":\r\n                    dispSymbols[options.key] = new end_1.default(diagram, options);\r\n                    break;\r\n                case \"operation\":\r\n                    dispSymbols[options.key] = new operation_1.default(diagram, options);\r\n                    break;\r\n                case \"inputoutput\":\r\n                    dispSymbols[options.key] = new inputoutput_1.default(diagram, options);\r\n                    break;\r\n                case \"subroutine\":\r\n                    dispSymbols[options.key] = new subroutine_1.default(diagram, options);\r\n                    break;\r\n                case \"condition\":\r\n                    dispSymbols[options.key] = new condition_1.default(diagram, options);\r\n                    break;\r\n                case \"parallel\":\r\n                    dispSymbols[options.key] = new parallel_1.default(diagram, options);\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Wrong symbol type!\");\r\n            }\r\n            return dispSymbols[options.key];\r\n        };\r\n        (function constructChart(symbol, prevDisp, prev) {\r\n            var dispSymb = getDisplaySymbol(symbol);\r\n            if (self.start === symbol) {\r\n                diagram.startWith(dispSymb);\r\n            }\r\n            else if (prevDisp && prev && !prevDisp.pathOk) {\r\n                if (prevDisp instanceof condition_1.default) {\r\n                    if (prev.yes === symbol) {\r\n                        prevDisp.yes(dispSymb);\r\n                    }\r\n                    if (prev.no === symbol) {\r\n                        prevDisp.no(dispSymb);\r\n                    }\r\n                }\r\n                else if (prevDisp instanceof parallel_1.default) {\r\n                    if (prev.path1 === symbol) {\r\n                        prevDisp.path1(dispSymb);\r\n                    }\r\n                    if (prev.path2 === symbol) {\r\n                        prevDisp.path2(dispSymb);\r\n                    }\r\n                    if (prev.path3 === symbol) {\r\n                        prevDisp.path3(dispSymb);\r\n                    }\r\n                }\r\n                else {\r\n                    prevDisp.then(dispSymb);\r\n                }\r\n            }\r\n            if (dispSymb.pathOk) {\r\n                return dispSymb;\r\n            }\r\n            if (dispSymb instanceof condition_1.default) {\r\n                if (symbol.yes) {\r\n                    constructChart(symbol.yes, dispSymb, symbol);\r\n                }\r\n                if (symbol.no) {\r\n                    constructChart(symbol.no, dispSymb, symbol);\r\n                }\r\n            }\r\n            else if (dispSymb instanceof parallel_1.default) {\r\n                if (symbol.path1) {\r\n                    constructChart(symbol.path1, dispSymb, symbol);\r\n                }\r\n                if (symbol.path2) {\r\n                    constructChart(symbol.path2, dispSymb, symbol);\r\n                }\r\n                if (symbol.path3) {\r\n                    constructChart(symbol.path3, dispSymb, symbol);\r\n                }\r\n            }\r\n            else if (symbol.next) {\r\n                constructChart(symbol.next, dispSymb, symbol);\r\n            }\r\n            return dispSymb;\r\n        })(this.start);\r\n        diagram.render();\r\n    },\r\n    clean: function () {\r\n        this.diagram.clean();\r\n    },\r\n    options: function () {\r\n        return this.diagram.options;\r\n    },\r\n};\r\nvar getLines = function (input) {\r\n    var lines = [];\r\n    var prevBreak = 0;\r\n    for (var index = 1, length_1 = input.length; index < length_1; index++)\r\n        if (input[index] === \"\\n\" && input[index - 1] !== \"\\\\\") {\r\n            var line = input.substring(prevBreak, index);\r\n            prevBreak = index + 1;\r\n            lines.push(line.replace(/\\\\\\n/g, \"\\n\"));\r\n        }\r\n    if (prevBreak < input.length)\r\n        lines.push(input.substr(prevBreak));\r\n    for (var index = 1, length_2 = lines.length; index < length_2;) {\r\n        var currentLine = lines[index];\r\n        if (currentLine.indexOf(\"->\") < 0 &&\r\n            currentLine.indexOf(\"=>\") < 0 &&\r\n            currentLine.indexOf(\"@>\") < 0) {\r\n            lines[index - 1] += \"\\n\" + currentLine;\r\n            lines.splice(index, 1);\r\n            length_2--;\r\n        }\r\n        else\r\n            index++;\r\n    }\r\n    return lines;\r\n};\r\nvar getStyle = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return line.substring(startIndex, endIndex);\r\n    return \"{}\";\r\n};\r\nvar getSymbolValue = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return line.substring(startIndex, endIndex);\r\n    return \"\";\r\n};\r\nvar getSymbol = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1;\r\n    var endIndex = line.indexOf(\")\");\r\n    if (startIndex >= 0 && endIndex >= 0)\r\n        return chart.symbols[line.substring(0, startIndex - 1)];\r\n    return chart.symbols[line];\r\n};\r\nvar getAnnotation = function (line) {\r\n    var startIndex = line.indexOf(\"(\") + 1, endIndex = line.indexOf(\")\");\r\n    var tmp = line.substring(startIndex, endIndex);\r\n    if (tmp.indexOf(\",\") > 0) {\r\n        tmp = tmp.substring(0, tmp.indexOf(\",\"));\r\n    }\r\n    var tmpSplit = tmp.split(\"@\");\r\n    return tmpSplit.length > 1\r\n        ? startIndex >= 0 && endIndex >= 0\r\n            ? tmpSplit[1]\r\n            : \"\"\r\n        : \"\";\r\n};\r\nexports.parse = function (input) {\r\n    if (input === void 0) { input = \"\"; }\r\n    var lines = getLines(input.trim());\r\n    var getNextPath = function (line) {\r\n        var next = \"next\";\r\n        var startIndex = line.indexOf(\"(\") + 1;\r\n        var endIndex = line.indexOf(\")\");\r\n        if (startIndex >= 0 && endIndex >= 0) {\r\n            next = flowSymb.substring(startIndex, endIndex);\r\n            if (next.indexOf(\",\") < 0)\r\n                if (next !== \"yes\" && next !== \"no\")\r\n                    next = \"next, \" + next;\r\n        }\r\n        return next;\r\n    };\r\n    while (lines.length > 0) {\r\n        var line = lines.splice(0, 1)[0].trim();\r\n        if (line.indexOf(\"=>\") >= 0) {\r\n            // definition\r\n            var parts = line.split(\"=>\");\r\n            var symbol = {\r\n                key: parts[0].replace(/\\(.*\\)/, \"\"),\r\n                symbolType: parts[1],\r\n                text: null,\r\n                link: null,\r\n                target: null,\r\n                flowstate: null,\r\n                function: null,\r\n                lineStyle: {},\r\n                params: {},\r\n            };\r\n            //parse parameters\r\n            var params = parts[0].match(/\\((.*)\\)/);\r\n            if (params && params.length > 1) {\r\n                var entries = params[1].split(\",\");\r\n                for (var i = 0; i < entries.length; i++) {\r\n                    var entry = entries[i].split(\"=\");\r\n                    if (entry.length == 2) {\r\n                        symbol.params[entry[0]] = entry[1];\r\n                    }\r\n                }\r\n            }\r\n            var sub;\r\n            if (symbol.symbolType.indexOf(\": \") >= 0) {\r\n                sub = symbol.symbolType.split(\": \");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.text = sub.join(\": \");\r\n            }\r\n            if (symbol.text && symbol.text.indexOf(\":$\") >= 0) {\r\n                sub = symbol.text.split(\":$\");\r\n                symbol.text = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":$\") >= 0) {\r\n                sub = symbol.symbolType.split(\":$\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.function = sub.join(\":$\");\r\n            }\r\n            else if (symbol.text && symbol.text.indexOf(\":>\") >= 0) {\r\n                sub = symbol.text.split(\":>\");\r\n                symbol.text = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            else if (symbol.symbolType.indexOf(\":>\") >= 0) {\r\n                sub = symbol.symbolType.split(\":>\");\r\n                symbol.symbolType = sub.shift();\r\n                symbol.link = sub.join(\":>\");\r\n            }\r\n            if (symbol.symbolType.indexOf(\"\\n\") >= 0) {\r\n                symbol.symbolType = symbol.symbolType.split(\"\\n\")[0];\r\n            }\r\n            /* adding support for links */\r\n            if (symbol.link) {\r\n                var startIndex = symbol.link.indexOf(\"[\") + 1;\r\n                var endIndex = symbol.link.indexOf(\"]\");\r\n                if (startIndex >= 0 && endIndex >= 0) {\r\n                    symbol.target = symbol.link.substring(startIndex, endIndex);\r\n                    symbol.link = symbol.link.substring(0, startIndex - 1);\r\n                }\r\n            }\r\n            /* end of link support */\r\n            /* adding support for flowstates */\r\n            if (symbol.text) {\r\n                if (symbol.text.indexOf(\"|\") >= 0) {\r\n                    var txtAndState = symbol.text.split(\"|\");\r\n                    symbol.flowstate = txtAndState.pop().trim();\r\n                    symbol.text = txtAndState.join(\"|\");\r\n                }\r\n            }\r\n            /* end of flowstate support */\r\n            chart.symbols[symbol.key] = symbol;\r\n        }\r\n        else if (line.indexOf(\"->\") >= 0) {\r\n            var ann = getAnnotation(line);\r\n            if (ann) {\r\n                line = line.replace(\"@\" + ann, \"\");\r\n            }\r\n            // flow\r\n            var flowSymbols = line.split(\"->\");\r\n            for (var iS = 0, lenS = flowSymbols.length; iS < lenS; iS++) {\r\n                var flowSymb = flowSymbols[iS];\r\n                var symbVal = getSymbolValue(flowSymb);\r\n                if (symbVal === \"true\" || symbVal === \"false\") {\r\n                    // map true or false to yes or no respectively\r\n                    flowSymb = flowSymb.replace(\"true\", \"yes\");\r\n                    flowSymb = flowSymb.replace(\"false\", \"no\");\r\n                }\r\n                var next = getNextPath(flowSymb);\r\n                var realSymb = getSymbol(flowSymb);\r\n                var direction = null;\r\n                if (next.indexOf(\",\") >= 0) {\r\n                    var condOpt = next.split(\",\");\r\n                    next = condOpt[0];\r\n                    direction = condOpt[1].trim();\r\n                }\r\n                if (ann) {\r\n                    if (next == \"yes\" || next == \"true\")\r\n                        realSymb.yes_annotation = ann;\r\n                    else\r\n                        realSymb.no_annotation = ann;\r\n                    ann = null;\r\n                }\r\n                if (!chart.start) {\r\n                    chart.start = realSymb;\r\n                }\r\n                if (iS + 1 < lenS) {\r\n                    var nextSymb = flowSymbols[iS + 1];\r\n                    realSymb[next] = getSymbol(nextSymb);\r\n                    realSymb[\"direction_\" + next] = direction;\r\n                    direction = null;\r\n                }\r\n            }\r\n        }\r\n        else if (line.indexOf(\"@>\") >= 0) {\r\n            // line style\r\n            var lineStyleSymbols = line.split(\"@>\");\r\n            for (var iSS = 0, lenSS = lineStyleSymbols.length; iSS < lenSS; iSS++) {\r\n                if (iSS + 1 !== lenSS) {\r\n                    var curSymb = getSymbol(lineStyleSymbols[iSS]);\r\n                    var nextSymbol = getSymbol(lineStyleSymbols[iSS + 1]);\r\n                    curSymb[\"lineStyle\"][nextSymbol.key] = JSON.parse(getStyle(lineStyleSymbols[iSS + 1]));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return chart;\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar action_1 = require(\"../action\");\r\nvar Condition = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Condition, _super);\r\n    function Condition(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.yes_annotation = options.yes_annotation;\r\n        _this.no_annotation = options.no_annotation;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.yes_direction = options.direction_yes;\r\n        _this.no_direction = options.direction_no;\r\n        _this.params = options.params;\r\n        if (!_this.no_direction && _this.yes_direction === \"right\") {\r\n            _this.no_direction = \"bottom\";\r\n        }\r\n        else if (!_this.yes_direction && _this.no_direction === \"bottom\") {\r\n            _this.yes_direction = \"right\";\r\n        }\r\n        _this.yes_direction = _this.yes_direction || \"bottom\";\r\n        _this.no_direction = _this.no_direction || \"right\";\r\n        _this.text.attr({\r\n            x: _this.textMargin * 2,\r\n        });\r\n        var width = _this.text.getBBox().width + 3 * _this.textMargin;\r\n        width += width / 2;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        height += height / 2;\r\n        height = Math.max(width * 0.5, height);\r\n        var startX = width / 4;\r\n        var startY = height / 4;\r\n        _this.text.attr({\r\n            x: startX + _this.textMargin / 2,\r\n        });\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 + height / 2,\r\n            },\r\n            { x: startX - width / 4 + width, y: startY + height / 4 },\r\n            {\r\n                x: startX - width / 4 + width / 2,\r\n                y: startY + height / 4 - height / 2,\r\n            },\r\n            { x: startX - width / 4, y: startY + height / 4 },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link) {\r\n            symbol.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            symbol.attr(\"target\", options.target);\r\n        }\r\n        if (options.key) {\r\n            symbol.node.id = options.key;\r\n        }\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({\r\n            y: symbol.getBBox().height / 2,\r\n        });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Condition.prototype.render = function () {\r\n        if (this.yes_direction) {\r\n            this[this.yes_direction + \"_symbol\"] = this.yes_symbol;\r\n        }\r\n        if (this.no_direction) {\r\n            this[this.no_direction + \"_symbol\"] = this.no_symbol;\r\n        }\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                var self = this;\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.right_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.right_symbol.getCenter().y &&\r\n                                diff <= self.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.right_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                var self = this;\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.left_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.left_symbol.getCenter().y &&\r\n                                diff <= self.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.left_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.renderLines = function () {\r\n        if (this.yes_symbol) {\r\n            this.drawLineTo(this.yes_symbol, this.yes_annotation ? this.yes_annotation : this.getAttr(\"yes-text\"), this.yes_direction);\r\n        }\r\n        if (this.no_symbol) {\r\n            this.drawLineTo(this.no_symbol, this.no_annotation ? this.no_annotation : this.getAttr(\"no-text\"), this.no_direction);\r\n        }\r\n    };\r\n    return Condition;\r\n}(util_1.default));\r\nexports.default = Condition;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar End = /** @class */ (function (_super) {\r\n    tslib_1.__extends(End, _super);\r\n    function End(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return End;\r\n}(util_1.default));\r\nexports.default = End;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar action_1 = require(\"../action\");\r\nvar InputOutput = /** @class */ (function (_super) {\r\n    tslib_1.__extends(InputOutput, _super);\r\n    function InputOutput(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, chart, options) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.text.attr({\r\n            x: _this.textMargin * 3,\r\n        });\r\n        var width = _this.text.getBBox().width + 4 * _this.textMargin;\r\n        var height = _this.text.getBBox().height + 2 * _this.textMargin;\r\n        var startX = _this.textMargin;\r\n        var startY = height / 2;\r\n        var start = { x: startX, y: startY };\r\n        var points = [\r\n            { x: startX - _this.textMargin, y: height },\r\n            { x: startX - _this.textMargin + width, y: height },\r\n            { x: startX - _this.textMargin + width + 2 * _this.textMargin, y: 0 },\r\n            { x: startX - _this.textMargin + 2 * _this.textMargin, y: 0 },\r\n            { x: startX, y: startY },\r\n        ];\r\n        var symbol = action_1.drawPath(chart, start, points);\r\n        symbol.attr({\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.link) {\r\n            symbol.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            symbol.attr(\"target\", options.target);\r\n        }\r\n        if (options.key) {\r\n            symbol.node.id = options.key;\r\n        }\r\n        symbol.node.setAttribute(\"class\", _this.getAttr(\"class\"));\r\n        _this.text.attr({\r\n            y: symbol.getBBox().height / 2,\r\n        });\r\n        _this.group.push(symbol);\r\n        symbol.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    InputOutput.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    InputOutput.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width - this.textMargin;\r\n        return { x: x, y: y };\r\n    };\r\n    return InputOutput;\r\n}(util_1.default));\r\nexports.default = InputOutput;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Operation = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Operation, _super);\r\n    function Operation(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 0);\r\n        options.text = options.text || \"End\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Operation;\r\n}(util_1.default));\r\nexports.default = Operation;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Parallel = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Parallel, _super);\r\n    function Parallel(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        _this.textMargin = _this.getAttr(\"text-margin\");\r\n        _this.path1_direction = \"bottom\";\r\n        _this.path2_direction = \"right\";\r\n        _this.path3_direction = \"top\";\r\n        _this.params = options.params;\r\n        if (options.direction_next === \"path1\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path2\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.direction_next === \"path3\" &&\r\n            !options[options.direction_next] &&\r\n            options.next) {\r\n            options[options.direction_next] = options.next;\r\n        }\r\n        if (options.path1 &&\r\n            options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path1 === \"right\") {\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path1_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path1 === \"top\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"top\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else if (options.direction_path1 === \"left\") {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"left\";\r\n                _this.path3_direction = \"bottom\";\r\n            }\r\n            else {\r\n                _this.path2_direction = \"right\";\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            options.direction_path2 &&\r\n            options.path3 &&\r\n            !options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"left\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else if (options.path1 &&\r\n            !options.direction_path1 &&\r\n            options.path2 &&\r\n            !options.direction_path2 &&\r\n            options.path3 &&\r\n            options.direction_path3) {\r\n            if (options.direction_path2 === \"right\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"top\";\r\n                _this.path3_direction = \"right\";\r\n            }\r\n            else if (options.direction_path2 === \"left\") {\r\n                _this.path1_direction = \"bottom\";\r\n                _this.path2_direction = \"right\";\r\n                _this.path3_direction = \"left\";\r\n            }\r\n            else {\r\n                _this.path1_direction = \"right\";\r\n                _this.path2_direction = \"bottom\";\r\n                _this.path3_direction = \"top\";\r\n            }\r\n        }\r\n        else {\r\n            _this.path1_direction = options.direction_path1;\r\n            _this.path2_direction = options.direction_path2;\r\n            _this.path3_direction = options.direction_path3;\r\n        }\r\n        _this.path1_direction = _this.path1_direction || \"bottom\";\r\n        _this.path2_direction = _this.path2_direction || \"right\";\r\n        _this.path3_direction = _this.path3_direction || \"top\";\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Parallel.prototype.render = function () {\r\n        if (this.path1_direction) {\r\n            this[this.path1_direction + \"_symbol\"] = this.path1_symbol;\r\n        }\r\n        if (this.path2_direction) {\r\n            this[this.path2_direction + \"_symbol\"] = this.path2_symbol;\r\n        }\r\n        if (this.path3_direction) {\r\n            this[this.path3_direction + \"_symbol\"] = this.path3_symbol;\r\n        }\r\n        var lineLength = this.getAttr(\"line-length\");\r\n        if (this.bottom_symbol) {\r\n            var bottomPoint = this.getBottom();\r\n            if (!this.bottom_symbol.isPositioned) {\r\n                this.bottom_symbol.shiftY(this.getY() + this.height + lineLength);\r\n                this.bottom_symbol.setX(bottomPoint.x - this.bottom_symbol.width / 2);\r\n                this.bottom_symbol.isPositioned = true;\r\n                this.bottom_symbol.render();\r\n            }\r\n        }\r\n        if (this.top_symbol) {\r\n            var topPoint = this.getTop();\r\n            if (!this.top_symbol.isPositioned) {\r\n                this.top_symbol.shiftY(this.getY() - this.top_symbol.height - lineLength);\r\n                this.top_symbol.setX(topPoint.x + this.top_symbol.width);\r\n                this.top_symbol.isPositioned = true;\r\n                this.top_symbol.render();\r\n            }\r\n        }\r\n        var self = this;\r\n        if (this.left_symbol) {\r\n            var leftPoint = this.getLeft();\r\n            if (!this.left_symbol.isPositioned) {\r\n                this.left_symbol.setY(leftPoint.y - this.left_symbol.height / 2);\r\n                this.left_symbol.shiftX(-(this.group.getBBox().x + this.width + lineLength));\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.left_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.left_symbol.getCenter().y &&\r\n                                diff <= self.left_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.left_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.left_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.left_symbol.isPositioned = true;\r\n                this.left_symbol.render();\r\n            }\r\n        }\r\n        if (this.right_symbol) {\r\n            var rightPoint = this.getRight();\r\n            if (!this.right_symbol.isPositioned) {\r\n                this.right_symbol.setY(rightPoint.y - this.right_symbol.height / 2);\r\n                this.right_symbol.shiftX(this.group.getBBox().x + this.width + lineLength);\r\n                (function shift() {\r\n                    var hasSymbolUnder = false;\r\n                    var symb;\r\n                    for (var i = 0, len = self.chart.symbols.length; i < len; i++) {\r\n                        symb = self.chart.symbols[i];\r\n                        if (!self.params[\"align-next\"] ||\r\n                            self.params[\"align-next\"] !== \"no\") {\r\n                            var diff = Math.abs(symb.getCenter().x - self.right_symbol.getCenter().x);\r\n                            if (symb.getCenter().y > self.right_symbol.getCenter().y &&\r\n                                diff <= self.right_symbol.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasSymbolUnder) {\r\n                        if (self.right_symbol.symbolType === \"end\")\r\n                            return;\r\n                        self.right_symbol.setX(symb.getX() + symb.width + lineLength);\r\n                        shift();\r\n                    }\r\n                })();\r\n                this.right_symbol.isPositioned = true;\r\n                this.right_symbol.render();\r\n            }\r\n        }\r\n    };\r\n    Parallel.prototype.renderLines = function () {\r\n        if (this.path1_symbol) {\r\n            this.drawLineTo(this.path1_symbol, \"\", this.path1_direction);\r\n        }\r\n        if (this.path2_symbol) {\r\n            this.drawLineTo(this.path2_symbol, \"\", this.path2_direction);\r\n        }\r\n        if (this.path3_symbol) {\r\n            this.drawLineTo(this.path3_symbol, \"\", this.path3_direction);\r\n        }\r\n    };\r\n    return Parallel;\r\n}(util_1.default));\r\nexports.default = Parallel;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Start = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Start, _super);\r\n    function Start(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0, 20);\r\n        options.text = options.text || \"Start\";\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        return _this;\r\n    }\r\n    return Start;\r\n}(util_1.default));\r\nexports.default = Start;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = tslib_1.__importDefault(require(\"./util\"));\r\nvar Subroutine = /** @class */ (function (_super) {\r\n    tslib_1.__extends(Subroutine, _super);\r\n    function Subroutine(chart, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        var symbol = chart.paper.rect(0, 0, 0, 0);\r\n        _this = _super.call(this, chart, options, symbol) || this;\r\n        symbol.attr({\r\n            width: _this.text.getBBox().width + 4 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        _this.text.attr({\r\n            x: 2 * _this.getAttr(\"text-margin\"),\r\n        });\r\n        var innerWrap = chart.paper.rect(0, 0, 0, 0);\r\n        innerWrap.attr({\r\n            x: _this.getAttr(\"text-margin\"),\r\n            stroke: _this.getAttr(\"element-color\"),\r\n            \"stroke-width\": _this.getAttr(\"line-width\"),\r\n            width: _this.text.getBBox().width + 2 * _this.getAttr(\"text-margin\"),\r\n            height: _this.text.getBBox().height + 2 * _this.getAttr(\"text-margin\"),\r\n            fill: _this.getAttr(\"fill\"),\r\n        });\r\n        if (options.key) {\r\n            innerWrap.node.id = options.key + \"i\";\r\n        }\r\n        var font = _this.getAttr(\"font\");\r\n        var fontF = _this.getAttr(\"font-family\");\r\n        var fontW = _this.getAttr(\"font-weight\");\r\n        if (font)\r\n            innerWrap.attr({ font: font });\r\n        if (fontF)\r\n            innerWrap.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            innerWrap.attr({ \"font-weight\": fontW });\r\n        if (options.link) {\r\n            innerWrap.attr(\"href\", options.link);\r\n        }\r\n        if (options.target) {\r\n            innerWrap.attr(\"target\", options.target);\r\n        }\r\n        _this.group.push(innerWrap);\r\n        innerWrap.insertBefore(_this.text);\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    return Subroutine;\r\n}(util_1.default));\r\nexports.default = Subroutine;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar action_1 = require(\"../action\");\r\nvar FlowChartSymbol = /** @class */ (function () {\r\n    function FlowChartSymbol(chart, options, symbol) {\r\n        this.chart = chart;\r\n        this.group = this.chart.paper.set();\r\n        this.symbol = symbol;\r\n        this.connectedTo = [];\r\n        this.symbolType = options.symbolType;\r\n        this.flowstate = options.flowstate || \"future\";\r\n        this.lineStyle = options.lineStyle || {};\r\n        this.key = options.key || \"\";\r\n        this.leftLines = [];\r\n        this.rightLines = [];\r\n        this.topLines = [];\r\n        this.bottomLines = [];\r\n        this.next_direction =\r\n            options.next && options[\"direction_next\"]\r\n                ? options[\"direction_next\"]\r\n                : undefined;\r\n        this.text = this.chart.paper.text(0, 0, options.text);\r\n        //Raphael does not support the svg group tag so setting the text node id to the symbol node id plus t\r\n        if (options.key) {\r\n            this.text.node.id = options.key + \"t\";\r\n        }\r\n        this.text.node.setAttribute(\"class\", this.getAttr(\"class\") + \"t\");\r\n        this.text.attr({\r\n            \"text-anchor\": \"start\",\r\n            x: this.getAttr(\"text-margin\"),\r\n            fill: this.getAttr(\"font-color\"),\r\n            \"font-size\": this.getAttr(\"font-size\"),\r\n        });\r\n        var font = this.getAttr(\"font\");\r\n        var fontF = this.getAttr(\"font-family\");\r\n        var fontW = this.getAttr(\"font-weight\");\r\n        if (font)\r\n            this.text.attr({ font: font });\r\n        if (fontF)\r\n            this.text.attr({ \"font-family\": fontF });\r\n        if (fontW)\r\n            this.text.attr({ \"font-weight\": fontW });\r\n        if (options.link)\r\n            this.text.attr(\"href\", options.link);\r\n        //ndrqu Add click function with event and options params\r\n        if (options.function) {\r\n            this.text.attr({ cursor: \"pointer\" });\r\n            this.text.node.addEventListener(\"click\", function (event) {\r\n                window[options.function](event, options);\r\n            }, false);\r\n        }\r\n        if (options.target) {\r\n            this.text.attr(\"target\", options.target);\r\n        }\r\n        var maxWidth = this.getAttr(\"maxWidth\");\r\n        if (maxWidth) {\r\n            // using this approach: http://stackoverflow.com/a/3153457/22466\r\n            var words = options.text.split(\" \");\r\n            var tempText = \"\";\r\n            for (var i = 0, ii = words.length; i < ii; i++) {\r\n                var word = words[i];\r\n                this.text.attr(\"text\", tempText + \" \" + word);\r\n                if (this.text.getBBox().width > maxWidth) {\r\n                    tempText += \"\\n\" + word;\r\n                }\r\n                else {\r\n                    tempText += \" \" + word;\r\n                }\r\n            }\r\n            this.text.attr(\"text\", tempText.substring(1));\r\n        }\r\n        this.group.push(this.text);\r\n        if (symbol) {\r\n            var tmpMargin = this.getAttr(\"text-margin\");\r\n            symbol.attr({\r\n                fill: this.getAttr(\"fill\"),\r\n                stroke: this.getAttr(\"element-color\"),\r\n                \"stroke-width\": this.getAttr(\"line-width\"),\r\n                width: this.text.getBBox().width + 2 * tmpMargin,\r\n                height: this.text.getBBox().height + 2 * tmpMargin,\r\n            });\r\n            symbol.node.setAttribute(\"class\", this.getAttr(\"class\"));\r\n            if (options.link)\r\n                symbol.attr(\"href\", options.link);\r\n            if (options.target)\r\n                symbol.attr(\"target\", options.target);\r\n            //ndrqu Add click function with event and options params\r\n            if (options.function) {\r\n                symbol.node.addEventListener(\"click\", function (event) {\r\n                    window[options.function](event, options);\r\n                }, false);\r\n                symbol.attr({ cursor: \"pointer\" });\r\n            }\r\n            if (options.key)\r\n                symbol.node.id = options.key;\r\n            this.group.push(symbol);\r\n            symbol.insertBefore(this.text);\r\n            this.text.attr({\r\n                y: symbol.getBBox().height / 2,\r\n            });\r\n            this.initialize();\r\n        }\r\n    }\r\n    /* Gets the attribute based on Flowstate, Symbol-Name and default, first found wins */\r\n    FlowChartSymbol.prototype.getAttr = function (attName) {\r\n        if (!this.chart) {\r\n            return undefined;\r\n        }\r\n        var opt3 = this.chart.options ? this.chart.options[attName] : undefined;\r\n        var opt2 = this.chart.options.symbols\r\n            ? this.chart.options.symbols[this.symbolType][attName]\r\n            : undefined;\r\n        var opt1;\r\n        if (this.chart.options.flowstate &&\r\n            this.chart.options.flowstate[this.flowstate]) {\r\n            opt1 = this.chart.options.flowstate[this.flowstate][attName];\r\n        }\r\n        return opt1 || opt2 || opt3;\r\n    };\r\n    FlowChartSymbol.prototype.initialize = function () {\r\n        this.group.transform(\"t\" + this.getAttr(\"line-width\") + \",\" + this.getAttr(\"line-width\"));\r\n        this.width = this.group.getBBox().width;\r\n        this.height = this.group.getBBox().height;\r\n    };\r\n    FlowChartSymbol.prototype.getCenter = function () {\r\n        return {\r\n            x: this.getX() + this.width / 2,\r\n            y: this.getY() + this.height / 2,\r\n        };\r\n    };\r\n    FlowChartSymbol.prototype.getX = function () {\r\n        return this.group.getBBox().x;\r\n    };\r\n    FlowChartSymbol.prototype.getY = function () {\r\n        return this.group.getBBox().y;\r\n    };\r\n    FlowChartSymbol.prototype.shiftX = function (x) {\r\n        this.group.transform(\"t\" + (this.getX() + x) + \",\" + this.getY());\r\n    };\r\n    FlowChartSymbol.prototype.setX = function (x) {\r\n        this.group.transform(\"t\" + x + \",\" + this.getY());\r\n    };\r\n    FlowChartSymbol.prototype.shiftY = function (y) {\r\n        this.group.transform(\"t\" + this.getX() + \",\" + (this.getY() + y));\r\n    };\r\n    FlowChartSymbol.prototype.setY = function (y) {\r\n        this.group.transform(\"t\" + this.getX() + \",\" + y);\r\n    };\r\n    FlowChartSymbol.prototype.getTop = function () {\r\n        var y = this.getY();\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getBottom = function () {\r\n        var y = this.getY() + this.height;\r\n        var x = this.getX() + this.width / 2;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getLeft = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX();\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.getRight = function () {\r\n        var y = this.getY() + this.group.getBBox().height / 2;\r\n        var x = this.getX() + this.group.getBBox().width;\r\n        return { x: x, y: y };\r\n    };\r\n    FlowChartSymbol.prototype.render = function () {\r\n        if (this.next) {\r\n            var self_1 = this;\r\n            var lineLength_1 = this.getAttr(\"line-length\");\r\n            if (this.next_direction === \"right\") {\r\n                var rightPoint = this.getRight();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(rightPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(this.group.getBBox().x + this.width + lineLength_1);\r\n                    (function shift() {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var i = 0, len = self_1.chart.symbols.length; i < len; i++) {\r\n                            symb = self_1.chart.symbols[i];\r\n                            var diff = Math.abs(symb.getCenter().x - self_1.next.getCenter().x);\r\n                            if (symb.getCenter().y > self_1.next.getCenter().y &&\r\n                                diff <= self_1.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (self_1.next.symbolType === \"end\")\r\n                                return;\r\n                            self_1.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift();\r\n                        }\r\n                    })();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else if (this.next_direction === \"left\") {\r\n                var leftPoint = this.getLeft();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.setY(leftPoint.y - this.next.height / 2);\r\n                    this.next.shiftX(-(this.group.getBBox().x + this.width + lineLength_1));\r\n                    (function shift() {\r\n                        var hasSymbolUnder = false;\r\n                        var symb;\r\n                        for (var i = 0, len = self_1.chart.symbols.length; i < len; i++) {\r\n                            symb = self_1.chart.symbols[i];\r\n                            var diff = Math.abs(symb.getCenter().x - self_1.next.getCenter().x);\r\n                            if (symb.getCenter().y > self_1.next.getCenter().y &&\r\n                                diff <= self_1.next.width / 2) {\r\n                                hasSymbolUnder = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (hasSymbolUnder) {\r\n                            if (self_1.next.symbolType === \"end\")\r\n                                return;\r\n                            self_1.next.setX(symb.getX() + symb.width + lineLength_1);\r\n                            shift();\r\n                        }\r\n                    })();\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n            else {\r\n                var bottomPoint = this.getBottom();\r\n                if (!this.next.isPositioned) {\r\n                    this.next.shiftY(this.getY() + this.height + lineLength_1);\r\n                    this.next.setX(bottomPoint.x - this.next.width / 2);\r\n                    this.next.isPositioned = true;\r\n                    this.next.render();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    FlowChartSymbol.prototype.renderLines = function () {\r\n        if (this.next) {\r\n            if (this.next_direction) {\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\", this.next_direction);\r\n            }\r\n            else {\r\n                this.drawLineTo(this.next, this.getAttr(\"arrow-text\") || \"\");\r\n            }\r\n        }\r\n    };\r\n    FlowChartSymbol.prototype.drawLineTo = function (symbol, text, origin) {\r\n        if (this.connectedTo.indexOf(symbol) < 0) {\r\n            this.connectedTo.push(symbol);\r\n        }\r\n        var x = this.getCenter().x, y = this.getCenter().y, right = this.getRight(), bottom = this.getBottom(), top = this.getTop(), left = this.getLeft();\r\n        var symbolX = symbol.getCenter().x, symbolY = symbol.getCenter().y, symbolTop = symbol.getTop(), symbolRight = symbol.getRight(), symbolLeft = symbol.getLeft();\r\n        var isOnSameColumn = x === symbolX, isOnSameLine = y === symbolY, isUnder = y < symbolY, isUpper = y > symbolY || this === symbol, isLeft = x > symbolX, isRight = x < symbolX;\r\n        var maxX = 0, line, yOffset, lineLength = this.getAttr(\"line-length\"), lineWith = this.getAttr(\"line-width\");\r\n        if ((!origin || origin === \"bottom\") && isOnSameColumn && isUnder) {\r\n            if (symbol.topLines.length === 0 && this.bottomLines.length === 0) {\r\n                line = action_1.drawLine(this.chart, bottom, symbolTop, text);\r\n            }\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n        }\r\n        else if ((!origin || origin === \"right\") && isOnSameLine && isRight) {\r\n            if (symbol.leftLines.length === 0 && this.rightLines.length === 0) {\r\n                line = action_1.drawLine(this.chart, right, symbolLeft, text);\r\n            }\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.leftLines.length, this.rightLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y - yOffset },\r\n                    { x: symbolLeft.x, y: symbolLeft.y },\r\n                ], text);\r\n            }\r\n            this.rightLines.push(line);\r\n            symbol.leftLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.leftEnd = true;\r\n            maxX = symbolLeft.x;\r\n        }\r\n        else if ((!origin || origin === \"left\") && isOnSameLine && isLeft) {\r\n            if (symbol.rightLines.length === 0 && this.leftLines.length === 0) {\r\n                line = action_1.drawLine(this.chart, left, symbolRight, text);\r\n            }\r\n            else {\r\n                yOffset =\r\n                    Math.max(symbol.rightLines.length, this.leftLines.length) * 10;\r\n                line = action_1.drawLine(this.chart, right, [\r\n                    { x: right.x, y: right.y - yOffset },\r\n                    { x: right.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y - yOffset },\r\n                    { x: symbolRight.x, y: symbolRight.y },\r\n                ], text);\r\n            }\r\n            this.leftLines.push(line);\r\n            symbol.rightLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.rightEnd = true;\r\n            maxX = symbolRight.x;\r\n        }\r\n        else if ((!origin || origin === \"right\") && isOnSameColumn && isUpper) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!origin || origin === \"right\") && isOnSameColumn && isUnder) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if ((!origin || origin === \"bottom\") && isLeft) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            if (this.leftEnd && isUpper) {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: bottom.y + lineLength / 2 - yOffset,\r\n                    },\r\n                    {\r\n                        x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                        y: symbolTop.y - lineLength / 2 - yOffset,\r\n                    },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            else {\r\n                line = action_1.drawLine(this.chart, bottom, [\r\n                    { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                    { x: symbolTop.x, y: symbolTop.y },\r\n                ], text);\r\n            }\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if ((!origin || origin === \"bottom\") && isRight && isUnder) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x;\r\n            if (symbolTop.x > maxX)\r\n                maxX = symbolTop.x;\r\n        }\r\n        else if ((!origin || origin === \"bottom\") && isRight) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: bottom.x + (bottom.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + (bottom.x - symbolTop.x) / 2;\r\n        }\r\n        else if (origin && origin === \"right\" && isLeft) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: right.x + lineLength / 2, y: right.y },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (origin && origin === \"right\" && isRight) {\r\n            yOffset = Math.max(symbol.topLines.length, this.rightLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, right, [\r\n                { x: symbolTop.x, y: right.y - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - yOffset },\r\n            ], text);\r\n            this.rightLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.rightStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = right.x + lineLength / 2;\r\n        }\r\n        else if (origin && origin === \"bottom\" && isOnSameColumn && isUpper) {\r\n            yOffset = Math.max(symbol.topLines.length, this.bottomLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, bottom, [\r\n                { x: bottom.x, y: bottom.y + lineLength / 2 - yOffset },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: bottom.y + lineLength / 2 - yOffset,\r\n                },\r\n                {\r\n                    x: right.x + lineLength / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.bottomLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.bottomStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = bottom.x + lineLength / 2;\r\n        }\r\n        else if (origin === \"left\" && isOnSameColumn && isUpper) {\r\n            var diffX = left.x - lineLength / 2;\r\n            if (symbolLeft.x < left.x) {\r\n                diffX = symbolLeft.x - lineLength / 2;\r\n            }\r\n            yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: diffX, y: left.y - yOffset },\r\n                { x: diffX, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (origin === \"left\") {\r\n            yOffset = Math.max(symbol.topLines.length, this.leftLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, left, [\r\n                { x: symbolTop.x + (left.x - symbolTop.x) / 2, y: left.y },\r\n                {\r\n                    x: symbolTop.x + (left.x - symbolTop.x) / 2,\r\n                    y: symbolTop.y - lineLength / 2 - yOffset,\r\n                },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.leftLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.leftStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = left.x;\r\n        }\r\n        else if (origin === \"top\") {\r\n            yOffset = Math.max(symbol.topLines.length, this.topLines.length) * 10;\r\n            line = action_1.drawLine(this.chart, top, [\r\n                { x: top.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y - lineLength / 2 - yOffset },\r\n                { x: symbolTop.x, y: symbolTop.y },\r\n            ], text);\r\n            this.topLines.push(line);\r\n            symbol.topLines.push(line);\r\n            this.topStart = true;\r\n            symbol.topEnd = true;\r\n            maxX = top.x;\r\n        }\r\n        //update line style\r\n        if (this.lineStyle[symbol.key] && line) {\r\n            line.attr(this.lineStyle[symbol.key]);\r\n        }\r\n        if (line) {\r\n            for (var l = 0, llen = this.chart.lines.length; l < llen; l++) {\r\n                var otherLine = this.chart.lines[l];\r\n                var ePath = otherLine.attr(\"path\"), lPath = line.attr(\"path\");\r\n                for (var iP = 0, lenP = ePath.length - 1; iP < lenP; iP++) {\r\n                    var newPath = [];\r\n                    newPath.push([\"M\", ePath[iP][1], ePath[iP][2]]);\r\n                    newPath.push([\"L\", ePath[iP + 1][1], ePath[iP + 1][2]]);\r\n                    var line1_from_x = newPath[0][1];\r\n                    var line1_from_y = newPath[0][2];\r\n                    var line1_to_x = newPath[1][1];\r\n                    var line1_to_y = newPath[1][2];\r\n                    for (var lP = 0, lenlP = lPath.length - 1; lP < lenlP; lP++) {\r\n                        var newLinePath = [];\r\n                        newLinePath.push([\"M\", lPath[lP][1], lPath[lP][2]]);\r\n                        newLinePath.push([\"L\", lPath[lP + 1][1], lPath[lP + 1][2]]);\r\n                        var line2_from_x = newLinePath[0][1];\r\n                        var line2_from_y = newLinePath[0][2];\r\n                        var line2_to_x = newLinePath[1][1];\r\n                        var line2_to_y = newLinePath[1][2];\r\n                        var res = action_1.checkLineIntersection(line1_from_x, line1_from_y, line1_to_x, line1_to_y, line2_from_x, line2_from_y, line2_to_x, line2_to_y);\r\n                        if (res.onLine1 && res.onLine2) {\r\n                            var newSegment;\r\n                            if (line2_from_y === line2_to_y) {\r\n                                if (line2_from_x > line2_to_x) {\r\n                                    newSegment = [\"L\", res.x + lineWith * 2, line2_from_y];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x + lineWith * 2,\r\n                                        line2_from_y,\r\n                                        res.x,\r\n                                        line2_from_y - lineWith * 4,\r\n                                        res.x - lineWith * 2,\r\n                                        line2_from_y,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", res.x - lineWith * 2, line2_from_y];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        res.x - lineWith * 2,\r\n                                        line2_from_y,\r\n                                        res.x,\r\n                                        line2_from_y - lineWith * 4,\r\n                                        res.x + lineWith * 2,\r\n                                        line2_from_y,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (line2_from_y > line2_to_y) {\r\n                                    newSegment = [\"L\", line2_from_x, res.y + lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2_from_x,\r\n                                        res.y + lineWith * 2,\r\n                                        line2_from_x + lineWith * 4,\r\n                                        res.y,\r\n                                        line2_from_x,\r\n                                        res.y - lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                                else {\r\n                                    newSegment = [\"L\", line2_from_x, res.y - lineWith * 2];\r\n                                    lPath.splice(lP + 1, 0, newSegment);\r\n                                    newSegment = [\r\n                                        \"C\",\r\n                                        line2_from_x,\r\n                                        res.y - lineWith * 2,\r\n                                        line2_from_x + lineWith * 4,\r\n                                        res.y,\r\n                                        line2_from_x,\r\n                                        res.y + lineWith * 2,\r\n                                    ];\r\n                                    lPath.splice(lP + 2, 0, newSegment);\r\n                                    line.attr(\"path\", lPath);\r\n                                }\r\n                            }\r\n                            lP += 2;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.chart.lines.push(line);\r\n            if (this.chart.minXFromSymbols === undefined ||\r\n                this.chart.minXFromSymbols > left.x) {\r\n                this.chart.minXFromSymbols = left.x;\r\n            }\r\n        }\r\n        if (!this.chart.maxXFromLine ||\r\n            (this.chart.maxXFromLine && maxX > this.chart.maxXFromLine)) {\r\n            this.chart.maxXFromLine = maxX;\r\n        }\r\n    };\r\n    return FlowChartSymbol;\r\n}());\r\nexports.default = FlowChartSymbol;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.merge = void 0;\r\nexports.merge = function (options, defaultOptions) {\r\n    if (!options || typeof options === \"function\")\r\n        return defaultOptions;\r\n    var merged = {};\r\n    for (var attrname in defaultOptions)\r\n        merged[attrname] = defaultOptions[attrname];\r\n    for (var attrname in options) {\r\n        if (options[attrname]) {\r\n            if (typeof merged[attrname] === \"object\") {\r\n                merged[attrname] = exports.merge(merged[attrname], options[attrname]);\r\n            }\r\n            else {\r\n                merged[attrname] = options[attrname];\r\n            }\r\n        }\r\n    }\r\n    return merged;\r\n};\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = Raphael;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(568);\n"],"sourceRoot":""}